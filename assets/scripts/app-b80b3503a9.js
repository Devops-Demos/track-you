/******/!function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}// webpackBootstrap
/******/
var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var n=i(1),s=a(n),r=i(2),l=a(r),o=i(3),c=a(o),d=i(4),u=a(d),p=i(5),v=a(p),g=i(6),f=a(g),m=i(7),h=a(m),E=i(8),I=a(E),_=i(9),S=a(_),y=i(10),b=a(y),k=i(11),A=a(k),C=i(12),T=a(C),D=i(13),R=a(D),O=i(14),w=a(O),M=i(15),N=a(M),P=i(16),L=a(P),$=i(17),F=a($),U=i(18),x=a(U),K=i(19),V=a(K),H=i(20),j=a(H),q=i(21),G=a(q),W=i(22),Y=a(W),B=i(23),Q=a(B),z=i(24),J=a(z),X=i(25),Z=a(X),tt=i(26),et=a(tt),it=i(27),at=a(it),nt=i(28),st=a(nt),rt=i(29),lt=a(rt),ot=i(30),ct=a(ot),dt=i(31),ut=a(dt),pt=i(32),vt=a(pt),gt=i(33),ft=a(gt),mt=i(34),ht=a(mt),Et=i(35),It=a(Et),_t=i(36),St=a(_t),yt=i(37),bt=a(yt),kt=i(38),At=a(kt),Ct=i(39),Tt=a(Ct),Dt=i(40),Rt=a(Dt),Ot=i(41),wt=a(Ot),Mt=i(42),Nt=a(Mt),Pt=i(43),Lt=a(Pt),$t=i(44),Ft=a($t),Ut=i(45),xt=a(Ut),Kt=i(46),Vt=a(Kt),Ht=i(47),jt=a(Ht),qt=i(48),Gt=a(qt),Wt=i(49),Yt=a(Wt),Bt=i(50),Qt=a(Bt),zt=i(51),Jt=a(zt),Xt=i(52),Zt=a(Xt),te=i(53),ee=a(te),ie=i(54),ae=a(ie);angular.module("pushApp",["ngRoute","dibari.angular-ellipsis","ui.grid","ui.grid.pagination","ngSanitize","ngTouch","rt.asyncseries","pascalprecht.translate","ngAnimate","isteven-multi-select"]).config(s["default"]).config(l["default"]).constant("pushAppConstants",c["default"]()).run(u["default"]).service("DataService",st["default"]).service("AuthService",lt["default"]).service("HighChartService",ct["default"]).service("HeaderAdapter",St["default"]).service("InitiativeAdapter",bt["default"]).service("SearchAdapter",Tt["default"]).service("MainAdapter",At["default"]).service("UserAdapter",vt["default"]).service("FormService",ft["default"]).service("OfflineService",ut["default"]).service("LocalStorage",ht["default"]).service("GraphService",Rt["default"]).factory("TranslateLoader",["$http","$q",function(t,e){return new It["default"](t,e)}]).controller("MainController",v["default"]).controller("NoSupportController",Y["default"]).controller("IssuesController",f["default"]).controller("OutcomeController",h["default"]).controller("SummaryController",I["default"]).controller("HeaderController",b["default"]).controller("LoginController",A["default"]).controller("InitiativeController",S["default"]).controller("IssuesController",f["default"]).controller("OutputController",T["default"]).controller("SearchController",R["default"]).controller("ForgotPasswordController",w["default"]).controller("UserController",N["default"]).controller("ResetPasswordController",L["default"]).controller("InitiativeFormController",V["default"]).controller("KpiFormController",F["default"]).controller("PostponeController",x["default"]).controller("ActivityFormController",j["default"]).controller("SyncController",G["default"]).controller("EmailController",Q["default"]).controller("UploadMilestoneController",J["default"]).controller("DownloadTemplateController",Z["default"]).filter("highlight",["$sce",function(t){return new Zt["default"](t)}]).filter("startFrom",function(){return new ee["default"]}).filter("ceilFilter",function(){return new ae["default"]}).directive("breadcrumb",function(){return new et["default"]}).directive("disableControl",function(){return new jt["default"]}).directive("dropdownNameMapper",["$translate",function(t){return new Yt["default"](t)}]).directive("numberChart",["GraphService","$compile","$templateCache","$http","MainAdapter",function(t,e,i,a,n){return new Nt["default"](t,e,i,a,n)}]).directive("speedometerChart",["HighChartService","pushAppConstants","MainAdapter","GraphService","$compile","$templateCache","$http",function(t,e,i,a,n,s,r){return new wt["default"](t,e,i,a,n,s,r)}]).directive("pieChart",["HighChartService","$location","$rootScope",function(t,e,i){return new xt["default"](t,e,i)}]).directive("lineChart",["HighChartService","pushAppConstants","MainAdapter","GraphService","$compile","$templateCache","$http","$translate",function(t,e,i,a,n,s,r,l){return new Lt["default"](t,e,i,a,n,s,r,l)}]).directive("dialChart",["HighChartService","pushAppConstants","GraphService","$compile","$templateCache","$http","$translate",function(t,e,i,a,n,s,r){return new Ft["default"](t,e,i,a,n,s,r)}]).directive("chart",["$compile","$templateCache","$http","GraphService",function(t,e,i,a){return new Vt["default"](t,e,i,a)}]).directive("rtl",function(){return new at["default"]}).directive("dateValidatorHack",function(){return new Gt["default"]}).directive("roundOff",function(){return new Qt["default"]}).directive("fileread",function(){return new Jt["default"]})},function(t,e){"use strict";function i(t,e,i){"ngInject";if(window.matchMedia){var a=window.matchMedia("print");a.addListener(function(){$(".kpi__chart, .chart-wrap").each(function(){var t=$(this)[0].offsetWidth,e=$(this)[0].offsetHeight;if($(this).highcharts()){var i=$(this).highcharts();i.setSize(t,e,!1)}}),$(".activity__chart").each(function(){$(this).highcharts().reflow()})})}t.debugEnabled(!0),e.interceptors.push(["$q","$location","LocalStorage","OfflineService","$rootScope","$injector",function(t,e,i,a,n,s){var r,l=function(){var t=s.get("DataService"),i=s.get("AuthService");localStorage.removeItem("user"),localStorage.setItem("forced",!0),t.clearMemory(),i.logout().then(function(){e.path("/login")})};return{response:function(t){return"error"===t.data.status&&"User not Authenticated."===t.data.message&&l(),t},responseError:function(e){return 403===e.status&&l(),n.$broadcast("HIDE_SPINNER"),t.reject(e)},request:function(t){var e=s.get("AuthService"),i=s.get("DataService");return t.timeout=1e4,clearTimeout(r),e.isLoggedIn()&&(r=setTimeout(function(){navigator.onLine&&(window.confirm("Session is about to expire, to stay in session click ok and to logout click cancel")?i.getCurrentVersion():l())},15e5)),t}}}]),i.preferredLanguage("en"),i.useLoader("TranslateLoader"),i.fallbackLanguage("en"),i.useSanitizeValueStrategy("sanitizeParameters")}i.$inject=["$logProvider","$httpProvider","$translateProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function i(t){"ngInject";t.when("/summary/:initiativeId",{templateUrl:"app/components/summary/summary.html",name:"summary"}).when("/initiative/:initiativeId",{templateUrl:"app/components/initiative/initiative.html",name:"initiative"}).when("/initiative/:initiativeId/form/:formStatus",{templateUrl:"app/components/forms/initiative/initiative.html",name:"initiativeForm"}).when("/output/:initiativeId/form/:formStatus/:kpiType/:sno",{templateUrl:"app/components/forms/kpi-form/kpi-form.html",name:"outputKpiForm"}).when("/initiative/:initiativeId/output",{templateUrl:"app/components/output/output.html",name:"output"}).when("/output/:kpiId",{templateUrl:"app/components/output/output.html",name:"output"}).when("/initiative/:initiativeId/form/:formStatus/:priority",{templateUrl:"app/components/forms/initiative/initiative.html",name:"initiativeForm"}).when("/activity/:initiativeId/form/:formStatus",{templateUrl:"app/components/forms/activity/activity.html",name:"activityForm"}).when("/issues/:initiativeId",{templateUrl:"app/components/issues/issues.html",name:"initiative"}).when("/initiative/:initiativeId/outcome/:kpiId",{templateUrl:"app/components/outcome/outcome.html",name:"outcome"}).when("/login",{templateUrl:"app/components/login/login.html",name:"login"}).when("/search",{templateUrl:"app/components/search/search.html",name:"search"}).when("/forgot-password",{templateUrl:"app/components/forgot-password/forgot-password.html",name:"forgotPassword"}).when("/admin/users",{templateUrl:"app/components/admin/users/users.html",name:"admin"}).when("/reset-password",{templateUrl:"app/components/reset-password/reset-password.html",name:"resetPassword"}).when("/landing",{templateUrl:"app/components/initiative/initiative.html",name:"landing"}).when("/sync",{templateUrl:"app/components/sync/sync.html",name:"sync"}).when("/postponePriority/:initiativeId",{templateUrl:"app/components/admin/postpone/postpone.html",name:"postponePriority"}).when("/no-support",{templateUrl:"app/components/no-support/no-support.html"}).otherwise({redirectTo:"/landing"})}i.$inject=["$routeProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function i(){"ngInject";return{statusColor:{completed:"#00C8B9",ontrack:"#ECB74C",delayed:"#FD6E6B",unknown:"#666666"},statusMap:{onTrack:"ontrack",ontrack:"ontrack",delayed:"delayed",completed:"completed",unknown:"unknown"},chart:{line:{targetColor:"#808080",actualColor:"#33ACE0"}},font:{primary:"roboto-regular"},server:{url:"/"},periodMap:{current:7,month:30,year:365,quarter:90},mobileWidth:736,csrf:!0}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function i(t){"ngInject";t.defaults.withCredentials=!0}i.$inject=["$http"],Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c,d,u,p,v){"ngInject";i(this,t);var g=this;g.$route=u,g.$rootScope=v,g.$location=s,g.window=r,g.LocalStorage=l,g.sidebarVisibility=!1,g.toggleFooter=[],g.routeParams=d,g.isOverflowMenuVisible=!1,g.CONSTANTS=p,g.spinner={isVisibile:!0},g.isMobile=!1,g.translationHolder=["ISSUE.NO_DATA_AVAILABLE","FORM.ADD_INITIATIVE","FORM.ADD_PRIORITY","FORM.ADD_OUTPUT_KPI","FORM.ADD_OUTCOME_KPI","FORM.ADD_ACTIVITY"],c(g.translationHolder).then(function(t){g.translations=t}),g.isOnline=function(){return navigator.onLine},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(g.isMobile=!0,console.log(g.isMobile)),g.isRtl=!1,g.iPhoneNotFullscreen=!1,$(window.applicationCache).bind("updateready",function(){window.applicationCache.swapCache(),location.reload()}),$("body").on("click",function(){g.isOverflowMenuVisible=!1}),$("body").on("click",function(){for(var t in g.toggleFooter)g.toggleFooter[t]=!1;v.$apply()}),(1===window.applicationCache.status||window.applicationCache.status>3)&&window.applicationCache.update();var f=["/login","/forgot-password","/no-support"],m=["/login","/forgot-password","/no-support"],h=[];g.spinner.isVisibile=g.spinner.isVisibile&&-1===_.indexOf(f,g.$location.path()),(o.isIE()||!o.isStorageSupported())&&s.path("/no-support"),e.loadAppConfig(),o.isiPhoneSafari()&&o.isModeFullscreen()?g.iPhoneNotFullscreen=!0:a.isLoggedIn()?g.rights=l.getUserRights():"/forgot-password"!==s.path()&&s.path("/login"),n.$on("SHOW_SPINNER",function(){g.spinner.isVisibile=!0}),n.$on("HIDE_SPINNER",function(){g.spinner.isVisibile=!1}),n.$on("$locationChangeStart",function(){if(g.spinner.isVisibile=!0,g.isPdfPage=-1!==_.indexOf(h,g.$location.path())?!0:!1,-1!==_.indexOf(m,g.$location.path())||a.isLoggedIn()){var t=l.getUser();t&&t.isPasswordReset&&("/login"!==g.$location.path()?s.path("/reset-password"):a.logout().then(function(){g.$location.path("/login")}))}else s.path("/login")})}return t.$inject=["DataService","AuthService","$scope","$location","$window","LocalStorage","MainAdapter","$translate","$routeParams","$route","pushAppConstants","$rootScope"],a(t,[{key:"navigateTo",value:function(t){this.$location.path(t)}},{key:"toggleFooterMenu",value:function(t){var e=this;e.toggleFooter[t]=!e.toggleFooter[t]}},{key:"print",value:function(){window.print()}},{key:"getUserRights",value:function(){return this.LocalStorage.getUserRights()}},{key:"windowResize",value:function(){$(window).trigger("resize"),this.sidebarVisibility=!1}},{key:"isActivityEditable",value:function(){var t=this;return t.getUserRights().crudArtifacts}},{key:"isKpiEditable",value:function(){var t=this;return t.getUserRights().crudArtifacts}},{key:"backTo",value:function(){history.back(-1)}},{key:"closeMobileMenu",value:function(){this.sidebarVisibility=!1}},{key:"openMobileMenu",value:function(){this.sidebarVisibility=!0,this.isOverflowMenuVisible=!1}},{key:"toggleMenu",value:function(){this.sidebarVisibility=!this.sidebarVisibility}},{key:"isView",value:function(t){return this.$location.path()===t}},{key:"onSidebarSwipe",value:function(t){var e=this;(e.isRtl&&"right"===t||!e.isRtl&&"left"===t)&&$(window).width()<=e.CONSTANTS.mobileWidth&&this.closeMobileMenu()}},{key:"onBodySwipe",value:function(t){var e=this;(e.isRtl&&"left"===t||!e.isRtl&&"right"===t)&&$(window).width()<=e.CONSTANTS.mobileWidth&&this.openMobileMenu()}},{key:"isAddCardsVisible",value:function(){var t=this,e="";return t.$route.current.$$route&&t.$route.current.$$route.name&&(e=t.$route.current.$$route.name),e&&t.getUserRights().crudArtifacts?"output"===e&&t.routeParams.kpiId?!1:!0:!1}},{key:"toggleOverflowMenu",value:function(){var t=this;t.closeMobileMenu(),t.isOverflowMenuVisible=!t.isOverflowMenuVisible}},{key:"getAddCardTitle",value:function(){var t=this,e="";return t.$route.current.$$route&&t.$route.current.$$route.name&&(e=t.$route.current.$$route.name),t.translations&&("output"===e?e=t.translations["FORM.ADD_OUTPUT_KPI"]:"outcome"===e?e=t.translations["FORM.ADD_OUTCOME_KPI"]:"landing"===e?e=t.translations["FORM.ADD_PRIORITY"]:(t.$rootScope.$on("HEADER_TITLE",function(e,i){t.headTitle=i}),e="Activity"===t.headTitle?t.translations["FORM.ADD_ACTIVITY"]:t.translations["FORM.ADD_INITIATIVE"])),t.addCardTitle=e,e}},{key:"openLink",value:function(t){var e=this;e.window.open(t,"_blank")}},{key:"addCards",value:function(){var t=this,e="";t.$route.current.$$route&&t.$route.current.$$route.name&&(e=t.$route.current.$$route.name),t.$location.path("output"===e?"/output/"+t.routeParams.initiativeId+"/form/new/output/0":"outcome"===e?"/output/"+t.routeParams.initiativeId+"/form/new/outcome/"+t.routeParams.kpiId:"landing"===e?"/initiative/0/form/new/priority":"Activity"===t.headTitle?"/activity/"+t.routeParams.initiativeId+"/form/new":"/initiative/"+t.routeParams.initiativeId+"/form/new")}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c){"ngInject";i(this,t);var d=a.initiativeId,u=this;u.routeParams=a,u.LocalStorage=o,u.location=l,u.deleteModelIssue=!1,u.deleteModelRisk=!1,u.statusModel=!1,u.DataService=s,u.translationHolder=["FORM.SYNC_THE_REQUEST_ONCE_ONLINE","ISSUE.ISSUE_DELETED","ISSUE.RISK_DELETED"],c(u.translationHolder).then(function(t){u.translations=t});var p=function(){var t=u.LocalStorage.getUserRights();s.getSingleInitiative(d,!0).then(function(i){u.initiative=i,u.isEditable=t.crudArtifacts||t.updateAllIssueLogs||i.isEditable,u.issues=u.initiative?u.initiative.Issues[0]:"",u.risk=u.initiative?u.initiative.Risk[0]:"",u.showIssueLog=u.issues?!0:u.risk?!1:!0,u.breadCrumb=n.getParentChain(d,!1),e.$$phase||e.$digest()})["finally"](function(){r.$broadcast("HIDE_SPINNER")}),s.getSkeleton(d).then(function(){r.$broadcast("DATA_RECEIVED")})};p()}return t.$inject=["$scope","$routeParams","InitiativeAdapter","DataService","$rootScope","$location","LocalStorage","$translate"],a(t,[{key:"setIssues",value:function(t){var e=this;e.issues.sno||0===e.issues.sno?!function(){var i="artifact3/"+e.issues.sno,a=e.initiative,n={};a.Issues.length>0&&(n.sno=a.Issues[0].sno),_.each(t,function(t){n[t]=e.issues[t]}),n.initiativeId=e.initiative.initiativeId,e.DataService.setData(n,i,a).then(function(t){t&&t.status&&"error"===t.status.toLowerCase()?(e.isError=!0,e.statusModel=!0,e.statusMsg=t.message):e.issues=t})}():e.createIssue()}},{key:"setRisk",value:function(t){var e=this;e.risk.sno||0===e.risk.sno?!function(){var i="artifact7/"+e.risk.sno,a=e.initiative,n={};a.Risk.length>0&&(n.sno=a.Risk[0].sno),_.each(t,function(t){n[t]=e.risk[t]}),n.initiativeId=e.initiative.initiativeId,e.DataService.setData(n,i,a).then(function(t){t&&t.status&&"error"===t.status.toLowerCase()?(e.isError=!0,e.statusModel=!0,e.statusMsg=t.message):(t.initiativeId=t.initiativeId.initiativeId,e.risk=t)})}():e.createRisk()}},{key:"deleteIssue",value:function(){var t=this,e="artifact3/"+t.issues.sno;t.DataService.deleteData(e).then(function(e){t.deleteModel=!1,t.statusModel=!0,e&&e.isOffline?t.statusMsg=t.translations["FORM.SYNC_THE_REQUEST_ONCE_ONLINE"]:e&&e.status&&"error"===e.status.toLowerCase()?(t.isError=!0,t.statusModel=!0,t.statusMsg=e.message):t.statusMsg=t.translations["ISSUE.ISSUE_DELETED"]})}},{key:"deleteRisk",value:function(){var t=this,e="artifact7/"+t.risk.sno;t.DataService.deleteData(e).then(function(e){t.deleteModel=!1,t.statusModel=!0,e&&e.isOffline?t.statusMsg=t.translations["FORM.SYNC_THE_REQUEST_ONCE_ONLINE"]:e&&e.status&&"error"===e.status.toLowerCase()?(t.isError=!0,t.statusModel=!0,t.statusMsg=e.message):t.statusMsg=t.translations["ISSUE.RISK_DELETED"]})}},{key:"createIssue",value:function(){var t=this,e="artifact3",i=t.issues;i.initiativeId=t.initiative.initiativeId,t.DataService.postData(i,e).then(function(e){e&&e.status&&"error"===e.status.toLowerCase()?(t.isError=!0,t.statusModel=!0,t.statusMsg=e.message):t.issues=e})}},{key:"createRisk",value:function(){var t=this,e="artifact7",i=t.risk;i.initiativeId=t.initiative.initiativeId,t.DataService.postData(i,e).then(function(e){e&&e.status&&"error"===e.status.toLowerCase()?(t.isError=!0,t.statusModel=!0,t.statusMsg=e.message):t.risk=e})}},{key:"backTo",value:function(){var t=this;t.location.path("/initiative/"+t.initiative.parentId)}},{key:"setOld",value:function(t,e){var i=this;i[e]=i[e]||{},_.forEach(t,function(t){i["old"+t]=i[e][t]})}},{key:"getOld",value:function(t,e){var i=this;_.forEach(t,function(t){i[e][t]=i["old"+t]})}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o){"ngInject";i(this,t);var c=this;c.routeParams=n,c.location=l,c.DataService=r,c.isProgressEditable=!1,c.selectedPeriod="current",c.GraphService=o,c.btnSpinner=!1,c.newMilestone=!1;var d=function(){c.kpiId=parseInt(n.kpiId);var t=parseInt(n.initiativeId);r.getSkeleton(t).then(function(){s.$broadcast("DATA_RECEIVED")}),r.getSingleInitiative(t).then(function(t){s.$broadcast("DATA_RECEIVED"),c.initiative=t,t&&(c.kpis=t.KPI,c.kpis=_.filter(c.kpis,function(t){return 0===c.kpiId?"outcome"===t.kpiType.toLowerCase()&&(0===t.parentKpi||null===t.parentKpi):"outcome"===t.kpiType.toLowerCase()&&t.parentKpi===c.kpiId}),t["Executive Summary"][0]&&(c.progress=t["Executive Summary"][0].progressSummary),c.kpis=_.chain(c.kpis).map(function(t){return t.parentKpi=parseInt(t.parentKpi),t.statusClass=o.getStatus(t),t.latestMilestone&&t.latestMilestone.timePoint&&(t.lastMilestone=a.convertDate(t.latestMilestone.timePoint)),t.nearestActualMilestone&&t.nearestActualMilestone.timepoint&&(t.lastUpdate=a.convertDate(t.nearestActualMilestone.timePoint)),t}).sortBy("createdAt").value(),c.isProgressVisible=!parseInt(n.kpiId),c.kpis=parseInt(n.kpiId)?_.filter(c.kpis,function(t){return t.parentKpi===parseInt(n.kpiId)}):_.filter(c.kpis,function(t){return!t.parentKpi}),c.leftkpis=[],c.rightkpis=[],c.fullWidthkpis=[],a.isMobile()?c.leftkpis=c.kpis:_.each(c.kpis,function(t,e){t.emphasis?c.fullWidthkpis.push(t):e%2===0?c.leftkpis.push(t):c.rightkpis.push(t)}),e.$$phase||e.$digest())})["finally"](function(){s.$broadcast("HIDE_SPINNER")})};d()}return t.$inject=["$scope","MainAdapter","$routeParams","$rootScope","DataService","$location","GraphService"],a(t,[{key:"addCards",value:function(){var t=this;t.location.path("/output/"+t.routeParams.initiativeId+"/form/new/outcome/"+t.routeParams.kpiId)}},{key:"editKPI",value:function(t){var e=this;e.location.path("/output/"+e.routeParams.initiativeId+"/form/edit/outcome/"+t.sno)}},{key:"periodChanged",value:function(){var t=this;_.each(t.kpis,function(e){e.hasChart=t.GraphService.hasChart(e,t.selectedPeriod)})}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s){"ngInject";i(this,t);var r=this;r.MainAdapter=n,r.$routeParams=e,r.DataService=a,r.isProgressEditable={sector:!1,decisions:!1,issues:!1,accomplishments:!1};var l=e.initiativeId?e.initiativeId:0;r.initiativeId=l;var o=function(t){t&&(r.lastUpdatedOn=n.convertDate(t.updatedAt),r.sectorSummary=t.sectorSummary,r.decisionsRequired=t.decisionsRequired,r.majorIssues=t.majorIssues,r.proposedSolution=t.proposedSolution,r.plannedActivities=t.plannedActivities,r.accomplishments=t.accomplishments)};r.viewSummary=function(t){t&&(r.progressData=r.summary.keyPerformanceDrivers?r.summary.keyPerformanceDrivers.split("\n\n"):[],r.majorData=r.summary.majorIssues?r.summary.majorIssues.split("\n\n"):[],r.proposedData=r.summary.proposedSolution?r.summary.proposedSolution.split("\n\n"):[],r.decisionsData=r.summary.decisionsRequired?r.summary.decisionsRequired.split("\n\n"):[],r.accomplishmentData=r.summary.accomplishments?r.summary.accomplishments.split("\n\n"):[],r.plannedData=r.summary.plannedActivities?r.summary.plannedActivities.split("\n\n"):[],r.sectorData=r.summary.sectorSummary?r.summary.sectorSummary.split("\n\n"):[])},a.getSummary(l).then(function(t){t&&(r.summary=t,r.initiative=t.initiativeId,o(r.summary),r.viewSummary(r.summary))})["finally"](function(){s.$broadcast("HIDE_SPINNER")}),a.getSkeleton(l).then(function(){s.$broadcast("DATA_RECEIVED")})}return t.$inject=["$routeParams","DataService","MainAdapter","$rootScope"],a(t,[{key:"setSummary",value:function(t){var e=this.$routeParams.initiativeId?this.$routeParams.initiativeId:0,i=this,a="artifact1/",n={};_.each(t,function(t){n[t]=i.summary[t],i[t]=i.summary[t]}),i.viewSummary(i.summary),_.isUndefined(i.summary.sno)||_.isNull(i.summary.sno)?(n.initiativeId=e,i.DataService.postData(n,a).then(function(t){i.summary.sno=t.sno})):(n.sno=i.summary.sno,a+=i.summary.sno,i.DataService.setData(n,a).then())}},{key:"setOldSummary",value:function(){var t=this;t.summary=t.summary||{},t.oldKeyPerformanceDrivers=t.summary.keyPerformanceDrivers,t.oldSectorReformActivities=t.summary.sectorReformActivities}},{key:"getOldSummary",value:function(){var t=this;t.summary.keyPerformanceDrivers=t.oldKeyPerformanceDrivers,t.summary.sectorReformActivities=t.oldSectorReformActivities}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c,d,u,p,v){"ngInject";i(this,t);var g=["initiatives","leftInitiatives","rightInitiatives"],f=["leftLandingInitiatives","rightLandingInitiatives","leftActivities","rightActivities","leftPriorities","rightPriorities","leftActivities","rightActivities"],m=this;m.onlineRequiredPopup=!1,m.DataService=s,m.InitiativeAdapter=e,m.location=c,m.window=d,m.$rootScope=o,m.routeParams=a,m.CONSTANTS=u,m.LocalStorage=v,m.selectedPeriod="current",m.sendEmail=!1,m.translationHolder=["INITIATIVE_PAGE.INVALID_DATE","ACTIVITY","PRIORITY","INITIATIVE"],m.pageTitle={PRIORITY:"Priority",INITIATIVE:"Initiative",ACTIVITY:"Activity"},p(m.translationHolder).then(function(t){m.translations=t}),m.isNaN=isNaN,m.isOverall=!1;var h=!0,E=function(t){var i=0,a=0;return t.showSpinner=m.DataService.isOnline()?!0:!1,"activity"!==t.type.toLowerCase()?(t.hasChart=t.activityCount&&(t.activityCount.completed||t.activityCount.delayed||t.activityCount.onTrack),_.each(t.activityCount,function(t,e){("onTrack"===e||"completed"===e)&&(a+=t),-1!==_.indexOf(["onTrack","completed","delayed"],e)&&(i+=t)}),t.hasChild=t.hasChildren||e.isLastInitiative(t.initiativeId)):t.hasChild=!1,t.statusClass=t.status?m.CONSTANTS.statusMap[t.status]:"unknown",t.activityShedule=Math.round(a/i*100),t.activityStatusClass=_.isNull(t.activityShedule)?"unknown":t.activityShedule<70?"delayed":t.activityShedule<100?"on-track":"completed",t.updatedAtString=n.convertDate(t.updatedAt),t.plannedStartDateString=t.plannedStartDate&&"Invalid date"!==t.plannedStartDate?n.convertDate(t.plannedStartDate):"",t.plannedEndDateString=t.plannedEndDate&&"Invalid date"!==t.plannedEndDate?n.convertDate(t.plannedEndDate):"",t.actualStartDateString=t.actualStartDate&&"Invalid date"!==t.actualStartDate?n.convertDate(t.actualStartDate):"",t.actualEndDateString=t.actualEndDate&&"Invalid date"!==t.actualEndDate?n.convertDate(t.actualEndDate):"",t.executiveSummary={lastUpdatedOn:t["Executive Summary"]&&t["Executive Summary"][0]?n.convertDate(t["Executive Summary"][0].updatedAt):void 0},t.cardType=m.cardTypeHash[t.type.toLowerCase()]?m.cardTypeHash[t.type.toLowerCase()]:"initiative",t.outcomeKpi={lastUpdatedOn:t.KPI&&t.KPI.length?n.convertDate(_.pluck(t.KPI,"updatedAt").sort()[t.KPI.length-1]):void 0},t};m.$rootScope.$on("ONLINE_REQUIRED",function(){m.$rootScope.$$phase?m.onlineRequiredPopup=!0:m.$rootScope.$apply(function(){m.onlineRequiredPopup=!0})});var I=function(){var t=a.initiativeId?parseInt(a.initiativeId):0;m.initiativeid=a.initiativeId,m.initiatives=angular.copy(e.getInitiatives(t)),_.map(m.initiatives,E),m.initiatives=_.sortBy(m.initiatives,"initiativeId"),_.each(m.initiatives,function(t){m.initiativeOwner=t.owner,m.initiativeDept=t.dept,m.leftInitiatives=[],m.rightInitiatives=[],n.isMobile()?m.leftInitiatives=m.initiatives:_.each(m.initiatives,function(t,e){e%2===0?m.leftInitiatives.push(t):m.rightInitiatives.push(t)});var e=_.uniq(_.pluck(m.initiatives,"type")),i=e[0]?e[0].split(" ")[0].toUpperCase():"";m.heading=i?m.pageTitle[i]:"/landing"===m.location.path()?"Priority":"Initiative",o.$emit("HEADER_TITLE",m.heading),m.isCurrentTargetVisible=m.translations&&"Activity"===m.heading?!1:!0,m.isLegendVisible=m.translations&&"Priority"===m.heading?!1:!0}),h&&m.isLandingPage?h=!1:o.$broadcast("HIDE_SPINNER"),$(window).trigger("resize")},S=function(t){m.landingPriorities=m.landingPriorities||[],m.landingInitiatives=m.landingInitiatives||[],m.landingActivities=m.landingActivities||[],_.each(t,function(t){t&&("priority"===t.type.toLowerCase()?m.landingPriorities.push(t):"activity"===t.type.toLowerCase()?m.landingActivities.push(t):t.type&&m.landingInitiatives.push(t),m.landingPriorities=_.chain(m.landingPriorities).uniq(function(t){return t.initiativeId}).map(E).sortBy("initiativeId").value(),m.landingInitiatives=_.chain(m.landingInitiatives).uniq(function(t){return t.initiativeId}).map(E).sortBy("initiativeId").value(),m.landingActivities=_.chain(m.landingActivities).uniq(function(t){return t.initiativeId}).map(E).sortBy("initiativeId").value(),m.landingActivities=_.sortByOrder(m.landingActivities,"initiativeId"),m.leftPriorities=[],m.rightPriorities=[],n.isMobile()?m.leftPriorities=m.landingPriorities:m.landingPriorities.forEach(function(t,e){e%2===0?m.leftPriorities.push(t):m.rightPriorities.push(t)}),m.leftLandingInitiatives=[],m.rightLandingInitiatives=[],n.isMobile()?m.leftLandingInitiatives=m.landingInitiatives:m.landingInitiatives.forEach(function(t,e){e%2===0?m.leftLandingInitiatives.push(t):m.rightLandingInitiatives.push(t)}),m.leftActivities=[],m.rightActivities=[],n.isMobile()?m.leftActivities=m.landingActivities:m.landingActivities.forEach(function(t,e){e%2===0?m.leftActivities.push(t):m.rightActivities.push(t)}))}),m.isMyProject=m.landingPriorities.length>0||m.landingInitiatives.length>0||m.landingActivities.length>0,m.selectedTab=m.isMyProject?"my-projects":"overall",o.$broadcast("DATA_RECEIVED"),h?h=!1:o.$broadcast("HIDE_SPINNER");var e=_.uniq(_.pluck(m.initiatives,"type")),i=e[0]?e[0].split(" ")[0].toUpperCase():"";m.heading=i?m.pageTitle[i]:"/landing"===m.location.path()?"Priority":"Initiative"},y=function(){var t=parseInt(a.initiativeId);"landing"===l.current.$$route.name?(m.isLandingPage=!0,s.getInitiativeTree(0).then(function(){I(),s.getOwnedInitiatives().then(function(t){S(t)}),s.getParticipatingInitiatives().then(function(t){S(t)})})):(s.getSkeleton(t).then(function(){m.breadCrumb=e.getParentChain(a.initiativeId,!1),o.$broadcast("DATA_RECEIVED")}),s.getInitiativeTree(t).then(function(){I()}))};m.cardTypeHash={priority:"priority",activity:"activity"},y(),o.$on("INITIATIVE_RECEIVED",function(t,e){e=E(e),e.showSpinner=!1,g.forEach(function(t){m[t]=_.map(m[t],function(t){return e.initiativeId===t.initiativeId?(e.showSpinner=!1,e):t})}),m.isLandingPage&&f.forEach(function(t){m[t]=_.map(m[t],function(t){return e.initiativeId===t.initiativeId?(e.showSpinner=!1,e):t})})})}return t.$inject=["InitiativeAdapter","$routeParams","MainAdapter","DataService","AuthService","$route","$rootScope","$location","$window","pushAppConstants","$translate","LocalStorage"],a(t,[{key:"canSendMail",value:function(t){var e=this;e.emailInitiative=t,e.emailInitiativeId=t.initiativeId,e.fullParentChain=_.forEach(e.InitiativeAdapter.getParentChain(t.initiativeId,!0),function(t){t.type="priority"===t.type.toLowerCase()?"Sector":"activity"===t.type.toLowerCase()?"3-feet action":_.capitalize(t.type)}),e.sendEmail=!0}},{key:"editCards",value:function(t,e){var i=this;i.location.path("priority"===e?"/initiative/"+t.initiativeId+"/form/edit/priority":"/"+e+"/"+t.initiativeId+"/form/edit")}},{key:"speedometerNavigate",value:function(t){this.location.path("/initiative/"+t+"/output/")}},{key:"toggleFooterMenu",value:function(){console.log("a")}},{key:"onActivityChartClick",value:function(t){var e=this;navigator.onLine||t.hasChild?e.location.path("/initiative/"+t.initiativeId):e.$rootScope.$broadcast("ONLINE_REQUIRED")}},{key:"addCards",value:function(){var t=this;t.heading=t.heading||"Initiative";var e=_.findKey(t.pageTitle,function(e){return e===t.heading});t.location.path("priority"===e.toLowerCase()?"/initiative/0/form/new/priority":"/"+e.toLowerCase()+"/"+t.routeParams.initiativeId+"/form/new")}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c,d,u,p){"ngInject";function v(t,e){f.mobile.menu={},f.mobile.menu.title=f.translations[f.appConfig.mobileMenu.title],f.mobile.menu.subtitle=f.appConfig.mobileMenu.subtitle,f.page=f.appConfig.pages[f.appConfig.routeMap[t]];var i=f.InitiativeAdapter.getParentChain(f.$routeParams.initiativeId,!0);

f.appConfig=c.getAppConfig();var r=_.find(i,function(t){return"priority"===t.type.toLowerCase()});i&&!r&&(delete f.page.headerMenu,f.page.title=f.translations.ITRACK),f.pageName=t;var l=void 0;e>=0&&(a.kpiId&&"output"===t?c.getKpi(parseInt(a.kpiId)).then(function(t){if(t){var e=t.initiativeId||t.initiative.initiativeId;l=s.getPriority(e),l&&(f.currentInitiativeId=l.initiativeId,f.page.useNameAsTitle&&(f.page.title=l.initiative))}}):(l=s.getPriority(parseInt(a.initiativeId)),l&&(f.currentInitiativeId=l.initiativeId,f.page.title=l.initiative))),n.$$phase||n.$digest()}function g(){var t={initiative:{text:f.translations.INITIATIVE,clickMethodArgs:"/initiative/"+a.initiativeId+"/form/new"},outcome:{text:f.translations.OUTCOME_KPI,clickMethodArgs:"/output/"+a.initiativeId+"/form/new/outcome/"+a.kpiId},output:{text:f.translations.OUTPUT_KPI,clickMethodArgs:"/output/"+a.initiativeId+"/form/new/output/0"},landing:{text:f.translations.PRIORITY,clickMethodArgs:"/initiative/0/form/new/priority"}},i=e.path().split("/"),n="";n=_.includes(["initiative","outcome"],i.slice(-2)[0])?i.slice(-2)[0]:_.intersection(i,["landing","output"]).length>0?i.slice(-1)[0]:"initiative",t[n]&&(f.mobile.addCardText=t[n].text,f.mobile.addCardUrl=t[n].clickMethodArgs)}i(this,t);var f=this;f.$location=e,f.isDropOpen=!1,f.appConfig=void 0,f.$routeParams=a,f.DataService=c,f.AuthService=r,f.OfflineService=d,f.promptMessage="",f.$rootScope=n,f.HeaderAdapter=s,f.InitiativeAdapter=p,f.mobile={},f.downloadTemplateModal=!1,f.uploadMilestonesModal=!1,f.mobile.showNavbar=!1,f.translationHolder=["HEADER.INTERNET_CONNECTION_REQUIRED","HEADER.SEARCH","HEADER.SYNC","HEADER.LOGOUT","HEADER.UNSYNCED_DATA_LOST","INITIATIVE","PRIORITY","OUTCOME_KPI","OUTPUT_KPI","ITRACK","FORGOT_PASSWORD.FORGOT_PASSWORD","FORGOT_PASSWORD.RESET_PASSWORD","APP_CONFIG.SYNC_REPORT","CARD.WEEKLY_REPORT","CARD.IMP_TRACKER","APP_CONFIG.OVERALL_SUMMARY","APP_CONFIG.OVERALL_EXECUTIVE_SUMMARY","APP_CONFIG.OVERALL_TRACKER","APP_CONFIG.MONITORING_REPORT_SEARCH","APP_CONFIG.USER_MGMT"],o.$on("CLOSE_DOWNLOAD_MODAL",function(){f.downloadTemplateModal=!1}),o.$on("CLOSE_UPLOAD_MODAL",function(){f.uploadMilestonesModal=!1}),u(f.translationHolder).then(function(t){f.translations=t,f.mobileBottomMenu=[{image:"search.svg",text:f.translations["HEADER.SEARCH"],clickMethod:function(){f.$location.path("/search")}},{image:"sync.svg",text:f.translations["HEADER.SYNC"],clickMethod:function(){f.$location.path("/sync")}},{image:"logout.svg",text:f.translations["HEADER.LOGOUT"],clickMethod:function(){f.logoutHandler()}}]}),f.$rootScope.$on("$locationChangeStart",function(){f.page=null}),f.currentRoute=function(){return l.current.$$route&&l.current.$$route.name?"output"===l.current.$$route.name?"initiative":l.current.$$route.name:void 0},f.logoutHandler=function(){var t=this;t.logoutPrompt=!1,r.logout().then(function(){t.$location.path("/login")})},f.getMenuLink=function(t){return f.currentInitiativeId?"outcome"===t.link?"#/initiative/"+f.currentInitiativeId+"/outcome/0":"output"===t.link?"#/initiative/"+f.currentInitiativeId:"#/"+t.link+"/"+f.currentInitiativeId:""},f.mobile.addCard=function(){e.path(f.mobile.addCardUrl)},f.mobile.changeNav=function(t){f.mobile.showNavbar=!1,e.path(f.getMenuLink(t).replace(/^#/,""))},$("body").on("click",function(){f.isDropOpen=!1,o.$$phase||o.$digest()});var m=function h(){if(f.appConfig=c.getAppConfig(),f.appConfig)if(r.isLoggedIn()){var t=l.current.$$route.name?l.current.$$route.name:"initiative",e=a.initiativeId?parseInt(a.initiativeId):0;"output"===t&&(e=a.kpiId||a.initiativeId),v(t,e),g()}else v("login",0);else c.loadAppConfig().then(function(){h()})};o.$on("DATA_RECEIVED",m)}return t.$inject=["$location","$routeParams","$rootScope","HeaderAdapter","AuthService","$route","$scope","DataService","OfflineService","$translate","InitiativeAdapter"],a(t,[{key:"isPromptRequired",value:function(){var t=this;return t.promptMessage=navigator.onLine?t.translations["HEADER.UNSYNCED_DATA_LOST"]:t.translations["HEADER.INTERNET_CONNECTION_REQUIRED"],this.OfflineService.isDataSynced()}},{key:"currentUser",value:function(){return this.AuthService.username()}},{key:"isInitiativeView",value:function(){var t=this,e=t.$location.path().split("/");return"initiative"===e[e.length-2]}},{key:"isOnline",value:function(){var t=this;if(navigator.onLine)return t.OfflineService.isDataSynced()?!1:!0;if(t.lastSyncTime)return!1;var e=new Date,i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t.lastSyncTime=e.getDate()+" "+i[e.getMonth()]+" "+e.getFullYear()+" "+(e.getHours()%12||12)+":"+e.getMinutes()+(e.getHours()<12?" AM":" PM"),!1}},{key:"postPoneInitiatives",value:function(){this.$location.path("postponePriority/"+this.currentInitiativeId)}},{key:"checkDisabled",value:function(t,e){return"plus-white.svg"===e.image&&!t}},{key:"isAddingDisabled",value:function(){var t=["form","search","sync"];return _.intersection(this.$location.path().split("/"),t).length>0}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o){"ngInject";i(this,t);var c=this;c.$location=a,c.AuthService=e,c.$scope=n,c.page={},c.spinner={isVisibile:!1},(l.isIE()||!l.isStorageSupported())&&a.path("/no-support"),c.translationHolder=["ITRACK"],o(c.translationHolder).then(function(t){c.translations=t,c.page.title=c.translations.ITRACK,c.page.mobileTitle=[c.translations.ITRACK]}),s.$broadcast("DATA_RECEIVED"),s.$broadcast("HIDE_SPINNER"),e.isLoggedIn()&&a.path("/");var d=r.getUser();d&&(c.username=d.email)}return t.$inject=["AuthService","$location","$scope","$rootScope","LocalStorage","MainAdapter","$translate"],a(t,[{key:"loginAuth",value:function(t,e){var i=this;i.spinner.isVisibile=!0,t&&e&&(i.errorMessage="",this.AuthService.login(t,e).then(function(t){t.success?(i.spinner.isVisibile=!1,i.$location.path(t.isPasswordReset?"/reset-password":"/"),i.$scope.$broadcast("DATA_RECEIVED")):(i.errorMessage=t.message,i.spinner.isVisibile=!1)}))}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c){"ngInject";i(this,t);var d=this;d.location=r,d.routeParams=a,d.isDrillDown=!1,d.selectedPeriod="current";var u=function(){d.leftKpis=[],d.rightKpis=[],d.fullWidthkpis=[],_.map(d.kpis,function(t){if(t.latestMilestone&&t.latestMilestone.timePoint&&(t.lastMilestone=s.convertDate(t.latestMilestone.timePoint)),t.nearestActualMilestone&&t.nearestActualMilestone.timepoint&&(t.lastUpdate=s.convertDate(t.nearestActualMilestone.timePoint)),d.initiative=t.initiative?t.initiative:d.initiative,t.baseline=parseFloat(t.baseline),t.target=parseFloat(t.target),parseInt(t.parentKpi)){var e=_.find(l.getLocalKPIS(),{sno:t.parentKpi});e?(t.parentKPIName=t.parentKpi?e.kpi:"N / A",t.parentKpiLink=parseInt(e.parentKpi)?"#/output/"+e.parentKpi:"#/initiative/"+e.initiativeId+"/output"):l.getSingleKpi(t.parentKpi).then(function(e){e?(t.parentKPIName=t.parentKpi?e.kpi:"N / A",t.parentKpiLink=parseInt(e.parentKpi)?"#/output/"+e.parentKpi:"#/initiative/"+e.initiative.initiativeId+"/output"):t.parentKpiLink=""})}return t.parentInitiative=d.initiative,t.statusClass=c.getStatus(t),t}),o.$broadcast("HIDE_SPINNER"),s.isMobile()?d.leftKpis=d.kpis:_.each(d.kpis,function(t,e){t.emphasis?d.fullWidthkpis.push(t):e%2===0?d.leftKpis.push(t):d.rightKpis.push(t)}),e.$$phase||e.$digest()},p=function(){var t=a.initiativeId;l.getSingleInitiative(t).then(function(e){e&&(d.initiative=e,d.kpis=e.KPI&&e.KPI.length>0?_.sortBy(e.KPI,"createdAt"):[],d.initiativeOwner=e.owner,d.initiativeDept=e.dept,d.breadCrumb=n.getParentChain(t,!1),u())})["finally"](function(){o.$broadcast("HIDE_SPINNER")})},v=function(){var t=a.kpiId;l.getKpiChain([t]).then(function(e){e&&e.length>0?!function(){var i=_.find(e,{sno:parseInt(t)}),a=i.initiativeId||i.initiative.initiativeId;l.getSkeleton(a).then(function(){o.$broadcast("DATA_RECEIVED"),d.breadCrumb=n.getParentChain(a,!1)||[],d.breadCrumb.push({name:i.kpi,sno:t,type:"kpi"})}),d.kpis=_.filter(l.getLocalKPIS(),{parentKpi:parseInt(t)}),u()}():o.$broadcast("DATA_RECEIVED")})["finally"](function(){o.$broadcast("HIDE_SPINNER")})};a.kpiId?(d.isDrillDown=!0,v()):(p(),l.getSkeleton(a.initiativeId).then(function(){o.$broadcast("DATA_RECEIVED")}))}return t.$inject=["$scope","$routeParams","InitiativeAdapter","MainAdapter","$location","DataService","$rootScope","GraphService"],a(t,[{key:"addCards",value:function(){var t=this;t.location.path("/output/"+t.routeParams.initiativeId+"/form/new/output/0")}},{key:"editKPI",value:function(t){var e=this;e.location.path("/output/"+t.parentInitiative.initiativeId+"/form/edit/output/"+t.sno)}},{key:"drilldown",value:function(t){t.hasDrillDown&&this.location.path("/output/"+t.sno)}},{key:"setSelectedPeriod",value:function(t){this.selectedPeriod=t}},{key:"isSelectedPeriod",value:function(t){return this.selectedPeriod===t}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l){"ngInject";i(this,t);var o=this;o.$log=n,o.$location=s,o.translationHolder=["OUTCOME_KPI","SEARCH.INITIATIVES_/_SUB_INITIATIVES","OUTPUT_KPI","ACTIVITIES","FORM.OWNER","SEARCH.ENTER_SEARCH_QUERY"],l(o.translationHolder).then(function(t){o.translations=t,r.$broadcast("DATA_RECEIVED"),c()});var c=function(){o.results={},o.queryString="",o.SearchAdapter=a,o.searchFilters=a.getSearchFilters(),o.$scope=e,o.keysToBeSearched={},o.$rootScope=r,o.isOnline?o.getSearchResults=function(){return null}:(o.getSearchResults=o.doLiveSearch,o.fuseInit()),r.$broadcast("HIDE_SPINNER")}}return t.$inject=["$scope","SearchAdapter","$log","$location","$rootScope","$translate"],a(t,[{key:"isOnline",value:function(){return navigator.onLine}},{key:"fuseInit",value:function(){var t=this;t.data=t.SearchAdapter.getSearchData(),t.fuseData=t.SearchAdapter.populateSearchData(t.data),t.fuse=new Fuse(t.fuseData,{caseSensitive:!1,includeScore:!1,shouldSort:!0,threshold:.2,location:0,distance:2e3,maxPatternLength:32,keys:["name"]})}},{key:"getDisplayNames",value:function(t){var e=this,i=void 0;return e.translations&&(i={"Outcome KPI":e.translations.OUTCOME_KPI,"Initiatives/ Sub Initiatives":e.translations["SEARCH.INITIATIVES_/_SUB_INITIATIVES"],"Output KPI":e.translations.OUTPUT_KPI,Activities:e.translations.ACTIVITIES,Owners:e.translations["FORM.OWNER"]}),i[t]?i[t]:t}},{key:"navigateTo",value:function(t,e){var i=this;switch(t){case"Output KPI":i.$location.path("/initiative/"+e.initiativeId+"/output");break;case"Outcome KPI":i.$location.path("/initiative/"+e.initiativeId+"/outcome/"+e.parentKpi);break;default:i.$location.path(e.parentId?"/initiative/"+e.parentId:"/landing")}i.$rootScope.$broadcast("SHOW_SPINNER")}},{key:"searchOnline",value:function(){var t=this;t.$rootScope.$broadcast("SHOW_SPINNER"),t.populateUniqueKeys(),t.SearchAdapter.getResultsFromServer(t.queryString,t.keysToBeSearched.keys).then(function(e){t.results=t.SearchAdapter.transformOnlineData(e.data),t.highlightQueryString=t.queryString})["finally"](function(){t.$rootScope.$broadcast("HIDE_SPINNER")})}},{key:"populateUniqueKeys",value:function(){this.keysToBeSearched.keys=_.chain(this.searchFilters).filter({value:!0}).pluck("name").uniq().value()}},{key:"doLiveSearch",value:function(){var t=this;t.highlightQueryString=t.queryString,t.populateUniqueKeys(),t.results=_.chain(t.fuse.search(t.queryString)).filter(function(e){return _.includes(t.keysToBeSearched.keys,e.type)}).groupBy("type").value()}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n){"ngInject";i(this,t);var s=this;s.$location=a,s.AuthService=e,e.isLoggedIn()&&a.path("/"),n.$broadcast("HIDE_SPINNER")}return t.$inject=["AuthService","$location","$rootScope"],a(t,[{key:"forgotNotification",value:function(t){var e=this;e.errorMessage="",e.successMessage="",e.AuthService.forgotPassword(t).then(function(t){t.success?e.successMessage=t.message:e.errorMessage=t.message})}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l){"ngInject";i(this,t);var o=this;o.DataService=e,o.UserAdapter=a,o.LocalStorage=s,o.$rootScope=n,o.$location=r,o.translationHolder=["ADMIN.CREATE_USER","ADMIN.UPDATE_USER","ADMIN.ERROR_POPULATING_DEPTS","ADMIN.ERROR_CREATING_USER","ADMIN.ERROR_DELETING_USER","ADMIN.ERROR_GETTING_USER_LIST","ADMIN.USER_CREATED","ADMIN.USER_UPDATED","ADMIN.ERROR_UPDATING_USER","ERROR","STATUS.NOT_AUTHORIZED_TO_DELETE_USERS","STATUS.USER_DELETED","STATUS.INVALID_EMAIL","NAME","EMAIL","DEPARTMENT","ADMIN.EDIT_DELETE","FORM.DELETE","ADMIN.EDIT"],l(o.translationHolder).then(function(t){o.translations=t,o.setView("list"),o.init()})}return t.$inject=["DataService","UserAdapter","$rootScope","LocalStorage","$location","$translate"],a(t,[{key:"init",value:function(){var t=this,e=t.LocalStorage.getUserRights();e.crudUsers||t.$location.path("/landing"),t.statusText="",t.listUserInit(),t.mode=t.translations["ADMIN.CREATE_USER"]}},{key:"updateUserInit",value:function(){var t=this;t.mode=t.translations["ADMIN.UPDATE_USER"],t.emailEditable=!1}},{key:"createUserInit",value:function(){var t=this;t.userName="",t.userEmail="",t.newDepartment="",t.departments=[],t.emailEditable=!0,t.populateRights(),t.populateDepartments(),t.selectedDept="",t.dropdownStatus=!1,t.departmentBox=!1,t.spinnerVisibility=!1}},{key:"listUserInit",value:function(){var t=this;t.deleteConfirmModal=!1,t.gridOptions={data:[],enableColumnMenus:!1,columnDefs:[{field:"name",name:t.translations.NAME},{field:"email",name:t.translations.EMAIL},{field:"department",name:t.translations.DEPARTMENT},{field:"edit/delete",name:t.translations["ADMIN.EDIT_DELETE"],cellTemplate:'<div class="ui-grid-cell-contents"><button ng-click="grid.appScope.user.editUser(row.entity)" class="list-btn edit-button">'+t.translations["ADMIN.EDIT"]+'</button><button class="list-btn delete-button" ng-click="grid.appScope.user.showModal(row.entity)">'+t.translations["FORM.DELETE"]+'</button></div><div class="ui-grid-cell-contents"></div>'}]},t.listUsers()}},{key:"setView",value:function(t){var e=this;switch(e.selectedNav=t,t){case"create":e.createUserInit();break;case"update":e.updateUserInit();break;default:e.init()}}},{key:"checkView",value:function(t){var e=this;return e.selectedNav===t}},{key:"toggleAddDepartment",value:function(){this.departmentBox=!this.departmentBox}},{key:"isDepartmentAdded",value:function(){return this.departmentBox}},{key:"addDepartment",value:function(){var t=this;t.newDepartment&&(t.selectedDept=t.newDepartment,t.departments.push(t.newDepartment),t.newDepartment=""),t.dropdownStatus=!1,t.toggleAddDepartment()}},{key:"populateRights",value:function(){var t=this;t.UserAdapter.getUserRights().then(function(e){t.rights=e})}},{key:"populateDepartments",value:function(){var t=this;t.UserAdapter.getDepartments().then(function(e){t.departments=e},function(){t.showStatusTimeout(t.translations["ADMIN.ERROR_POPULATING_DEPTS"])})}},{key:"selectDepartment",value:function(t,e){var i=this;i.getEditUserData()&&i.getEditUserData().department!==t&&e.$setDirty(),i.selectedDept=t,i.dropdownStatus=!1}},{key:"getSortedDepts",value:function(){return this.departments&&0!==this.departments.length?this.departments.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}):[]}},{key:"createUser",value:function(){var t=this,e={email:t.userEmail,name:t.userName,department:t.selectedDept},i="user/new";angular.extend(e,t.getSelectedRights()),t.DataService.postData(e,i).then(function(e){t.showStatusTimeout(e.data&&e.data.createdAt?t.translations["ADMIN.USER_CREATED"]:e.invalidAttributes&&e.invalidAttributes.email?t.translations["STATUS.INVALID_EMAIL"]:t.translations["ADMIN.ERROR_CREATING_USER"])},function(){t.showStatusTimeout(t.translations["ADMIN.ERROR_CREATING_USER"])})}},{key:"updateUser",value:function(){var t=this,e={email:t.userEmail,name:t.userName,department:t.selectedDept};angular.merge(e,t.getSelectedRights()),t.UserAdapter.updateUser(t.getEditUserData().id,e).then(function(){t.spinnerVisibility=!1,t.showStatusTimeout(t.translations["ADMIN.USER_UPDATED"])},function(){t.showStatusTimeout(t.translations["ADMIN.ERROR_UPDATING_USER"])})}},{key:"editUser",value:function(t){var e=this;e.editUserData=t,e.setView("update"),e.populateuserData(t)}},{key:"deleteUser",value:function(){var t=this;t.spinnerVisibility=!0;var e=function(){t.deleteConfirmModal=!1,t.spinnerVisibility=!1};t.UserAdapter.deleteUser(t.deleteUserData.id).then(function(i){e(),t.showStatusTimeout(i?t.translations[i.message]:t.translations["ADMIN.ERROR_DELETING_USER"])},function(i){e(),t.showStatusTimeout(t.translations.ERROR+": "+i.statusText)})}},{key:"isForminvalid",value:function(t){return!(t.$valid&&this.selectedDept.length>0)}},{key:"submitUser",value:function(){var t=this;t.spinnerVisibility=!0,"create"===t.selectedNav?t.createUser():t.updateUser()}},{key:"getSelectedRights",value:function(){var t={};return _.map(this.rights,function(e){t[e.key]=e.isSelected}),t}},{key:"setSelectedRights",value:function(t){var e=[];_.chain(t).pick("viewAll","updateAllOutComeKpis","updateAllOutputKpis","updateAllIssueLogs","updateAllActivities","updateAllExecutiveSummaries","crudArtifacts","crudUsers","viewParentage").forEach(function(t,i){t&&e.push(i)}).value(),this.rights=_.map(this.rights,function(t){return t.isSelected=_.include(e,t.key),t})}},{key:"listUsers",value:function(){var t=this;t.UserAdapter.listUsers().then(function(e){t.users=e,t.gridOptions.data=e},function(){t.showStatusTimeout(t.translations["ADMIN.ERROR_GETTING_USER_LIST"])})["finally"](function(){t.$rootScope.$broadcast("DATA_RECEIVED"),t.$rootScope.$broadcast("HIDE_SPINNER")})}},{key:"showStatusTimeout",value:function(t){var e=this;e.statusText=t}},{key:"showModal",value:function(t){var e=this;e.deleteConfirmModal=!0,e.deleteUserData=t}},{key:"getEditUserData",value:function(){return this.editUserData}},{key:"populateuserData",value:function(t){var e=this;e.userEmail=t.email,e.userName=t.name,e.selectedDept=t.department?t.department:"",e.UserAdapter.getUserRights().then(function(i){e.rights=i,e.setSelectedRights(t)}),e.populateDepartments()}},{key:"closeDropdown",value:function(){var t=this;t.dropdownStatus=!1,t.departmentBox=!1,t.newDepartment=""}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r){"ngInject";i(this,t);var l=this;l.$location=a,l.AuthService=e,l.errorMessage="",l.LocalStorage=n,l.spinner={isVisibile:!1},l.changePasswordEnabled=!1,l.translationHolder=["RESET_PASSWORD.PASSWORD_REQUIREMENT","RESET_PASSWORD.PASSWORDS_DONT_MATCH"],r(l.translationHolder).then(function(t){l.translations=t}),s.$broadcast("DATA_RECEIVED"),s.$broadcast("HIDE_SPINNER")}return t.$inject=["AuthService","$location","LocalStorage","$rootScope","$translate"],a(t,[{key:"passwordMatch",value:function(){var t=this;t.confirmNewPassword!==t.newPassword?(t.changePasswordEnabled=!1,t.errorMessage=t.translations["RESET_PASSWORD.PASSWORDS_DONT_MATCH"],t.confirmNewPassword||(t.errorMessage="")):t.newPassword&&t.confirmNewPassword?(t.changePasswordEnabled=!0,t.errorMessage=""):t.changePasswordEnabled=!1}},{key:"changePassword",value:function(){var t=this;t.spinner.isVisibile=!0;var e=[/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/,/^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()])[a-zA-Z!@#$%^&*()]{8,}$/,/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()])[a-zA-Z!@#$%^&*()\d]{8,}$/,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()])[\da-zA-Z!@#$%^&*()]{8,}$/],i=_.chain(e).map(function(e){return t.newPassword.match(e)}).remove(function(t){return t}).value().length;0===i?(t.errorMessage=t.translations["RESET_PASSWORD.PASSWORD_REQUIREMENT"],t.spinner.isVisibile=!1):t.AuthService.changePassword(t.newPassword).then(function(){t.spinner.isVisibile=!1,t.AuthService.logout().then(function(){t.$location.path("/login")})})}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s,r,l,o,c){"ngInject";i(this,n);var d=this,u=o.getUserRights();d.translationHolder=["OUTPUT_KPI","OUTCOME_KPI","INITIATIVE","PRIORITY","FORM.LINE","FORM.DIAL","FORM.BIG_NUMBER","FORM.SPEEDOMETER","FORM.SAVE_KPI","FORM.ADD_KPI","FORM.SHOULD_HAVE_AT_LEAST_ONE_CHILD_KPI","FORM.SUM_CHILD_KPI_BASELINE_EQUALS_PARENT_KPI_BASELINE","FORM.SUM_CHILD_KPI_TARGET_EQUALS_PARENT_KPI_TARGET","FORM.SYNC_THE_REQUEST_ONCE_ONLINE","FORM.UPDATED_SUCCESSFULLY","FORM.DELETED_SUCCESSFULLY","FORM.ADDED_SUCCESSFULLY","FORM.SOMETHING_WENT_WRONG","CARD.MILESTONE","FORM.PERCENTAGE","FORM.PERCENTILE","FORM.NUMBER","FORM.SEPARATOR_ERROR","FORM.TARGET_MISMATCH_ERROR"],d.isEdit="edit"===e.formStatus,d.currentPage=0,d.isOutput="output"===e.kpiType,d.btnSpinner=!1;var p={timePoint:null,targetValue:null,actualValue:null,deleted:!1},v={kpi:null,initiativeId:null,baseline:null,target:null,kpiType:null,deleted:!1};d.kpiData={kpi:null,baseline:null,target:null,uom:null,initiativeId:null,isCalculated:!1,kpiType:null,deleted:!1,fom:null},d.isLastLevelInitiative=!1,d.errorModel=!1,d.totalChildKpi=[angular.copy(v)],d.totalMilestones=[angular.copy(p)],d.baselineMsg="",d.targetMsg="",d.hasChildren=!1,d.parentKpi=null,s.getSkeleton(e.initiativeId).then(function(){t.$broadcast("DATA_RECEIVED")});var g=function(){t.$broadcast("HIDE_SPINNER")},f=function(){d.isOutput&&s.getInitiativeTree(e.initiativeId).then(function(t){d.childInitiatives=_.filter(t,function(t){return"initiative"===t.type.toLowerCase()&&t.parentId===parseInt(e.initiativeId)})}),d.isEdit?(d.deleteCheck=!0,s.getSingleInitiative(e.initiativeId,!1,!0).then(function(t){u.crudArtifacts||u.updateAllOutputKpis||u.updateAllOutComeKpis||t.isEditable||l.path("/landing"),d.current=t,d.initiative=d.current.initiative,d.kpiData=_.where(d.current.KPI,{sno:parseInt(e.sno)})[0],d.kpiData.linkKpi&&!d.isOutput&&(d.editLinkKpiData=_.find(d.linkKpis,function(t){return t.sno===d.kpiData.linkKpi})),d.isChildKpi=0===d.kpiData.parentKpi||null===d.kpiData.parentKpi?!1:!0,d.kpiData.target=parseFloat(d.kpiData.target),d.kpiData.baseline=parseFloat(d.kpiData.baseline),d.kpiData["KPI Milestone"]=_.forEach(d.kpiData["KPI Milestone"],function(t){t.timePoint=new Date(t.timePoint),t.actualValue=parseFloat(t.actualValue),t.targetValue=parseFloat(t.targetValue),t.deleted=!1}),d.kpiData.parentKpi&&"0"!==d.kpiData.parentKpi&&null!==d.kpiData.parentKpi&&s.getKpi(d.kpiData.parentKpi).then(function(t){d.parentKpi=t.kpi}),r.getChildKpis(parseInt(e.sno)).then(function(t){d.totalChildKpi=_.chain(t).map(function(t){return t.initiativeId&&(t.initiativeId=t.initiativeId.initiativeId),t}).sortBy(function(t){return t.createdAt}).value(),d.isLastLevelInitiative=d.isOutput?d.childInitiatives&&d.childInitiatives.length>0?!1:!0:!1,d.hasChildren=d.totalChildKpi.length>0?!0:!1,d.totalChildKpi=_.forEach(d.totalChildKpi,function(t){t.target=parseFloat(t.target),t.baseline=parseFloat(t.baseline),t.deleted=!1}),d.kpiData.isCalculated?d.totalMilestones=[]:(d.totalMilestones=_.sortBy(angular.copy(d.kpiData["KPI Milestone"]),"timePoint").reverse(),d.milestonesNotDeleted=_.where(d.totalMilestones,{deleted:!1}).length),d.kpiData.widget||(d.kpiData.widget=d.isOutput?"speedometer":"line"),d.kpiData=_.omit(d.kpiData,"KPI Milestone")})["finally"](function(){g()})})):(u.crudArtifacts||u.updateAllOutputKpis||u.updateAllOutComeKpis||l.path("/landing"),s.getSingleInitiative(e.initiativeId,!1,!0).then(function(t){d.isLastLevelInitiative=!t.hasChildren,d.current=t,d.initiative=d.current?d.current.initiative:"",d.kpiData.initiativeId=d.current?d.current.initiativeId:"",d.milestonesNotDeleted=_.where(d.totalMilestones,{deleted:!1}).length,d.isOutput||(d.kpiData.parentKpi=e.sno,d.isLastLevelInitiative=!1),d.kpiData.parentKpi&&"0"!==d.kpiData.parentKpi&&null!==d.kpiData.parentKpi?s.getKpi(d.kpiData.parentKpi).then(function(t){d.parentKpi=t?t.kpi:null})["finally"](function(){g()}):g()}))};c(d.translationHolder).then(function(t){d.translations=t,d.kpiLabel=d.isOutput?d.translations.OUTPUT_KPI:d.translations.OUTCOME_KPI,d.widgets=[d.translations["FORM.DIAL"],d.translations["FORM.BIG_NUMBER"],d.translations["FORM.SPEEDOMETER"]],d.parentLabel=d.isOutput?d.translations.INITIATIVE:d.translations.PRIORITY,d.widgets=_.sortBy(d.widgets),d.buttonName=d.isEdit?d.translations["FORM.SAVE_KPI"]:d.translations["FORM.ADD_KPI"],f()}),d.addKpi=function(){d.btnSpinner=!0;var t={};d.baselineMsg="",d.targetMsg="",d.errorMsg="",d.actualMsg="",t.kpiType=e.kpiType,d.isEdit?(t.kpiMilestones=_.chain(angular.copy(d.totalMilestones)).forEach(function(t){t.timePoint=a.convertDateMmDdYyyy(t.timePoint)}).reject(function(t){return!t.sno&&t.deleted}).value(),d.kpiData.initiativeId=d.kpiData.parentInitiative?d.kpiData.parentInitiative.initiativeId:d.kpiData.initiativeId,delete d.kpiData.parentInitiative,t.kpiData=d.kpiData,d.totalChildKpi=_.forEach(d.totalChildKpi,function(t){t.kpiType=e.kpiType,d.isOutput||(t.initiativeId=e.initiativeId)}),t.childKpis=d.totalChildKpi):(d.kpiData.kpiType=e.kpiType,t.kpiData=d.kpiData,t.childKpis=_.forEach(d.totalChildKpi,function(t){t.kpiType=e.kpiType,d.isOutput||(t.initiativeId=e.initiativeId)}),t.kpiMilestones=_.chain(angular.copy(d.totalMilestones)).forEach(function(t){t.timePoint=a.convertDateMmDdYyyy(t.timePoint)}).filter({deleted:!1}).value()),d.separatorMsg="","outcome"===t.kpiType.toLowerCase()&&t.kpiData.statusSeparator1<t.kpiData.statusSeparator2&&(d.separatorMsg=d.translations["FORM.SEPARATOR_ERROR"]),d.targetMismatchError="";var i=_.chain(t.kpiMilestones).filter({deleted:!1}).sortBy(function(t){return new Date(t.timePoint)}).value().reverse();i[0]&&!t.kpiData.isCalculated&&Math.round(100*t.kpiData.target)/100!==Math.round(100*i[0].targetValue)/100&&(d.targetMismatchError=d.translations["FORM.TARGET_MISMATCH_ERROR"]),d.hasChildren||(_.each(t.childKpis,function(t){t.deleted=!0}),d.kpiData.isCalculated=!1),t.kpiData.isCalculated&&d.hasChildren&&(d.errorMsg=t.childKpis&&0===t.childKpis.length?d.translations["FORM.SHOULD_HAVE_AT_LEAST_ONE_CHILD_KPI"]:"",d.baselineMsg=d.kpiData.baseline!==_.chain(d.totalChildKpi).filter(function(t){return!t.deleted}).pluck("baseline").sum().value()?d.translations["FORM.SUM_CHILD_KPI_BASELINE_EQUALS_PARENT_KPI_BASELINE"]:"",d.targetMsg=d.kpiData.target!==_.chain(d.totalChildKpi).filter(function(t){return!t.deleted}).pluck("target").sum().value()?d.translations["FORM.SUM_CHILD_KPI_TARGET_EQUALS_PARENT_KPI_TARGET"]:""),t.kpiData.isCalculated&&(t.kpiMilestones=[]),t.childKpis=_.map(t.childKpis,function(e){return e.statusSeparator1=t.kpiData.statusSeparator1,e.statusSeparator2=t.kpiData.statusSeparator2,e}),""===d.baselineMsg&&""===d.targetMsg&&""===d.errorMsg&&""===d.actualMsg&&""===d.separatorMsg&&""===d.targetMismatchError?s.postData(t,"upsert-kpi").then(function(t){d.afterRequest(t,d.isEdit?"edit":"add")}):d.errorModel=!0},d.deleteKpi=function(){d.btnSpinner=!0,s.deleteData("kpi/"+d.kpiData.sno).then(function(t){d.afterRequest(t,"delete")})},d.afterRequest=function(t,e){if(t&&t.isOffline)d.statusMsg=d.translations["FORM.SYNC_THE_REQUEST_ONCE_ONLINE"];else if(t&&t.status&&"error"===t.status.toLowerCase())d.isError=!0,d.statusMsg=t.message;else{var i={add:t?d.kpiLabel+" "+d.translations["FORM.ADDED_SUCCESSFULLY"]:d.translations["FORM.SOMETHING_WENT_WRONG"],edit:t?d.kpiLabel+" "+d.translations["FORM.UPDATED_SUCCESSFULLY"]:d.translations["FORM.SOMETHING_WENT_WRONG"],"delete":t?d.kpiLabel+" "+d.translations["FORM.DELETED_SUCCESSFULLY"]:d.translations["FORM.SOMETHING_WENT_WRONG"]};d.statusMsg=i[e]}d.deleteModel=!1,d.statusModel=!0,d.btnSpinner=!0},d.addMilestone=function(){d.currentPage=0,d.totalMilestones.unshift(angular.copy(p)),d.milestonesNotDeleted=_.where(d.totalMilestones,{deleted:!1}).length},d.addChildKpi=function(){d.totalChildKpi.push(angular.copy(v))},d.deleteMilestone=function(t){t.deleted=!0,d.milestonesNotDeleted=_.where(d.totalMilestones,{deleted:!1}).length,0!==this.currentPage&&this.milestonesNotDeleted%5===0&&(this.currentPage-=1)},d.deleteChildKpi=function(t){d.totalChildKpi[t].deleted=!0},d.editChild=function(t){l.path("/output/"+t.initiativeId+"/form/edit/"+t.kpiType.toLowerCase()+"/"+t.sno)},d.update=function(){d.editLinkKpiData=!1}};a.$inject=["$rootScope","$routeParams","MainAdapter","DataService","FormService","$location","LocalStorage","$translate"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l){"ngInject";i(this,t);var o=this;o.InitiativeAdapter=e,o.$rootScope=n,o.initiativeId=Number(a.initiativeId),o.DataService=s,o.$timeout=r,o.translationHolder=["POSTPONE.SOME_ERROR","POSTPONE.PROBLEM_LOADING_INITIATIVES","STATUS.INITIATIVE_ARTIFACTS_POSTPONED"],l(o.translationHolder).then(function(t){o.translations=t}),s.getSkeleton(o.initiativeId).then(function(){n.$broadcast("DATA_RECEIVED")}),o.init()}return t.$inject=["InitiativeAdapter","$routeParams","$rootScope","DataService","$timeout","$translate"],a(t,[{key:"init",value:function(){var t=this;t.daysToBeShifted=0,t.dateFromShift=new Date,t.transformInitiatives(),t.initiativeData=[],t.spinnerVisibility=!1,t.modalVisibility=!1}},{key:"submitForm",
value:function(){var t=this;if(t.spinnerVisibility=!0,navigator.onLine&&t.isFormValid()){var e=t.dateFromShift.getMonth()+1+"/"+t.dateFromShift.getDate()+"/"+t.dateFromShift.getFullYear(),i=_.chain(t.initiativeData).filter({isSelected:!0}).pluck("initiativeId").value(),a={initiativeIds:i,days:t.daysToBeShifted,afterDate:e};t.DataService.postData(a,"initiative/postpone").then(function(e){e&&"ok"===e.status?(t.showStatusTimeout(t.translations[e.message]),t.$rootScope.$broadcast("SHOW_SPINNER"),t.init()):t.showStatusTimeout(t.translations["POSTPONE.SOME_ERROR"])})}}},{key:"showStatusTimeout",value:function(t){var e=this;e.spinnerVisibility=!0,e.statusText=t,e.modalVisibility=!1,e.$timeout(function(){e.statusText=""},3e3)}},{key:"transformInitiatives",value:function(){var t=this;t.DataService.getInitiativeTree(t.initiativeId).then(function(e){e.length>0?_.map(e,function(e){t.initiativeData.push({initiative:e.initiative,isSelected:!1,initiativeId:e.initiativeId})}):t.showStatusTimeout(t.translations["POSTPONE.PROBLEM_LOADING_INITIATIVES"])})["finally"](function(){t.$rootScope.$broadcast("HIDE_SPINNER")})}},{key:"isFormValid",value:function(){return _.chain(this.initiativeData).filter({isSelected:!0}).pluck("initiative").value().length>0&&this.daysToBeShifted>0}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s,r,l,o,c){"ngInject";i(this,n);var d=this,u=l.getUserRights();u.crudArtifacts||o.path("/landing"),d.userList=[],d.btnSpinner=!1,d.DataService=a,d.evidenceObj={title:null,link:null,type:"add"},d.totalEvidences=[angular.copy(d.evidenceObj)],d.translationHolder=["PRIORITY","INITIATIVE","FORM.ADD_INITIATIVE","FORM.ADD_PRIORITY","FORM.SAVE_INITIATIVE","FORM.SAVE_PRIORITY","FORM.SYNC_THE_REQUEST_ONCE_ONLINE","FORM.SOMETHING_WENT_WRONG","FORM.ADDED_SUCCESSFULLY","FORM.DELETED_SUCCESSFULLY","FORM.UPDATED_SUCCESSFULLY","FORM.SELECT_ALL","FORM.SELECT_NONE","ADMIN.RESET","SEARCH.ENTER_SEARCH_QUERY","FORM.NOTHING_SELECTED"],r.getDepartments().then(function(t){d.deptList=_.sortBy(t,function(t){return t.toLowerCase()})});var p=function(){var t=e.initiativeId?e.initiativeId:0;a.getSkeleton(t).then(function(){s.$broadcast("DATA_RECEIVED")}),"new"===e.formStatus?(d.buttonName="priority"===e.priority?d.translations["FORM.ADD_PRIORITY"]:d.translations["FORM.ADD_INITIATIVE"],a.getSingleInitiative(t,!0).then(function(t){d.parent=t,d.parentName=d.parent?d.parent.initiative:"",d.totalEvidences=[]})["finally"](function(){s.$broadcast("HIDE_SPINNER")})):"edit"===e.formStatus&&(d.buttonName="priority"===e.priority?d.translations["FORM.SAVE_PRIORITY"]:d.translations["FORM.SAVE_INITIATIVE"],d.deleteCheck=!0,a.getSingleInitiative(t,!0).then(function(t){if(t&&(d.current=t,a.getSingleInitiative(d.current.parentId,!0).then(function(t){d.parent=t,d.parentName=d.parent?d.parent.initiative:""}),d.initiative=d.current.initiative,d.originalParticipants=_.pluck(t.participants,"id"),_.map(d.participantList,function(t){t.ticked=_.indexOf(d.originalParticipants,t.id)>-1?!0:!1}),d.totalEvidences=0===t.evidence.length?[]:t.evidence.reverse(),d.current.owner)){d.selectedDept=d.current.owner.department,d.selectedUserList=d.getSelectedUserList(d.current.owner.department);var e=void 0;_.find(d.selectedUserList,function(t,i){t.id===d.current.owner.id&&(e=i)}),d.selectedUser=d.selectedUserList[e]}})["finally"](function(){s.$broadcast("HIDE_SPINNER")}))};c(d.translationHolder).then(function(i){d.translations=i,d.localLang={selectAll:d.translations["FORM.SELECT_ALL"],selectNone:d.translations["FORM.SELECT_NONE"],reset:d.translations["ADMIN.RESET"],search:d.translations["SEARCH.ENTER_SEARCH_QUERY"],nothingSelected:d.translations["FORM.NOTHING_SELECTED"]},d.selectedDept=d.translations["FORM.SELECT_NONE"],d.initiativeLabel="priority"===e.priority?d.translations.PRIORITY:d.translations.INITIATIVE,t.getUserList().then(function(t){d.userList=_.map(t,function(t){return t.listLabel=t.name+" = "+t.email,t}),d.selectedUserList=_.sortBy(d.userList,function(t){return t.name.toLowerCase()}),d.participantList=_.map(t,function(t){return t.info=t.name+" = "+t.email,t.ticked=!1,t}),p()})}),d.addInitiative=function(){var i={},n=_.pluck(d.selectedParticipants,"id");i.type="priority"===e.priority?"Priority":"Initiative",i.initiative=d.initiative,i.owner=d.selectedUser?d.selectedUser.id:"",i.dept=d.selectedDept,i.evidence=[],d.btnSpinner=!0,"new"===e.formStatus?(i.participants=n,i.parentId=d.parent?d.parent.initiativeId:"",i.evidence=_.chain(angular.copy(d.totalEvidences)).forEach(function(t){t.title=t.title,t.link=t.link,t.type=t.type}).value(),a.postData(i,"initiative").then(function(t){d.afterRequest(t,"add")})):"edit"===e.formStatus&&(i.participants=t.createEditParticipantsList(n,d.originalParticipants),i.parentId=d.current?d.current.parentId:"",i.evidence=_.chain(angular.copy(d.totalEvidences)).forEach(function(t){t.title=t.title,t.link=t.link,t.type=t.type}).value(),a.setData(i,"initiative/"+d.current.initiativeId).then(function(t){d.afterRequest(t,"edit")}))},d.afterRequest=function(t,e){if(t&&t.isOffline)d.statusMsg=d.translations["FORM.SYNC_THE_REQUEST_ONCE_ONLINE"];else if(t&&t.status&&"error"===t.status.toLowerCase())d.isError=!0,d.statusMsg=d.translations["FORM.SOMETHING_WENT_WRONG"];else{var i={add:t?d.initiativeLabel+" "+d.translations["FORM.ADDED_SUCCESSFULLY"]:d.translations["FORM.SOMETHING_WENT_WRONG"],edit:t?d.initiativeLabel+" "+d.translations["FORM.UPDATED_SUCCESSFULLY"]:d.translations["FORM.SOMETHING_WENT_WRONG"],"delete":t?d.initiativeLabel+" "+d.translations["FORM.DELETED_SUCCESSFULLY"]:d.translations["FORM.SOMETHING_WENT_WRONG"]};d.statusMsg=i[e]}d.deleteModel=!1,d.statusModel=!0,d.btnSpinner=!1},d.addEvidence=function(){d.totalEvidences.unshift(angular.copy(d.evidenceObj))},d.deleteEvidence=function(t){t.type="remove"},d.deleteInitiative=function(){d.btnSpinner=!0,a.deleteData("initiative/"+e.initiativeId).then(function(t){d.afterRequest(t,"delete")})},d.selectDept=function(t,e){d.selectedUserId=!1,d.selectedDept=t?t:"",d.selectedUser=e?e:"",t&&t!==d.translations["FORM.SELECT_NONE"]&&(d.selectedUserList=d.getSelectedUserList(t))},d.sortParticipantsList=function(){d.participantList=_.sortBy(d.participantList,function(t){return!t.ticked})},d.getSelectedUserList=function(t){var e=this;return _.chain(e.userList).filter({department:t}).sortBy(function(t){return t.name.toLowerCase()}).value()}};a.$inject=["FormService","$routeParams","DataService","$rootScope","UserAdapter","LocalStorage","$location","$translate"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c,d){"ngInject";i(this,t);var u=this;u.MainAdapter=a,u.FormService=s,u.DataService=e,u.UserAdapter=o,u.initiativeID=n.initiativeId,u.formStatus=n.formStatus,u.LocalStorage=c,u.location=l,u.rootScope=r,u.participantList=[],u.evidenceObj={title:null,link:null,type:"add"},u.totalEvidences=[angular.copy(u.evidenceObj)],u.translationHolder=["FORM.ACTIVITY_SUCCESSFULLY_ADDED","FORM.ACTIVITY_SUCCESSFULLY_DELETED","FORM.ACTIVITY_SUCCESSFULLY_UPDATED","FORM.SYNC_THE_REQUEST_ONCE_ONLINE","FORM.SOMETHING_WENT_WRONG","FORM.SELECT_ALL","FORM.SELECT_NONE","ADMIN.RESET","SEARCH.ENTER_SEARCH_QUERY","FORM.NOTHING_SELECTED"],d(u.translationHolder).then(function(t){u.translations=t,u.localLang={selectAll:u.translations["FORM.SELECT_ALL"],selectNone:u.translations["FORM.SELECT_NONE"],reset:u.translations["ADMIN.RESET"],search:u.translations["SEARCH.ENTER_SEARCH_QUERY"],nothingSelected:u.translations["FORM.NOTHING_SELECTED"]},u.selectedDept=u.translations["FORM.SELECT_NONE"],u.populateDeptData(),u.init()})}return t.$inject=["DataService","MainAdapter","$routeParams","FormService","$rootScope","$location","UserAdapter","LocalStorage","$translate"],a(t,[{key:"init",value:function(){var t=this,e=t.LocalStorage.getUserRights();t.btnSpinner=!1,t.DataService.getSkeleton(t.initiativeID).then(function(){t.rootScope.$broadcast("DATA_RECEIVED")}),t.DataService.getSingleInitiative(t.initiativeID,!0).then(function(i){t.initiative=i,t.originalParticipants=_.pluck(i.participants,"id"),t.totalEvidences=0===i.evidence.length?[]:i.evidence.reverse(),t.populateOwnerData(),"new"===t.formStatus?(e.crudArtifacts||t.location.path("/landing"),t.addButton=!0,t.parentName=t.initiative?t.initiative.initiative:"",t.rootScope.$broadcast("HIDE_SPINNER")):"edit"===t.formStatus&&(e.crudArtifacts||e.updateAllActivities||t.initiative.isEditable||t.location.path("/landing"),t.editButton=!0,t.DataService.getSingleInitiative(t.initiative.parentId,!0).then(function(e){t.parentName=e?e.initiative:""})["finally"](function(){t.rootScope.$broadcast("HIDE_SPINNER")}),t.activity=t.initiative.initiative,t.plannedStartDate=t.FormService.resetDate(t.initiative.plannedStartDate),t.plannedEndDate=t.FormService.resetDate(t.initiative.plannedEndDate),t.actualStartDate=t.initiative.actualStartDate?t.FormService.resetDate(t.initiative.actualStartDate):null,t.actualEndDate=t.initiative.actualEndDate?t.FormService.resetDate(t.initiative.actualEndDate):null),t.populateDeptData()})["finally"](function(){t.rootScope.$broadcast("HIDE_SPINNER")})}},{key:"getSelectedUserList",value:function(t){var e=this;return _.chain(e.userList).filter({department:t}).sortBy(function(t){return t.name.toLowerCase()}).value()}},{key:"populateOwnerData",value:function(){var t=this;t.FormService.getUserList().then(function(e){t.userList=_.map(e,function(t){return t.listLabel=t.name+" = "+t.email,t}),t.participantList=_.map(e,function(t){return t.info=t.name+" = "+t.email,t.ticked=!1,t}),t.selectedUserList=_.sortBy(t.userList,function(t){return t.name.toLowerCase()}),"edit"===t.formStatus&&_.map(t.participantList,function(e){return e.ticked=_.indexOf(t.originalParticipants,e.id)>-1?!0:!1,e})})["finally"](function(){if(t.initiative.owner&&"edit"===t.formStatus){t.selectedDept=t.initiative.owner.department;var e=void 0;t.selectedUserList=t.getSelectedUserList(t.initiative.owner.department),_.each(t.selectedUserList,function(i,a){i.id===t.initiative.owner.id&&(e=a)}),t.selectedUser=t.selectedUserList[e]}})}},{key:"populateDeptData",value:function(){var t=this;t.UserAdapter.getDepartments().then(function(e){t.deptList=_.sortBy(e,function(t){return t.toLowerCase()})})}},{key:"setRequestObject",value:function(t){var e=this,i=_.pluck(e.selectedParticipants,"id"),a={};return a.type="activity",a.initiative=e.activity,a.evidence=[],"add"===t?(a.participants=i,a.parentId=e.initiative?e.initiative.initiativeId:""):"edit"===t&&(a.participants=e.FormService.createEditParticipantsList(i,e.originalParticipants),a.parentId=e.initiative?e.initiative.parentId:""),a.dept=e.selectedDept,a.owner=e.selectedUser?e.selectedUser.id:"",a.plannedStartDate=e.MainAdapter.convertDateMmDdYyyy(e.plannedStartDate),a.plannedEndDate=e.plannedEndDate?e.MainAdapter.convertDateMmDdYyyy(e.plannedEndDate):"",a.actualStartDate=e.actualStartDate?e.MainAdapter.convertDateMmDdYyyy(e.actualStartDate):"",a.actualEndDate=e.actualEndDate?e.MainAdapter.convertDateMmDdYyyy(e.actualEndDate):"",a.evidence=_.chain(angular.copy(e.totalEvidences)).forEach(function(t){t.title=t.title,t.link=t.link,t.type=t.type}).value(),a}},{key:"afterRequest",value:function(t,e){var i=this;if(t&&t.isOffline)i.statusMsg=i.translations["FORM.SYNC_THE_REQUEST_ONCE_ONLINE"];else if(t&&t.status&&"error"===t.status.toLowerCase())i.isError=!0,i.statusMsg=i.translations["FORM.SOMETHING_WENT_WRONG"];else{var a={add:t?i.translations["FORM.ACTIVITY_SUCCESSFULLY_ADDED"]:i.translations["FORM.SOMETHING_WENT_WRONG"],edit:t?i.translations["FORM.ACTIVITY_SUCCESSFULLY_UPDATED"]:i.translations["FORM.SOMETHING_WENT_WRONG"],"delete":t?i.translations["FORM.ACTIVITY_SUCCESSFULLY_DELETED"]:i.translations["FORM.SOMETHING_WENT_WRONG"]};i.statusMsg=a[e]}i.statusModel=!0,i.btnSpinner=!1,i.deleteModel=!1}},{key:"addEvidence",value:function(){var t=this;t.totalEvidences.unshift(angular.copy(t.evidenceObj))}},{key:"deleteEvidence",value:function(t){t.type="remove"}},{key:"addActivity",value:function(){var t=this,e=t.setRequestObject("add");t.btnSpinner=!0,t.DataService.postData(e,"initiative").then(function(e){t.afterRequest(e,"add")})}},{key:"editActivity",value:function(){var t=this,e=t.setRequestObject("edit");t.btnSpinner=!0,t.DataService.setData(e,"initiative/"+t.initiative.initiativeId).then(function(e){t.afterRequest(e,"edit")})}},{key:"deleteActivities",value:function(){var t=this;t.btnSpinner=!0,t.DataService.deleteData("initiative/"+t.initiativeID).then(function(e){t.afterRequest(e,"delete")})}},{key:"selectDept",value:function(t,e){var i=this;i.selectedUserId=!1,i.selectedDept=t?t:"",i.selectedUser=e?e:"",t&&t!==i.translations["FORM.SELECT_NONE"]&&(i.selectedUserList=i.getSelectedUserList(t))}},{key:"sortParticipantsList",value:function(){var t=this;t.participantList=_.sortBy(t.participantList,function(t){return!t.ticked})}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o){"ngInject";i(this,t);var c=this;c.DataService=e,c.OfflineService=n,c.FormService=s,c.UserAdapter=r,c.rootScope=a,c.downloadModal=!1,c.messageModal=!1,c.isOnline=e.isOnline(),c.translationHolder=["SYNC.DATA_DOWNLOAD_SUCCESSFUL"],o(c.translationHolder).then(function(t){c.translations=t}),a.$broadcast("DATA_RECEIVED"),c.pendingRequests=c.OfflineService.getcollection("offline-request"),a.$broadcast("HIDE_SPINNER"),l.$on("SYNC_UPDATES",function(){c.pendingRequests=c.OfflineService.getcollection("offline-request")})}return t.$inject=["DataService","$rootScope","OfflineService","FormService","UserAdapter","$scope","$translate"],a(t,[{key:"checkUnsynced",value:function(){var t=this;t.pendingRequests.length>0?t.downloadModal=!0:t.syncFromServer()}},{key:"isSyncDataAvailable",value:function(){var t=this;return t.OfflineService.isDataSynced()&&navigator.onLine}},{key:"syncToServer",value:function(){var t=this;t.downloadModal=!1,t.DataService.syncData()}},{key:"syncFromServer",value:function(){var t=this;t.downloadModal=!1,t.rootScope.$broadcast("SHOW_SPINNER"),t.OfflineService.clearBeforeSync(),t.DataService.getAllInitiatives().then(function(e){t.message=e&&e.data.length>0?t.translations["SYNC.DATA_DOWNLOAD_SUCCESSFUL"]:t.translations["SYNC.DATA_DOWNLOAD_UNSUCCESSFUL"],t.messageModal=!0,t.rootScope.$broadcast("HIDE_SPINNER")}),t.FormService.getUserList(),t.UserAdapter.getDepartments()}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a){"ngInject";i(this,n),t.isIE()||!t.isStorageSupported()?a.$broadcast("HIDE_SPINNER"):e.path("/login")};a.$inject=["MainAdapter","$location","$rootScope"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s){"ngInject";i(this,t);var r=this;r.DataService=e,r.InitiativeAdapter=n,r.mailContent="",r.emailToDept={parentOwners:!1,participants:!1},r.user=s.username(),r.translationHolder=["EMAIL_OWNER.HAS_LEFT_MSG","EMAIL_OWNER.HELLO","EMAIL_OWNER.MR/MS","EMAIL_OWNER.SEND_TO_PARTICIPANTS"],a(r.translationHolder).then(function(t){r.translations=t})}return t.$inject=["DataService","$translate","InitiativeAdapter","AuthService"],a(t,[{key:"sendEmailTo",value:function(t,e){var i=this;i.fullParentChain=_.forEach(i.InitiativeAdapter.getParentChain(e,!0),function(t){t.type=_.capitalize(t.type)});var a={hello:"",hierarchy:"",content:""};a.hello=i.translations["EMAIL_OWNER.HELLO"]+" "+t.name+",\n",a.content="\n"+i.mailContent,a.hierarchy=i.translations["EMAIL_OWNER.MR/MS"]+" "+i.user+" "+i.translations["EMAIL_OWNER.HAS_LEFT_MSG"]+"\n",_.forEach(i.fullParentChain,function(t,e){a.hierarchy+=t.type+' "'+t.name+'"',i.fullParentChain.length>1&&e!==i.fullParentChain.length-1&&(a.hierarchy+=",\n")});var n="";_.forEach(a,function(t){n=n+t+"\n"});var s=i.emailToDept.parentOwners?"true":"false",r=i.emailToDept.participants?"true":"false",l={initiativeId:e,message:n,allOwners:s,participants:r},o="send-mail";i.mailContent="",i.DataService.postData(l,o)}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s){"ngInject";i(this,t);var r=this;r.DataService=e,r.$rootScope=n,r.CONSTANTS=a,r.showUploadModal=!0,r.showErrorModal=!1,r.showSuccessModal=!1,r.translationHolder=["MILESTONE_TEMPLATE.SNO","MILESTONE_TEMPLATE.ERROR_TYPE","MILESTONE_TEMPLATE.INITIATIVE_ID","MILESTONE_TEMPLATE.INITIATIVE_NAME","MILESTONE_TEMPLATE.PARENT_ID","MILESTONE_TEMPLATE.KPI_NAME","MILESTONE_TEMPLATE.TIME_POINT","MILESTONE_TEMPLATE.TARGET_VALUE","MILESTONE_TEMPLATE.ACTUAL_VALUE","MILESTONE_TEMPLATE.MILESTONE_UPDATED_SUCCESSFULLY"],s(r.translationHolder).then(function(t){r.translations=t,r.errorHeadings=[r.translations["MILESTONE_TEMPLATE.SNO"],r.translations["MILESTONE_TEMPLATE.ERROR_TYPE"],r.translations["MILESTONE_TEMPLATE.INITIATIVE_ID"],r.translations["MILESTONE_TEMPLATE.INITIATIVE_NAME"],r.translations["MILESTONE_TEMPLATE.PARENT_ID"],r.translations["MILESTONE_TEMPLATE.KPI_NAME"],r.translations["MILESTONE_TEMPLATE.TIME_POINT"],r.translations["MILESTONE_TEMPLATE.TARGET_VALUE"],r.translations["MILESTONE_TEMPLATE.ACTUAL_VALUE"]]}),r.keys=["initiativeId","initiativeName","parentId","kpiName","timePoint","targetValue","actualValue"]}return t.$inject=["DataService","pushAppConstants","$rootScope","$translate"],a(t,[{key:"CSVToArray",value:function(t,e){e=e||",";for(var i=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),a=[[]],n=i.exec(t);n;){var s=n[1];s.length&&s!==e&&a.push([]);var r;r=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],a[a.length-1].push(r),n=i.exec(t)}return a}},{key:"CSV2JSON",value:function(t){for(var e=this.CSVToArray(t),i=[],a=1;a<e.length;a++){i[a-1]={};for(var n=0;n<e[0].length&&n<e[a].length;n++){var s=e[0][n];i[a-1][s]=e[a][n]}}var r=JSON.stringify(i),l=r.replace(/},/g,"},\r\n");return l}},{key:"uploadTemplate",value:function(){var t=this;t.btnSpinner=!0;var e="uploadmilestone",i=new FileReader;i.readAsText(document.getElementById("milestoneData").files[0]),i.onload=function(i){var a=i.target.result,n=JSON.parse(t.CSV2JSON(a));n=_.reject(n,{sno:""}),t.DataService.postData({milestone:n},e).then(function(e){t.btnSpinner=!1,e.status&&"errors"===e.status.toLowerCase()?(t.showUploadModal=!1,t.errorData=e.errors,t.showErrorModal=!0):e.status&&"error"===e.status.toLowerCase()?(t.showUploadModal=!1,t.modalMessage=e.message,t.showSuccessModal=!0):(t.showUploadModal=!1,t.modalMessage=t.translations["MILESTONE_TEMPLATE.MILESTONE_UPDATED_SUCCESSFULLY"],t.showSuccessModal=!0)})}}},{key:"closeUploadModal",value:function(){var t=this;t.$rootScope.$broadcast("CLOSE_UPLOAD_MODAL"),t.showUploadModal=!1,t.newMilestone=!1,t.milestoneData=void 0}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a){"ngInject";i(this,t);var n=this;n.$rootScope=a,n.showDownloadModal=!0,n.CONSTANTS=e}return t.$inject=["pushAppConstants","$rootScope"],a(t,[{key:"downloadTemplate",value:function(){var t=this;window.open(t.CONSTANTS.server.url+"milestoneformat","_blank"),t.closeModal()}},{key:"closeModal",value:function(){var t=this;t.showDownloadModal=!1,t.$rootScope.$broadcast("CLOSE_DOWNLOAD_MODAL")}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(){"ngInject";i(this,n),this.templateUrl="app/components/breadcrumb/breadcrumb.html",this.restrict="AE",this.scope={crumbs:"=",isRtl:"="},this.link=function(t){t.breadCrumb={},t.breadCrumb.isOpen=!1,t.lastItem=_.last(t.crumbs),t.crumbs=_.map(t.crumbs,function(t){return t.type&&(t.url="kpi"===t.type.toLowerCase()?"#/output/"+t.sno:"#/initiative/"+t.sno),t})}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(){"ngInject";i(this,n);var t=this;t.restrict="AE",t.scope={isRtl:"@",rtlClass:"@"},t.link=function(t,e){var i=function(){"true"===t.isRtl?(e.addClass("rtl"),t.rtlClass&&e.addClass(t.rtlClass)):(e.removeClass("rtl"),e.removeClass(t.rtlClass))};t.$watch("isRtl",i)}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c){"ngInject";i(this,t);var d=this;d.constants=s,d.$http=a,d.$q=n,d.$log=e,d.OfflineService=r,d.appConfig=void 0,d.initiatives=void 0,d.kpis=void 0,d.$rootScope=l,d.requiresSkeleton=!0,d.csrfToken=null,d.eachSeries=o,d.$timeout=c}return t.$inject=["$log","$http","$q","pushAppConstants","OfflineService","$rootScope","eachSeries","$timeout"],a(t,[{key:"getAppConfig",value:function(){return this.appConfig}},{key:"isOnline",value:function(){return navigator.onLine}},{key:"loadAppConfig",value:function(){var t=this,e=this.$q.defer();return t.$http.get("assets/fixtures/appConfig.json").then(function(i){t.appConfig=i.data,e.resolve(t.appConfig)}),e.promise}},{key:"getSingleKpi",value:function(t){var e=this.$q.defer(),i=this;return i.isOnline()&&i.$http.get(i.constants.server.url+"kpi",{params:{sno:t}}).then(function(t){i.processKPIS([t.data]),e.resolve(t.data)}),e.promise}},{key:"getKpi",value:function(t){var e=this.$q.defer(),i=this;return i.isOnline()||(i.kpis=i.OfflineService.getcollection("kpi")),i.$http.get(i.constants.server.url+"current-kpis",{params:{sno:t}}).then(function(a){i.processKPIS(a.data);var n=_.find(a.data,{sno:parseInt(t)});e.resolve(n)}),e.promise}},{key:"processKPIS",value:function(t,e){var i=this;i.kpis=i.kpis||[],t&&t.length>0&&_.each(t,function(t){var a=_.find(i.kpis,{sno:t.sno});e&&i.OfflineService.upsert("kpi",angular.copy(t),"sno"),a?(i.kpis=_.reject(i.kpis,{sno:t.sno}),i.kpis.push(_.extend(a,t))):i.kpis.push(t)})}},{key:"getKpiChain",value:function(t){var e=this.$q.defer(),i=this,a=[];return t&&t.length>0?(i.isOnline()?_.each(t,function(t){a.push(i.$http.get(i.constants.server.url+"current-kpis",{params:{sno:t}}))}):!function(){var e=i.OfflineService.getcollection("kpi");_.each(t,function(t){a.push(e,{params:{sno:t}})})}(),i.$q.all(a).then(function(t){i.processKPIS(_.pluck(t,"data")[0]),e.resolve(_.pluck(t,"data")[0])})):e.resolve(),e.promise}},{key:"setSkeleton",value:function(t){this.requiresSkeleton=t}},{key:"getSkeleton",value:function(t){var e=this.$q.defer(),i=this;return i.isOnline()?i.$http.get(i.constants.server.url+"skeleton",{params:{initiativeId:t}}).then(function(t){t.data&&"error"!==t.data.status?(i.processInitiatives(t.data,!1),e.resolve()):e.reject()}):e.resolve(),e.promise}},{key:"getCompleteInitiatives",value:function(t){var e=this,i=function(t,e){return new Date(t.artifactsUpdatedAt)<new Date(e.artifactsUpdatedAt)||new Date(t.updatedAt)<new Date(e.updatedAt)},a=function(t){return!!t.KpiAchievementToTarget},n=[];_.each(t,function(t){var s=_.find(e.initiatives,function(e){return t.initiativeId===e.initiativeId});s&&!i(s,t)&&a(s)&&"activity"!==s.type.toLowerCase()?e.$timeout(function(){e.$rootScope.$broadcast("INITIATIVE_RECEIVED",s)},1e3):n.push(t)}),n=_.chunk(n,2),e.eachSeries(n,function(t){var i=[];return t.forEach(function(t){var a={params:{initiativeId:t.initiativeId,removeKpi:"priority"!==t.type.toLowerCase()}};"activity"===t.type.toLowerCase()&&(a.params.activity=!0),i.push(e.$http.get(e.constants.server.url+"initiative",a))}),e.$q.all(i).then(function(t){t.forEach(function(t){t.data&&"error"!==t.data.status&&e.processInitiatives([t.data],!1),e.$rootScope.$broadcast("INITIATIVE_RECEIVED",t.data)})})})}},{key:"getInitiativeTree",value:function(t){var e=this.$q.defer(),i=this;return i.isOnline()?i.$http.get(i.constants.server.url+"initiative-tree",{params:{initiativeId:t}}).then(function(t){t.data&&"error"!==t.data.status?(i.processInitiatives(t.data,!1),i.getCompleteInitiatives(t.data),e.resolve(t.data)):e.reject()}):!function(){var a=i.OfflineService.getcollection("initiative");i.initiatives=[];var n=_.find(a,{initiativeId:parseInt(t)});if(n)do i.processInitiatives([n]),n=_.find(a,{initiativeId:parseInt(n.parentId)});while(n&&-1!==n.parentId);var s=_.filter(a,{parentId:parseInt(t)}),r=_.filter(a,function(t){return _.pluck(s,"initiativeId").indexOf(t.parentId)>-1});i.processInitiatives(r),i.processInitiatives(s),e.resolve()}(),e.promise}},{key:"processInitiatives",value:function(t,e){var i=this;i.initiatives=i.initiatives||[],t&&t.length>0&&_.each(t,function(t){var a=_.find(i.initiatives,{initiativeId:t.initiativeId});a?(i.initiatives=_.reject(i.initiatives,{initiativeId:t.initiativeId}),i.initiatives.push(t.KpiAchievementToTarget?t:a)):i.initiatives.push(t),i.processKPIS(t.KPI,e),e&&(delete t.KPI,i.OfflineService.upsert("initiative",angular.copy(t),"initiativeId"))})}},{key:"processOwnedInitiatives",value:function(t){var e={},i=this;e.id=1,e.initiativeIds=[],_.each(t,function(t){e.initiativeIds.push(t.initiativeId)}),i.OfflineService.upsert("owned-initiative",e,"id")}},{key:"getOwnedInitiatives",value:function(){var t=this.$q.defer(),e=this;return e.isOnline()?e.$http.get(e.constants.server.url+"owned-initiatives").then(function(i){i.data&&"error"!==i.data.status?(e.processInitiatives(i.data,!1),e.processOwnedInitiatives(i.data),e.getCompleteInitiatives(i.data),t.resolve(i.data)):t.reject()}):!function(){var i=e.OfflineService.getcollection("initiative"),a=e.OfflineService.getcollection("owned-initiative"),n=[];_.each(a[0].initiativeIds,function(t){_.each(i,function(e){e.initiativeId===t&&n.push(e)})}),t.resolve(n)}(),t.promise}},{key:"getParticipatingInitiatives",value:function(){var t=this.$q.defer(),e=this;return e.isOnline()?e.$http.get(e.constants.server.url+"participating-initiatives").then(function(i){i.data&&"error"!==i.data.status?(e.processInitiatives(i.data,!1),e.processParticiaptingInitiatives(i.data),e.getCompleteInitiatives(i.data),t.resolve(i.data)):t.reject()}):!function(){var i=e.OfflineService.getcollection("initiative"),a=e.OfflineService.getcollection("participating-initiatives"),n=[];_.each(a[0].initiativeIds,function(t){_.each(i,function(e){e.initiativeId===t&&n.push(e)})}),t.resolve(n)}(),t.promise}},{key:"processParticiaptingInitiatives",value:function(t){var e={},i=this;e.id=1,e.initiativeIds=[],_.each(t,function(t){e.initiativeIds.push(t.initiativeId)}),i.OfflineService.upsert("participating-initiatives",e,"id")}},{key:"getInitiatives",value:function(){var t=this;if(t.isOnline())return angular.copy(this.initiatives);var e=function(){var e=t.OfflineService.getcollection("kpi");return t.initiatives=_.map(t.initiatives,function(t){return t.KPI=_.filter(e,function(e){return e.initiativeId===t.initiativeId}),t}),{v:t.initiatives}}();return"object"==typeof e?e.v:void 0}},{key:"getLocalKPIS",value:function(){return angular.copy(this.kpis)}},{key:"offlineRequestProcess",value:function(t,e,i){var a={},n=this;a.data=t,a.path=e,a.method=i,n.OfflineService.createOffline(a)}},{key:"setData",value:function(t,e){var i=this.$q.defer(),a=this;if(a.isOnline()){var n={"Content-Type":"application/json"};a.constants.csrf&&(n["x-csrf-token"]=localStorage.getItem("csrf")),a.$http({method:"PUT",url:a.constants.server.url+e,data:t,headers:n}).then(function(t){i.resolve(t.data)})}else{a.offlineRequestProcess(t,e,"PUT");var s={};s.isOffline=!0,i.resolve(s)}return i.promise}},{key:"afterDelete",value:function(t){var e=this,i=t.split("/"),a=parseInt(i[1]),n=i[0],s={initiative:"initiative",kpi:"kpi"},r={initiative:"initiativeId",kpi:"sno"},l=r[n],o=s[n],c={};if(c[l]=a,"kpi"===n){var d=_.find(e.kpis,{sno:a}),u=_.find(e.initiatives,{initiativeId:d.initiativeId});u.KPI=_.reject(u.KPI,{sno:a}),e.kpis=_.reject(e.kpis,c)}else"initiative"===n&&(e.initiatives=_.reject(e.initiatives,c));e.OfflineService.remove(o,l,a)}},{key:"deleteData",value:function(t){var e=this,i=e.$q.defer(),a=t.split("/"),n=a[0];if(e.isOnline()){var s={"Content-Type":"application/json"};e.constants.csrf&&(s["x-csrf-token"]=localStorage.getItem("csrf")),e.$http({method:"DELETE",url:e.constants.server.url+t,headers:s}).then(function(t){t.data.deletedIds&&t.data.deletedIds.length>0&&_.each(t.data.deletedIds,function(t){e.afterDelete(n+"/"+t)}),i.resolve(t.data)})}else{e.offlineRequestProcess(0,t,"DELETE"),e.afterDelete(t);var r={};r.isOffline=!0,i.resolve(r)}return i.promise}},{key:"postData",value:function(t,e,i){var a=this,n=a.$q.defer(),s=function(s){var r={"Content-Type":"application/json"};"form-data"===i&&(r["Content-Type"]=void 0),s&&(r["x-csrf-token"]=localStorage.getItem("csrf")),a.$http({method:"POST",url:a.constants.server.url+e,data:t,headers:r}).then(function(t){a.constants.csrf&&"login"===e?a.$http.get(a.constants.server.url+"csrfToken").success(function(e){localStorage.setItem("csrf",e._csrf),n.resolve(t.data)}):n.resolve(t.data)})};if(a.isOnline())a.constants.csrf&&"login"===e||a.constants.csrf&&"user/reset"===e?a.$http.get(a.constants.server.url+"csrfToken").success(function(t){localStorage.setItem("csrf",t._csrf),s(!0)}):a.constants.csrf?s(!0):s();else if("login"!==e){a.offlineRequestProcess(t,e,"POST");var r={};r.isOffline=!0,n.resolve(r)}return n.promise}},{key:"syncData",value:function(){var t=this;_.each(t.OfflineService.getcollection("offline-request"),function(e){var i={};i.method=e.method,i.url=t.constants.server.url+e.path,e.data&&(i.data=e.data),i.headers={"Content-Type":"application/json"
},t.constants.csrf&&(i.headers["x-csrf-token"]=localStorage.getItem("csrf")),t.$http(i).then(function(i){i&&("DELETE"===e.method&&t.afterDelete(e.path),t.OfflineService.removeObj(e),t.$rootScope.$broadcast("SYNC_UPDATES"))})})}},{key:"getAllInitiatives",value:function(){var t=this,e=t.$q.defer();return t.isOnline()&&t.$http.get(t.constants.server.url+"allInitiatives").then(function(i){i&&i.data.length>0&&t.processInitiatives(i.data,!0),e.resolve(i)}),e.promise}},{key:"clearMemory",value:function(){var t=this;t.initiatives=null,t.kpis=null}},{key:"getSummary",value:function(t){var e=this,i=e.$q.defer();if(e.isOnline())e.$http.get(e.constants.server.url+"summary?initiativeId="+t).then(function(t){i.resolve(t.data)});else{var a=e.OfflineService.getcollection("initiative"),n=_.find(a,function(e){return e.initiativeId===parseInt(t)});i.resolve(n["Executive Summary"][0])}return i.promise}},{key:"getSingleInitiative",value:function(t,e,i){var a=this,n=a.$q.defer();return _.isUndefined(e)&&(e=!1),_.isUndefined(i)&&(i=!1),a.isOnline()?a.$http.get(a.constants.server.url+"initiative",{params:{initiativeId:t,removeKpi:e,allMilestones:i}}).then(function(t){t.data&&"error"!==t.data.status?(a.processInitiatives([t.data],!1),n.resolve(t.data)):n.reject()}):(t=parseInt(t),n.resolve(_.find(a.OfflineService.getcollection("initiative"),{initiativeId:t}))),n.promise}},{key:"getCurrentVersion",value:function(){var t=this,e=t.$q.defer();return t.isOnline()?t.$http.get(t.constants.server.url+"current-version").then(function(t){e.resolve(t.data)}):e.reject(),e.promise}},{key:"getLinkKpis",value:function(t){var e=this,i=e.$q.defer();if(e.isOnline())e.$http.get(e.constants.server.url+"linkkpilist",{params:{initiativeId:t}}).then(function(t){i.resolve(t.data)});else{var a=_.where(e.OfflineService.getcollection("kpi"),{initiativeId:t});i.resolve(a)}return i.promise}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l,o,c){"ngInject";i(this,t);var d=this;this.$location=e,this.$q=a,this.DataService=n,this.OfflineService=l,this.$http=s,this.constants=r,this.LocalStorage=o,d.translationHolder=["MAIN.TRY_AGAIN","MAIN.NEW_PASSWORD_SENT","MAIN.PASSWORD_RESET_UNSUCCESSFUL","STATUS.INCORRECT_EMAIL_PASSWORD","STATUS.LOGGED_IN_SUCCESSFULLY"],c(d.translationHolder).then(function(t){d.translations=t})}return t.$inject=["$location","$q","DataService","$http","pushAppConstants","OfflineService","LocalStorage","$translate"],a(t,[{key:"username",value:function(){return this.LocalStorage.getUserName()}},{key:"isLoggedIn",value:function(){var t=this;return!_.isEmpty(t.LocalStorage.getUser())&&!localStorage.getItem("forced")}},{key:"login",value:function(t,e){var i=this.$q.defer(),a=this;return a.DataService.clearMemory(),a.DataService.postData({email:t,password:e},"login").then(function(e){e.user===!1?i.resolve({success:!1,message:a.translations[e.message]}):(localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).email!==t&&a.OfflineService.clearLocalData(),localStorage.setItem("user",JSON.stringify(e)),localStorage.removeItem("forced"),a.LocalStorage.init(e),i.resolve({success:!0,isPasswordReset:e.isPasswordReset}))},function(){i.resolve({success:!1,message:a.translations["MAIN.TRY_AGAIN"]})}),i.promise}},{key:"logout",value:function(){var t=this,e=t.$q.defer();return navigator.onLine?t.$http.get(t.constants.server.url+"logout").then(function(){localStorage.removeItem("user"),t.LocalStorage.clearData(),t.OfflineService.clearLocalData(),t.DataService.clearMemory(),e.resolve(!0)}):(localStorage.removeItem("user"),t.LocalStorage.clearData(),t.OfflineService.clearLocalData(),t.DataService.clearMemory(),e.resolve(!0)),localStorage.removeItem("csrf"),e.promise}},{key:"forgotPassword",value:function(t){var e=this,i=e.$q.defer(),a="user/reset";return e.DataService.postData({email:t},a).then(function(t){i.resolve("failed"===t.status?{success:!1,message:e.translations["MAIN.PASSWORD_RESET_UNSUCCESSFUL"]}:{success:!0,message:e.translations["MAIN.NEW_PASSWORD_SENT"]})},function(){i.resolve({success:!1,message:e.translations["MAIN.PASSWORD_RESET_UNSUCCESSFUL"]})}),i.promise}},{key:"changePassword",value:function(t){var e=this,i=e.$q.defer(),a="user/change-password";return e.DataService.postData({password:t,isPasswordReset:!1},a).then(function(t){i.resolve(t)}),i.promise}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e){"ngInject";i(this,t),this.constants=e,this.initialChartObject={title:{text:null},subtitle:{text:null},credits:{enabled:!1},exporting:{enabled:!1},legend:{enabled:!1}}}return t.$inject=["pushAppConstants"],a(t,[{key:"getBarChart",value:function(){var t=angular.copy(this.initialChartObject);return t.chart={type:"bar"},t.xAxis={tickLength:0,tickInterval:1},t.yAxis={lineWidth:1,gridLineWidth:0,title:{text:null}},t}},{key:"getLineChart",value:function(){var t=angular.copy(this.initialChartObject);return t.chart={style:{fontFamily:this.constants.font.primary}},t.xAxis={tickLength:0,tickInterval:1},t.yAxis={lineWidth:1,gridLineWidth:0,title:{text:null}},t.legend={enabled:!0,align:"center"},t}},{key:"getAreaChart",value:function(){var t=angular.copy(this.initialChartObject);return t.chart={type:"area",spacingRight:10},t.xAxis={type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"}},t.xAxis={tickLength:0,tickInterval:1},t.yAxis={lineWidth:1,gridLineWidth:0,title:{text:null}},t.tooltip={shared:!0},t.plotOptions={area:{stacking:"normal",lineWidth:1,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}},threshold:null}},t.legend={enabled:!0,align:"center"},t}},{key:"getPieChart",value:function(){var t=$(".activity__chart"),e=t.height(),i=_.clone(this.initialChartObject);return i.chart={type:"pie",renderTo:t,height:e},i.title={style:{fontSize:"12px"},text:null},i.tooltip={enabled:!1},i.plotOptions={pie:{size:"100%",allowPointSelect:!1,cursor:"pointer",dataLabels:{enabled:!0,connectorWidth:0,distance:-20,format:"{point.percentage:.1f} %"}},series:{states:{connectNulls:!0,hover:{enabled:!1}},dataLabels:{color:"white",style:{textShadow:!1,fontWeight:100}}}},i.series=[{name:"Activity Implementation Level",data:[{name:"completed",color:this.constants.statusColor.completed},{name:"onTrack",color:this.constants.statusColor.ontrack},{name:"delayed",color:this.constants.statusColor.delayed}]}],i}},{key:"getGaugeChart",value:function(){var t=$(".kpi__chart"),e=t.height()||400,i=_.clone(this.initialChartObject);return i.chart={type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,renderTo:t,height:e},i.pane={startAngle:-180,endAngle:90,background:null},i.plotOptions={gauge:{size:"100%",cursor:"pointer",dial:{baseWidth:10,backgroundColor:"black",rearLength:0,baseLength:0,radius:70},pivot:{radius:5,borderWidth:0,backgroundColor:"black"},dataLabels:{borderWidth:0,y:10,x:20}}},i}},{key:"getDialChart",value:function(){var t=_.clone(this.initialChartObject);return t.chart={type:"solidgauge"},t.pane={center:["50%","50%"],size:"75%",startAngle:0,endAngle:360,background:{backgroundColor:"#EEE",innerRadius:"90%",outerRadius:"100%",shape:"arc"}},t.yAxis={lineWidth:0,minorTickInterval:null,tickWidth:0,labels:{enabled:!1}},t.plotOptions={solidgauge:{innerRadius:"90%",dataLabels:{y:-20,borderWidth:0,useHTML:!0}}},t}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(){"ngInject";i(this,t);var e=this;e.db=new loki("push-app.json",{autosave:!0}),e.db.loadDatabase(),e.db.getCollection("initiative")||e.db.addCollection("initiative"),e.db.getCollection("kpi")||e.db.addCollection("kpi"),e.db.getCollection("user-list")||e.db.addCollection("user-list"),e.db.getCollection("dept-list")||e.db.addCollection("dept-list"),e.db.getCollection("offline-request")||e.db.addCollection("offline-request"),e.db.getCollection("owned-initiative")||e.db.addCollection("owned-initiative"),e.db.getCollection("participating-initiatives")||e.db.addCollection("participating-initiatives")}return a(t,[{key:"clearLocalData",value:function(){var t=this,e=["initiative","kpi","user-list","offline-request","dept-list","owned-initiative","participating-initiatives"];_.each(e,function(e){var i=t.db.getCollection(e);i.removeDataOnly()})}},{key:"clearBeforeSync",value:function(){var t=this,e=["initiative","kpi","user-list","dept-list"];_.each(e,function(e){var i=t.db.getCollection(e);i.removeDataOnly()})}},{key:"isDataSynced",value:function(){var t=this;return t.db.getCollection("offline-request").data.length>0}},{key:"upsert",value:function(t,e,i){var a=this.db.getCollection(t),n={};n[i]=e[i];var s=a.find(n);s&&s.length>0?(s=_.merge(e,s[0]),this.db.getCollection(t).update(s)):this.db.getCollection(t).insert(e)}},{key:"createOffline",value:function(t){this.db.getCollection("offline-request").insert(t)}},{key:"removeObj",value:function(t){this.db.getCollection("offline-request").remove(t)}},{key:"remove",value:function(t,e,i){var a=this.db.getCollection(t),n={};n[e]=i;var s=a.find(n);this.db.getCollection(t).remove(s)}},{key:"getcollection",value:function(t){return this.db.getCollection(t).chain().data()}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r){"ngInject";i(this,t),this.$http=e,this.$q=a,this.constants=n,this.DataService=s,this.OfflineService=r}return t.$inject=["$http","$q","pushAppConstants","DataService","OfflineService"],a(t,[{key:"listUsers",value:function(){var t=this.$q.defer(),e=this;return e.$http.get(e.constants.server.url+"user").then(function(e){var i=e.data;_.map(i,function(t){return delete t.updatedAt,delete t.createdAt,delete t.isPasswordReset,t},function(e){t.reject(e)}),t.resolve(i)}),t.promise}},{key:"getDepartments",value:function(){var t=this,e=this.$q.defer();if(t.DataService.isOnline())t.$http.get(t.constants.server.url+"metadata").then(function(i){i&&t.OfflineService.upsert("dept-list",i.data),e.resolve(i.data.departments)},function(t){e.reject(t)});else{var i=t.OfflineService.getcollection("dept-list");i=i[0].departments,e.resolve(i)}return e.promise}},{key:"deleteUser",value:function(t){var e=this,i=e.$q.defer();return e.DataService.deleteData("user/"+t).then(function(t){i.resolve(t)},function(t){i.reject(t)}),i.promise}},{key:"getUserRights",value:function(){var t=this,e=this.$q.defer();return t.$http.get("assets/fixtures/rights.json").then(function(t){e.resolve(t.data)},function(t){e.reject(t)}),e.promise}},{key:"updateUser",value:function(t,e){var i=this,a=i.$q.defer();return i.DataService.setData(e,"user/"+t).then(function(t){a.resolve(t)},function(t){a.reject(t)}),a.promise}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r){"ngInject";i(this,t);var l=this;this.constants=n,l.OfflineService=s,l.DataService=r,l.$http=e,l.$q=a}return t.$inject=["$http","$q","pushAppConstants","OfflineService","DataService"],a(t,[{key:"getUserList",value:function(){var t=this.$q.defer(),e=this;return e.DataService.isOnline()?e.$http.get(e.constants.server.url+"user").then(function(i){e.userData=i.data,e.userData&&e.userData.length>0&&_.each(e.userData,function(t){e.OfflineService.upsert("user-list",t,"id")}),t.resolve(e.userData)}):t.resolve(e.OfflineService.getcollection("user-list")),t.promise}},{key:"dateFormat",value:function(t){var e=new Date(t);return isNaN(e.getMonth())?"":e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()}},{key:"resetDate",value:function(t){var e=new Date(t);return e}},{key:"getChildKpis",value:function(t){var e=this.$q.defer(),i=this;return navigator.onLine?i.$http.get(i.constants.server.url+"artifact2",{params:{parentKpi:t}}).then(function(t){e.resolve(t.data)}):e.resolve(_.filter(i.DataService.getLocalKPIS(),function(e){return e.parentKpi===parseInt(t)})),e.promise}},{key:"createEditParticipantsList",value:function(t,e){var i=[];return _.forEach(_.difference(t,e),function(t){i.push({type:"add",id:t})}),_.forEach(_.difference(e,t),function(t){i.push({type:"remove",id:t})}),i}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(){"ngInject";i(this,t),this.user={},this.userRights={},this.init()}return a(t,[{key:"init",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.populateRights()}},{key:"setData",value:function(t){this.user=JSON.parse(t)}},{key:"getUser",value:function(){return this.user}},{key:"getUserId",value:function(){return this.user.id}},{key:"populateRights",value:function(){this.userRights=_.pick(this.user,"viewAll","updateAllOutComeKpis","updateAllOutputKpis","updateAllIssueLogs","updateAllActivities","updateAllExecutiveSummaries","crudArtifacts","crudUsers")}},{key:"getUserName",value:function(){return this.user?this.user.name:""}},{key:"getUserRights",value:function(){return this.userRights}},{key:"clearData",value:function(){this.user={},this.userRights={}}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e){"ngInject";return i(this,n),this.$http=t,this.$q=e,function(i){var a=e.defer();return t.get("assets/fixtures/lang/"+i.key+"/keys.json").then(function(t){return a.resolve(t.data)}),a.promise}};a.$inject=["$http","$q"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s){"ngInject";i(this,t),this.DataService=e,this.$q=a,this.$http=n,this.pushAppConstants=s}return t.$inject=["DataService","$q","$http","pushAppConstants"],a(t,[{key:"getPriority",value:function(t){var e=this.DataService.getInitiatives();if(e){var i=this.getParent(t,e);return i}}},{key:"getParent",value:function(t,e){if(e){var i=_.find(e,function(e){return parseInt(e.initiativeId)===parseInt(t)});return i&&0===i.parentId?i:i&&i.parentId?this.getParent(i.parentId,e):null}}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e){"ngInject";i(this,t),this.DataService=e}return t.$inject=["DataService"],a(t,[{key:"getInitiatives",value:function(t){var e=this.DataService.getInitiatives();if(e){var i=_.filter(e,function(e){return 0===parseInt(t)?!e.parentId&&"priority"===e.type.toLowerCase():parseInt(e.parentId)===parseInt(t)});return i}}},{key:"getInitiative",value:function(t){var e=this.DataService.getInitiatives();return e?_.find(e,function(e){return e.initiativeId===parseInt(t)?e:void 0}):void 0}},{key:"isLastInitiative",value:function(t){var e=this.DataService.getInitiatives();if(e){var i=_.find(e,function(e){return e.parentId===parseInt(t)});return!!i}}},{key:"getParentChain",value:function(t,e){var i=this.DataService.getInitiatives(),a=[],n=!1,s=t;if(i)do{var r=this.getInitiative(s),l=e?r&&-1!==r.parentId:r&&r.parentId&&-1!==r.parentId;if(l){var o={};o.type=r.type,o.sno=r.initiativeId,o.name=r.initiative,o.owner=r.owner,s=r.parentId,a.push(o),n=!0}else n=!1}while(n);return _(a).reverse().value(),a.length>0?a:0}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a){"ngInject";i(this,t),this.DataService=e,this.$q=a}return t.$inject=["DataService","$q"],a(t,[{key:"isStorageSupported",value:function(){try{return localStorage.setItem("test","testData"),localStorage.removeItem("test"),sessionStorage.setItem("test","testData"),sessionStorage.removeItem("test"),!0}catch(t){return!1}}},{key:"convertDate",value:function(t){var e=new Date(t),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+i+"-"+a}},{key:"convertDateMmDdYyyy",value:function(t){var e=new Date(t),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return i+"/"+a+"/"+e.getFullYear()}},{key:"formatNumberString",value:function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}},{key:"isIE",value:function(){return window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:!1}},{key:"isiPhoneSafari",value:function(){return navigator.userAgent&&!navigator.userAgent.match("CriOS")&&navigator.userAgent.match(/iPhone/i)}},{key:"isModeFullscreen",value:function(){return"standalone"in window.navigator&&window.navigator.standalone!==!0}},{key:"compareDate",value:function(t,e){return new Date(t).setHours(0,0,0,0)-new Date(e).setHours(0,0,0,0)>=0}},{key:"resetDateHours",value:function(t){return new Date(t).setHours(0,0,0,0)}},{key:"calculatePastDateFromCurrent",value:function(t){return(new Date).setDate((new Date).getDate()-t)}},{key:"roundOffToNDecimals",value:function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}},{key:"isMobile",value:function(){return navigator.userAgent&&navigator.userAgent.match(/iPhone|android/i)?!0:!1}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r){"ngInject";i(this,t),this.OfflineService=s,this.DataService=e,this.constants=a,this.$q=n,this.$http=r}return t.$inject=["DataService","pushAppConstants","$q","OfflineService","$http"],a(t,[{key:"getAllInitiativeTypes",value:function(){var t=this;return _.chain(t.getSearchData()).pluck("type").uniq().map(function(t){return{name:t,value:!0}}).value()}},{key:"getSearchData",value:function(){return this.OfflineService.getcollection("initiative")}},{key:"populateSearchData",value:function(t){var e=this,i=["Initiative","Sub-initiative (1)","Sub-initiative (2)","Sub-initiative (3)","Sub-initiative (4)"];return e.data=t,e.populateOutcomeKpiData().concat(e.populateOutputKpiData(i),e.populateOwnerData(),e.populateInitiativeData(i),e.populateInitiativeData(["activity"]))}},{key:"getSearchFilters",value:function(){return[{name:"Outcome KPI",value:!0},{name:"Initiatives/ Sub Initiatives",value:!0},{name:"Output KPI",value:!0},{name:"Activities",value:!0},{name:"Owners",value:!0}]}},{key:"populateInitiativeData",value:function(t){var e=this,i=[];return _.chain(e.data).filter(function(e){return _.includes(t,e.type)}).map(function(e){i.push({name:e.initiative,id:e.initiativeId,type:t.length>1?"Initiatives/ Sub Initiatives":"Activities",parentId:e.parentId,status:e.status})}).value(),i}},{key:"populateOwnerData",value:function(){var t=this;return _.chain(t.data).map(function(t){return t.owner?{name:t.owner.name,id:t.initiativeId,initiative:t.initiative,type:"Owners",status:t.status,parentId:t.parentId}:"owner absent"}).without("owner absent").value()}},{key:"populateOutputKpiData",value:function(t){var e=this,i=[];return _.chain(e.data).filter(function(e){return _.includes(t,e.type)}).pluck("KPI").flatten().map(function(t){i.push({name:t.kpi,initiativeId:t.initiativeId,type:"Output KPI",status:e.getOutputKpiStatus(t)})}).value(),i}},{key:"getOutputKpiStatus",value:function(t){var e="";if(t.targetBenchmarks&&t.targetBenchmarks.actual)if(t.targetBenchmarks.actual>=t.targetBenchmarks.lastTarget)e="completed";else{var i=parseFloat(t.targetBenchmarks.actual)/parseFloat(t.targetBenchmarks.currentTarget)*100;e=90>i?"delayed":"on-track"}else e="unknown";return e}},{key:"populateOutcomeKpiData",value:function(){var t=this,e=[];return _.chain(t.data).filter({type:"Priority"}).pluck("KPI").flatten().map(function(i){e.push({name:i.kpi,initiativeId:i.initiativeId,parentKpi:i.parentKpi?i.parentKpi:"0",type:"Outcome KPI",status:t.getOutcomeKpiStatus(i)})}).value(),e}},{key:"getOutcomeKpiStatus",value:function(t){var e="";if(t.latestMilestone){var i=parseFloat(t.latestMilestone.actualValue)/parseFloat(t.latestMilestone.targetValue)*100;e=90>i?"delayed":100>i?"on-track":"completed"}return e=e?e:"unknown"}},{key:"getResultsFromServer",value:function(t,e){var i=this,a=i.$q.defer(),n={"Outcome KPI":"outcomeKpi","Initiatives/ Sub Initiatives":"initiative","Output KPI":"outputKpi",Activities:"activity",Owners:"owner"},s=_.map(e,function(t){return n[t]+="=true",n[t]}),r="search?query="+encodeURIComponent(t)+"&&"+encodeURI(s.join("&&"));return i.$http.get(i.constants.server.url+r).then(function(t){a.resolve(t)}),a.promise}},{key:"transformOnlineData",value:function(t){var e=this;return _.forEach(t["Output KPI"],function(t){t.status=e.getOutputKpiStatus(t)}),_.forEach(t["Outcome KPI"],function(t){t.status=e.getOutcomeKpiStatus(t)}),t}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=function(){function t(e,a,n,s,r,l){"ngInject";i(this,t);var o=this;o.DataService=e,o.pushAppConstants=a,o.MainAdapter=n,o.$rootScope=s,o.$location=r,o.$timeout=l}return t.$inject=["DataService","pushAppConstants","MainAdapter","$rootScope","$location","$timeout"],a(t,[{key:"getChartTypeValues",value:function(t){var e={},i=0,a=0;return i=t.nearestActualMilestone&&t.nearestActualMilestone.actualValue?parseFloat(t.nearestActualMilestone.actualValue):0,a=t.latestMilestone&&t.latestMilestone.targetValue?parseFloat(t.latestMilestone.targetValue):0,e.actualValue=parseFloat(i.toFixed(2)),e.targetValue=a?parseFloat(a.toFixed(2)):0,e.uom=t.uom?t.uom:"",e}},{key:"hasChart",value:function e(t,i,a){var e=!1,n=angular.copy(t);if(a)n.nearestActualMilestone&&(e=!0);else{var s=_.chain(n["KPI Milestone"]).sortBy(function(t){return new Date(t.timepoint)}).value();e=s.length>0}return e}},{key:"getStatus",value:function(t){var e=this;return e.pushAppConstants.statusMap[t.status]?e.pushAppConstants.statusMap[t.status]:"unknown"}},{key:"navigateTo",value:function(t){var e=this;e.$timeout(function(){e.$rootScope.$apply(function(){e.$location.path(t)})})}},{key:"navigationPath",value:function(t){if(t.hasDrillDown){if(t.linkKpi)return"output/"+t.linkKpi;if("outcome"===t.kpiType.toLowerCase())return"initiative/"+t.initiativeId+"/outcome/"+t.sno;if("output"===t.kpiType.toLowerCase())return"output/"+t.sno}}},{key:"getMultiKpiGraphData",value:function(t){var e=this,i=angular.copy(t),a=[],n=[],s=[],r=[],l={},o=void 0;return o=_.forEach(i,function(t){t["KPI Milestone"]=_.chain(t["KPI Milestone"]).sortBy(function(t){return new Date(t.timePoint)}).each(function(t){r.push(e.MainAdapter.resetDateHours(t.timePoint))}).value()}),r=_.uniq(r).sort(function(t,e){return t-e}),_.forEach(o,function(t){var i={name:t.kpi,sno:t.sno,initiativeId:t.initiativeId,hasDrillDown:t.hasDrillDown,kpiType:t.kpiType,linkKpi:t.linkKpi},s={name:t.kpi,data:[],color:e.pushAppConstants.statusColor[e.pushAppConstants.statusMap[t.status]],url:e.navigationPath(i)},l={name:t.kpi,data:[],color:e.pushAppConstants.chart.line.targetColor,url:e.navigationPath(i)};_.forEach(r,function(i){t["KPI Milestone"]=_.map(t["KPI Milestone"],function(t){return t.timePoint=e.MainAdapter.resetDateHours(t.timePoint),t});var a=_.where(t["KPI Milestone"],{timePoint:i});a.length>0?(s.data.push(isNaN(parseFloat(a[0].actualValue))?null:e.MainAdapter.roundOffToNDecimals(parseFloat(a[0].actualValue),2)),l.data.push(isNaN(parseFloat(a[0].targetValue))?null:e.MainAdapter.roundOffToNDecimals(parseFloat(a[0].targetValue),2))):(s.data.push(null),l.data.push(null))}),a.push(s),n.push(l)}),_.each(r,function(t){var e=new Date(t);s.push(e.getFullYear()+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2))}),l.actual=a,l.target=n,l.timepoint=s,l}}]),t}();e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s,r,l,o){"ngInject";i(this,n);var c=this;c.constants=e,c.template="<div></div>",c.restrict="AE",c.scope={initiative:"=",kpi:"=",view:"="},c.link=function(e,i){e.isNearestMilestone=!0,e.chartNavigation=function(t){s.navigateTo(s.navigationPath(t))};var n=function(){var n=function(t){return u[0]===t?"triangle-blue":u[1]===t?"triangle-green":void 0},s=function(t){return e.initiative?50>t?"delayed-text":95>t?"on-track-text":"completed-text":e.kpi.statusClass+"-text"},r=function(){return"%"},l=t.getGaugeChart(),o=0,d=119.999999,u=void 0,p=void 0;e.initiative?(e.actual=e.initiative.KpiAchievementToTarget?parseFloat((100*e.initiative.KpiAchievementToTarget).toFixed(2)):0,p=[0,50,95,119.999999],u=[50,95]):("output"===e.kpi.kpiType.toLowerCase()&&(e.kpi.statusSeparator2=50,e.kpi.statusSeparator1=95),u=[e.kpi.statusSeparator2,e.kpi.statusSeparator1],e.actual="Infinity"===e.kpi.achievementTargetRatio?110:e.kpi.achievementTargetRatio?parseFloat((100*e.kpi.achievementTargetRatio).toFixed(2)):0,p=[0,e.kpi.statusSeparator2,e.kpi.statusSeparator1,d]),l.yAxis=[{min:o,max:d,lineColor:"transparent",tickPositions:u,tickLength:0,minorTickLength:0,labels:{distance:0,useHTML:!0,rotation:"auto",formatter:function(){return _.isNaN(this.value)?"":'<div class="'+n(this.value)+'"></div><div class="triangle__label">'+a.formatNumberString(this.value)+r()+"</div>"}},plotBands:[{from:p[0],to:p[1],color:c.constants.statusColor.delayed,thickness:"30%"},{from:p[1],to:p[2],color:c.constants.statusColor.ontrack,thickness:"30%"},{from:p[2],to:p[3],color:c.constants.statusColor.completed,thickness:"30%"}]}],l.tooltip={enabled:!1},l.series=[{data:[e.actual],overshoot:-5,dataLabels:{useHTML:!0,formatter:function(){var t=0;return t=e.kpi&&"Infinity"===e.kpi.achievementTargetRatio?"> 100%":a.formatNumberString(e.actual)+r(),'<div class="gauge-data-format '+s(a.formatNumberString(e.actual))+'">'+t+"</div>"}}}],e.kpi&&$(i).on("click",function(){e.chartNavigation(e.kpi)}),setTimeout(function(){$(i).highcharts(l)},0)};e.kpi&&s.hasChart(e.kpi,e.view,e.isNearestMilestone)?n():e.initiative?n():o.get("app/components/graphs/no-data.html",{cache:l}).then(function(t){var a=r(t.data)(e);i.empty().append(a)})}};a.$inject=["HighChartService","pushAppConstants","MainAdapter","GraphService","$compile","$templateCache","$http"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s,r){"ngInject";i(this,n),this.restrict="AE",this.template='<div class="text-center number-container"><span class="number-val {{kpi.statusClass}}-text">{{actualValue}}</span><span class="f24 kpi-uom">{{data.uom}}</span></div>',this.scope={kpi:"="},this.link=function(i,n){i.chartNavigation=function(e){t.navigateTo(t.navigationPath(e))};var l=function(){i.data=t.getChartTypeValues(angular.copy(i.kpi)),i.actualValue=r.formatNumberString(i.data.actualValue),$(n).on("click",function(){i.chartNavigation(i.kpi)})};i.isNearestMilestone=!0,t.hasChart(i.kpi,i.isNearestMilestone)?l():s.get("app/components/graphs/no-data.html",{cache:a}).then(function(t){var a=e(t.data)(i);n.empty().append(a)})}};a.$inject=["GraphService","$compile","$templateCache","$http","MainAdapter"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s,r,l,o,c){"ngInject";i(this,n);var d=this;d.template="<div></div>",d.restrict="AE",d.scope={kpi:"=",view:"=",isRtl:"="},d.link=function(i,n){var d=void 0,u=["ACTUAL","TARGET","DELTA","DATE","FINAL_TARGET"],p=void 0;i.isLastMilestone=!1,i.chartNavigation=function(t){s.navigateTo(s.navigationPath(t))};var v=function(r){var l=t.getLineChart();if(r.actual=_.map(r.actual,function(t){return _.omit(t,"color")}),l.yAxis.plotLines=[{value:Math.round(i.kpi.target),color:e.statusColor.unknown,
dashStyle:"dot",width:2,zIndex:4,label:{useHTML:!0,align:"right",style:{fontSize:10},text:p.FINAL_TARGET+": "+Math.round(i.kpi.target),x:0,y:10}}],l.xAxis.labels={formatter:function(){return r.timepoint[this.value]}},l.tooltip={headerFormat:"",useHTML:!0,formatter:function(){var t="";return i.kpi.showChildren||this.series.name!==p.ACTUAL?i.kpi.showChildren||this.series.name!==p.TARGET?t=a.formatNumberString(this.y):(t=p.TARGET+": "+a.formatNumberString(this.y),_.isNull(i.kpi.rollingAvg)||_.isUndefined(i.kpi.rollingAvg)||(t=t+"<br>"+p.ROLLING_AVG+": "+a.formatNumberString(Math.round(i.kpi.rollingAvg)))):t=p.ACTUAL+": "+a.formatNumberString(this.y)+"<br>"+p.DELTA+": "+a.formatNumberString(a.roundOffToNDecimals(r.target[0].data[this.x]-this.y,0)),t}},i.isRtl&&(l.tooltip.style={direction:"rtl"}),l.yAxis=l.yAxis||{},i.kpi.target<0){var o=_.min(r.target[0].data);l.yAxis.min=i.kpi.target<o?i.kpi.target-10:o-10}else l.yAxis.min=_.min(r.actual[0].data)>=0&&_.min(r.target[0].data)>=0?0:null;l.yAxis.labels={formatter:function(){return a.formatNumberString(this.value)}},l.xAxis.title={text:p.DATE},l.yAxis.title={text:i.kpi.uom},l.series=[{name:p.ACTUAL,data:r.actual[0].data,color:e.chart.line.actualColor,url:r.actual[0].url},{name:p.TARGET,data:r.target[0].data,color:e.chart.line.targetColor,url:r.target[0].url},{name:"Goal",type:"scatter",marker:{enabled:!1},showInLegend:!1,data:[Math.round(i.kpi.target)]}],l.plotOptions={series:{cursor:"pointer",point:{events:{click:function(){var t=this;_.each(this.series.chart.options.series,function(e){t.series.name===e.name&&s.navigateTo(e.url)})}}}}},i.kpi&&$(n).on("click",function(){i.chartNavigation(i.kpi)}),setTimeout(function(){$(n).highcharts(l)},0)};i.kpi&&(d=[i.kpi],s.hasChart(i.kpi,i.view,i.isLastMilestone)?c(u).then(function(t){p=t,v(s.getMultiKpiGraphData(d,i.view))}):o.get("app/components/graphs/no-data.html",{cache:l}).then(function(t){var e=r(t.data)(i);n.empty().append(e)}))}};a.$inject=["HighChartService","pushAppConstants","MainAdapter","GraphService","$compile","$templateCache","$http","$translate"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s,r,l,o){"ngInject";i(this,n);var c=this;c.template="<div></div>",c.restrict="AE",c.scope={kpi:"=",view:"=",isRtl:"="},c.link=function(i,n){var c=["ACTUAL"],d=void 0;i.chartNavigation=function(t){a.navigateTo(a.navigationPath(t))};var u=function(){var s=t.getDialChart(),r=[0],l=[],o=a.getChartTypeValues(angular.copy(i.kpi));r[1]=e.statusColor[i.kpi.statusClass],l[0]=o.actualValue,s.yAxis.stops=[r],s.yAxis.min=0,s.yAxis.max=100,s.tooltip={headerFormat:"",useHTML:!0,pointFormat:d.ACTUAL+": "+o.actualValue+" "+o.uom},i.isRtl&&(s.tooltip.style={direction:"rtl"});var c=void 0;c=o.uom?'<div style="text-align:center"><span class="f24" style="color:'+r[1]+'">'+o.actualValue+'<span class="f12 dial-unit"> '+o.uom+"</span></span>":'<div style="text-align:center"><span class="f24" style="color:'+r[1]+'">'+o.actualValue+"</span>";var u=100*i.kpi.achievementTargetRatio;l[0]=u,s.series=[{name:"Actual",data:l,dataLabels:{format:c}}],$(n).on("click",function(){i.chartNavigation(i.kpi)}),setTimeout(function(){$(n).highcharts(s)},0)};i.kpi.nearestActualMilestone?o(c).then(function(t){d=t,u()}):l.get("app/components/graphs/no-data.html",{cache:r}).then(function(t){var e=s(t.data)(i);n.empty().append(e)})}};a.$inject=["HighChartService","pushAppConstants","GraphService","$compile","$templateCache","$http","$translate"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a){"ngInject";i(this,n),this.restrict="AE",this.scope={value:"=",id:"=",hasChild:"="},this.link=function(i,n){i.navigateTo=function(t){e.path(t)},Object.keys(i.value).length>0&&!function(){var e=t.getPieChart();e.plotOptions.series.events={click:function(){navigator.onLine||i.hasChild?i.navigateTo("/initiative/"+i.id):a.$broadcast("ONLINE_REQUIRED")}};var s={onTrack:0,completed:0,delayed:0},r=_.assign(s,i.value),l=[];Object.keys(r).forEach(function(t){r[t]?(l=_.filter(e.series[0].data,{name:t}),l.length>0&&(l[0].y=parseFloat(r[t]))):e.series[0].data=_.reject(e.series[0].data,function(e){return e.name===t})}),$(n).highcharts(e)}()}};a.$inject=["HighChartService","$location","$rootScope"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t,e,a,s){"ngInject";i(this,n);var r=this;r.template="<div></div>",r.restrict="AE",r.scope={kpi:"=",view:"=",isRtl:"="},r.chartMappings={dial:"dial-chart",speedometer:"speedometer-chart",bignumber:"number-chart"},r.link=function(i,n){i.chartNavigation=function(t){s.navigateTo(s.navigationPath(t))};var l=function(){if(i.kpi){i.view=i.view||"current";var s=void 0;s="current"===i.view?r.chartMappings[i.kpi.widget]?r.chartMappings[i.kpi.widget]:"speedometer-chart":"line-chart";var l=t('<div style="width:100%;" class="chart-wrap"'+s+' data-kpi="kpi", data-view="view", data-is-rtl="isRtl" ></div>')(i);n.empty().append(l),$(window).trigger("resize")}else a.get("app/components/graphs/no-data.html",{cache:e}).then(function(e){var a=t(e.data)(i);n.empty().append(a)})};i.$watch("kpi",l),i.$watch("view",l)}};a.$inject=["$compile","$templateCache","$http","GraphService"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(){"ngInject";i(this,n),this.restrict="AE",this.scope={disableControl:"="},this.link=function(t,e){t.disableControl?e.addClass("disable-control"):e.removeClass("disable-control")}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(){"ngInject";i(this,n),this.restrict="AE",this.require="ngModel",this.link=function(t,e,i,a){$(e).on("keyup",function(){a.$modelValue||a.$setValidity("date",!0)})}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(t){"ngInject";i(this,n),this.restrict="AE",this.require="ngModel",this.link=function(e,i,a,n){var s=["FORM.DIAL","FORM.BIG_NUMBER","FORM.SPEEDOMETER","FORM.PERCENTAGE","FORM.NUMBER"],r=void 0;t(s).then(function(t){r={dial:t["FORM.DIAL"],bignumber:t["FORM.BIG_NUMBER"],speedometer:t["FORM.SPEEDOMETER"],percentage:t["FORM.PERCENTAGE"],number:t["FORM.NUMBER"]}}),n.$formatters.push(function(t){return t&&r?r[t]:""}),n.$parsers.push(function(t){var e="";return _.mapKeys(r,function(i,a){i===t&&(e=a)}),e})}};a.$inject=["$translate"],e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(){"ngInject";i(this,n),this.restrict="AE",this.require="ngModel",this.link=function(t,e,i,a){a.$formatters.push(function(t){return _.isNull(t)?t:Math.round(100*t)/100}),a.$parsers.push(function(t){return _.isNull(t)?t:Math.round(100*t)/100})}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function n(){"ngInject";i(this,n),this.restrict="AE",this.scope={fileread:"="},this.link=function(t,e){e.bind("change",function(e){t.$apply(function(){t.file=e.target.files[0],t.fileread=t.file?t.file.name:void 0})})}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function i(t){return function(e,i){return i&&(e=e.replace(new RegExp("("+i+")","gi"),'<span class="highlighted">$1</span>')),t.trustAsHtml(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function i(){return function(t,e){return t?(e=+e,_.where(t,{deleted:!1}).slice(e)):[]}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]},function(t,e){"use strict";function i(){return function(t){return parseInt(t)>0?Math.ceil(t):0}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i,t.exports=e["default"]}]),angular.module("pushApp").run(["$templateCache",function(t){t.put("app/components/breadcrumb/breadcrumb.html",'<div class="bread-box"><div class="bread-list"><ul><li ng-if="!breadCrumb.isOpen" class="closed-crumb"><div class="crumb"><div class="bread-item pull-left">{{lastItem.name}} &#x200E;</div><div class="owner-details pull-left f14"><div title="{{dept}}" class="dept">{{lastItem.owner.department}}</div><div title="{{owner.email}}" class="owner">{{lastItem.owner.email}}</div></div></div></li><li ng-repeat="crumb in crumbs track by $index" ng-if="breadCrumb.isOpen" class="open-crumb"><a href="{{crumb.url}}" class="crumb"><div class="bread-item pull-left">{{crumb.name}} &#x200E;</div><div class="owner-details pull-left f14"><div title="{{dept}}" class="dept">{{crumb.owner.department}}</div><div title="{{owner.email}}" class="owner">{{crumb.owner.email}}</div></div></a></li></ul></div><div ng-click="breadCrumb.isOpen = !breadCrumb.isOpen" ng-show="!(crumbs.length === 1)" class="arrow clear-both"><img src="assets/images/black-arrow.svg" ng-class="breadCrumb.isOpen ? \'bread-open\' : \'bread-close\'"></div></div><div ng-if="breadCrumb.isOpen" ng-click="breadCrumb.isOpen = !breadCrumb.isOpen" class="bread-background"></div>'),t.put("app/components/download-template/download-template.html",'<div ng-controller="DownloadTemplateController as download"><div ng-if="download.showDownloadModal" rtl="" is-rtl="{{main.isRtl}}" class="status-modal download-modal"><div class="delete-container"><div translate="MILESTONE_TEMPLATE.DOWNLOAD_TEMPLATE" class="pull-left f20"></div><img src="assets/images/close.svg" width="15px" ng-click="download.closeModal()" class="pull-right pointer"><div class="excel-info"><img src="assets/images/excel_ico.svg" width="60px" class="excel-icon"><div translate="MILESTONE_TEMPLATE.TEMPLATE_NEW_MILESTONES"></div><div translate="MILESTONE_TEMPLATE.UPDATE_UPLOAD"></div></div><form class="delete-form"><div class="button-wrap"><button ng-click="download.closeModal()" translate="CANCEL" class="status-button f16"></button> <button ng-click="download.downloadTemplate()" translate="DOWNLOAD" class="delete-button f16 pointer"></button></div></form></div></div></div>'),t.put("app/components/email/email.html",'<div ng-controller="EmailController as email" class="email"><div class="email__box"><div rtl="" is-rtl="{{main.isRtl}}" class="email__box__header"><div title="{{\'EMAIL_OWNER.COMMENT_ON\' | translate}} \'{{initiativeController.emailInitiative.initiative}}\'" class="title pull-left f22">{{\'EMAIL_OWNER.COMMENT_ON\' | translate}} "{{initiativeController.emailInitiative.initiative}}&#x200E;"</div><div class="close pull-right"><img src="assets/images/close.svg" ng-click="initiativeController.sendEmail=false; email.mailContent = \'\';" class="close__icon pointer"></div></div><div class="email__box__content f18"><div class="receiver">{{\'EMAIL_OWNER.TO\' | translate}}&#x200E; {{initiativeController.emailInitiative.owner.name}}&#x200E; ({{initiativeController.emailInitiative.dept}}) [{{initiativeController.emailInitiative.owner.email}}] &#x200E;</div><form class="other__receivers"><div class="field-full field-spacing"><input id="mail-checkbox1" name="deptReceiver" type="checkbox" ng-model="email.emailToDept.parentOwners" class="pointer pull-left"> <label for="mail-checkbox1"></label><div translate="EMAIL_OWNER.SEND_TO_PARENT_INITIATIVE_OWNERS" class="department__receivers"></div></div><div class="field-full field-spacing"><input id="mail-checkbox2" name="participantReceiver" type="checkbox" ng-model="email.emailToDept.participants" class="pointer pull-left"> <label for="mail-checkbox2"></label><div translate="EMAIL_OWNER.SEND_TO_PARTICIPANTS" class="department__receivers"></div></div></form><div><div>{{\'EMAIL_OWNER.HELLO\' | translate}} {{initiativeController.emailInitiative.owner.name}},</div><br><div>{{\'EMAIL_OWNER.MR/MS\' | translate}} {{email.user}} {{\'EMAIL_OWNER.HAS_LEFT_MSG\' | translate}}<div ng-repeat="hierarchy in initiativeController.fullParentChain track by $index"><span>{{hierarchy.type}} &#x200E; "{{hierarchy.name}}"&#x200E;</span><span ng-if="initiativeController.fullParentChain.length &gt; 1 &amp;&amp; $index!== initiativeController.fullParentChain.length -1">,</span></div></div><br><textarea placeholder="{{\'EMAIL_OWNER.TYPE_MSG_HERE\' | translate}}" ng-model="email.mailContent" class="textarea f18"></textarea><br></div><br><div ng-click="email.sendEmailTo(initiativeController.emailInitiative.owner, initiativeController.emailInitiative.initiativeId); initiativeController.sendEmail = false" class="send pull-right pointer"><span translate="EMAIL_OWNER.SEND" class="send__text"></span><img src="assets/images/send.svg" class="send__icon"></div></div></div></div>'),t.put("app/components/forgot-password/forgot-password.html",'<div ng-controller="ForgotPasswordController as forgot" class="forgot-wrap"><div rtl="" is-rtl="{{main.isRtl}}" class="forgot"><div translate="FORGOT_PASSWORD.FORGOT_PASSWORD" class="forgot__title f24"></div></div><div class="forgot__container"><rtl is-rtl="{{main.isRtl}}"><a href="#/login" class="login__redirect pull-left"><span class="login__text f20">< {{\'FORGOT_PASSWORD.LOGIN\' | translate}}</span></a></rtl><form name="forgotForm" novalidate="" ng-submit="forgot.forgotNotification(forgot.username)" rtl="" is-rtl="{{main.isRtl}}" class="forgot__form"><label for="username">{{\'EMAIL\' | translate}} *</label><br><div><input ng-model="forgot.username" ngrequired="" type="email" name="email" id="username" placeholder="{{\'FORGOT_PASSWORD.USER123@PUSH.COM\' | translate}}" required="" class="f16"></div><div class="messages"><span class="error-message">{{forgot.errorMessage}}</span><span class="success-message">{{forgot.successMessage}}</span></div><button type="submit" ng-disabled="forgotForm.$invalid" ng-class="{true:\'btn-disable\'}[forgotForm.$invalid]" translate="FORGOT_PASSWORD.RESET_PASSWORD" class="f18"></button></form></div></div>'),t.put("app/components/graphs/no-data.html",'<div class="outcome-no-data kpi--no-data"><img src="assets/images/dummy-graph.svg" width="100px" class="no-data__image"><p translate="INCOMPLETE_DATA" class="no-data__text"></p><a ng-if="kpi.hasDrillDown" ng-click="chartNavigation(kpi)" translate="VIEW_KPI" class="no-data__link"></a></div>'),t.put("app/components/header/header.html",'<header ng-controller="HeaderController as header" ng-show="header.page.showHeader"><div rtl="" is-rtl="{{main.isRtl}}" class="title-container"><div class="primary-nav"><a href="#/landing" class="logo pull-left"><img src="assets/images/itrack.png" class="itrack pull-left"></a><div class="title-wrap pull-left"><div class="app-title f22">{{ header.page.title | translate }}&#x200E;</div></div><div class="user-inner-wrap pull-right"><div ng-show="!header.isOnline()" class="last-synced">{{\'HEADER.LAST_SYNC_TIME\' | translate}}<br>{{header.lastSyncTime}}</div><div ng-click="header.isDropOpen = !header.isDropOpen; $event.stopPropagation()" class="user f12">{{\'HEADER.HI\' | translate}} {{header.currentUser()}}</div><div ng-if="header.isDropOpen" class="user-dropdown"><ul class="arrow-box f12"><li ng-click="main.navigateTo(\'/sync\')" translate="HEADER.SYNC_DATA"></li><li ng-click="main.navigateTo(\'/admin/users\')" ng-if="main.getUserRights().crudUsers &amp;&amp; main.isOnline()" translate="HEADER.MANAGE_USERS"></li><li ng-if="header.isInitiativeView() &amp;&amp; main.getUserRights().crudArtifacts &amp;&amp; main.isOnline()" ng-click="header.postPoneInitiatives()" translate="HEADER.POSTPONE_PRIORITY"></li><li ng-click="main.print()" translate="HEADER.PRINT"></li><li ng-click="header.isPromptRequired() ? header.logoutPrompt = true : header.logoutHandler()" translate="HEADER.LOGOUT"></li></ul></div></div></div><div class="navbar f12 pull-left"><ul class="nav-bar pull-left"><li ng-repeat="item in header.page.headerMenu track by $index" ng-class="{\'navigation--active\': header.currentRoute() === item.link}" class="navigation"><a ng-href="{{header.getMenuLink(item)}}"><img ng-src="assets/images/{{item.icon}}" class="nav-images pull-left"><span class="nav-text">{{item.label | translate}}</span></a></li></ul><div ng-click="main.navigateTo(\'search\')" ng-if="header.currentRoute()!==&quot;search&quot; &amp;&amp; main.isOnline()" translate="HEADER.SEARCH" class="action-item pull-right search pointer"></div></div><div ng-if="header.logoutPrompt" class="logout__prompt abs0"><div class="inner__prompt"><div translate="HEADER.LOGOUT" class="inner__prompt__heading f20"></div><div class="logout__desc">{{header.promptMessage}}</div><div translate="HEADER.PRESS_OK_TO_LOGOUT" class="logout__desc"></div><form ng-submit="header.logoutHandler()"><button type="submit" translate="HEADER.OK" class="pull-right"></button> <button ng-click="header.logoutPrompt = false" translate="CANCEL" class="pull-right"></button></form></div></div></div><div ng-swipe-left="main.onSidebarSwipe(\'left\')" rtl="" is-rtl="{{main.isRtl}}" ng-swipe-right="main.onSidebarSwipe(\'right\')" class="mobile-menu-container"><div ng-show="header.page.showHeader" class="title-container-mobile"><div ng-click="main.toggleMenu()" class="sprite-mobile menu-icon pull-left"></div><div class="title f18 pull-left">{{header.page.title | translate}} &#x200E;</div><div ng-click="main.toggleOverflowMenu()" ng-show="main.isAddCardsVisible() &amp;&amp; !header.isAddingDisabled()" class="three-dots sprite-mobile pull-right"><ul ng-show="main.isOverflowMenuVisible" class="overflow-menu"><li ng-click="main.addCards()" class="overflow-menu-item">{{ main.getAddCardTitle() }}</li></ul></div><div ng-click="header.mobile.showNavbar=true; main.closeMobileMenu()" ng-show="header.page.headerMenu.length&gt;0" class="four-squares pull-right"></div></div><div ng-show="main.sidebarVisibility" ng-click="main.closeMobileMenu(); $event.stopPropagation()" class="mobile-nav-overlay"></div><div ng-show="main.sidebarVisibility" class="nav-menu-mobile"><ul class="nav-menu-section"><li class="nav-item logged-in-user f24">{{header.currentUser()}}</li><li ng-click="main.navigateTo(\'/\'); main.closeMobileMenu()" class="nav-item"><span class="home icon pull-left"></span><span translate="HEADER.HOME" class="pull-left nav-item-text"></span></li><li ng-click="main.navigateTo(\'/sync\'); main.closeMobileMenu()" class="nav-item"><span class="sync icon pull-left"></span><span translate="HEADER.SYNC" class="pull-left nav-item-text"></span></li><li ng-if="main.getUserRights().crudUsers &amp;&amp; main.isOnline()" ng-click="main.navigateTo(\'/admin/users\'); main.closeMobileMenu()" class="nav-item"><span class="manage-users icon pull-left"></span><span translate="HEADER.MANAGE_USERS" class="pull-left nav-item-text"></span></li><li ng-if="header.isInitiativeView() &amp;&amp; main.getUserRights().crudArtifacts &amp;&amp; main.isOnline()" ng-click="header.postPoneInitiatives(); main.closeMobileMenu()" class="nav-item"><span class="postpone icon pull-left"></span><span translate="HEADER.POSTPONE_PRIORITY" class="pull-left nav-item-text"></span></li><li ng-click="header.isPromptRequired() ? header.logoutPrompt = true : header.logoutHandler(); main.closeMobileMenu()" class="nav-item"><span class="logout icon pull-left"></span><span translate="HEADER.LOGOUT" class="pull-left nav-item-text"></span></li></ul><div ng-click="main.navigateTo(\'search\'); main.closeMobileMenu()" ng-if="header.currentRoute()!==&quot;search&quot; &amp;&amp; main.isOnline()" class="search-bar pointer"><input type="text" placeholder="{{ \'HEADER.SEARCH\' | translate }}" class="search-input f20"></div></div><div ng-show="header.mobile.showNavbar" ng-click="header.mobile.showNavbar=false" class="mobile-navigation-container"><div class="navigation-box"><div ng-repeat="item in header.page.headerMenu track by $index" ng-click="header.mobile.changeNav(item)" class="nav-row"><div ng-class="{\'selected\':header.currentRoute() === item.link}" class="circle pull-left"></div><img ng-src="assets/images/{{item.icon}}" class="nav-images"><span translate="{{item.label}}" class="nav-text"></span></div></div></div></div><div ng-show="main.isMobile" class="mobile-footer"><div ng-click="main.backTo()" class="footer-back"></div><div ng-click="main.navigateTo(\'/\')" class="footer-home"></div></div><div ng-include="\'app/components/upload-milestone/upload-milestone.html\'" ng-if="header.uploadMilestonesModal"></div><div ng-include="\'app/components/download-template/download-template.html\'" ng-if="header.downloadTemplateModal"></div></header>'),t.put("app/components/initiative/initiative.html",'<div ng-controller="InitiativeController as initiativeController" class="cards__container"><rtl is-rtl="{{main.isRtl}}"><div breadcrumb="" data-crumbs="initiativeController.breadCrumb" ng-if="initiativeController.breadCrumb" data-is-rtl="main.isRtl" class="breadcrumbs"></div></rtl><div rtl="" data-is-rtl="{{main.isRtl}}" ng-class="initiativeController.breadCrumb ? (initiativeController.breadCrumb.length &gt; 1 ? \'top-padding\' : \'top-padding-less\'): \'\'" class="legend"><div ng-if="initiativeController.isLandingPage" class="tabs-container pull-left"><ul class="tabs f20 pointer landing-tabs clearfix"><li ng-class="{\'tab--active\': initiativeController.selectedTab === \'overall\'}" ng-click="initiativeController.selectedTab = \'overall\'" translate="INITIATIVE_PAGE.OVERALL" ng-if="(initiativeController.landingPriorities &amp;&amp; initiativeController.landingPriorities.length &gt; 0) || (initiativeController.initiatives &amp;&amp; initiativeController.initiatives.length &gt; 0)" class="tab pull-left"></li><li ng-class="{\'tab--active\': initiativeController.selectedTab === \'my-projects\'}" ng-click="initiativeController.selectedTab = \'my-projects\'" ng-if="initiativeController.isMyProject" translate="INITIATIVE_PAGE.MY_PROJECTS" class="tab pull-left"></li></ul></div><ul class="legend-container f12 pull-right"><li ng-click="initiativeController.addCards()" ng-if="main.getUserRights().crudArtifacts &amp;&amp; main.isOnline()" class="add-card pointer">{{(initiativeController.heading.toUpperCase() | translate) || (\'INITIATIVE\' | translate)}}</li><li class="completed-legend"></li><li>{{\'COMPLETED\' | translate}}</li><li class="on-track-legend"></li><li>{{\'ON_TRACK\' | translate}}</li><li class="delayed-legend"></li><li>{{\'DELAYED\' | translate}}</li><li class="unknown-legend"></li><li translate="UNKNOWN"></li></ul></div><div ng-if="initiativeController.selectedTab===\'overall\' || !initiativeController.isLandingPage" class="overall"><div ng-include="\'app/components/summary/summary.html\'" ng-if="initiativeController.initiativeid == 0 || initiativeController.isLandingPage"></div><div ng-if="initiativeController.initiatives.length === 0" translate="INITIATIVE_PAGE.NO_INITIATIVE_FOUND" class="no-data"></div><div rtl="" data-is-rtl="{{main.isRtl}}" class="cards"><div class="cards-left pull-left"><div ng-repeat="initiative in initiativeController.leftInitiatives track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType+\'/\'+initiative.cardType+\'.html\'"></div></div></div></div><div class="cards-right pull-right"><div ng-repeat="initiative in initiativeController.rightInitiatives track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType+\'/\'+initiative.cardType+\'.html\'"></div></div></div></div></div></div><div ng-if="initiativeController.selectedTab===\'my-projects\' &amp;&amp; initiativeController.isLandingPage" class="my-projects"><div rtl="" data-is-rtl="{{main.isRtl}}" class="cards"><div ng-show="initiativeController.landingPriorities &amp;&amp; initiativeController.landingPriorities.length &gt; 0" class="cards-landing"><h3 ng-init="isPriorityVisible=true" ng-click="isPriorityVisible=!isPriorityVisible" class="landing-title f18 pointer">{{\'PRIORITIES\' | translate}}<span class="category__title__arrow__icon pull-right"><img src="assets/images/arrow.svg" width="15px" ng-class="!isPriorityVisible ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></h3><div ng-show="isPriorityVisible"><div class="cards-left pull-left"><div ng-repeat="initiative in initiativeController.leftPriorities track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType+\'/\'+initiative.cardType+\'.html\'"></div></div></div></div><div class="cards-right pull-right"><div ng-repeat="initiative in initiativeController.rightPriorities track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType+\'/\'+initiative.cardType+\'.html\'"></div></div></div></div></div></div><div ng-show="initiativeController.landingInitiatives &amp;&amp; initiativeController.landingInitiatives.length &gt; 0" class="cards-landing"><h3 ng-init="isInitiativeVisible=true" ng-click="isInitiativeVisible=!isInitiativeVisible" class="landing-title f18 pointer">{{\'INITIATIVES\' | translate}}<span class="category__title__arrow__icon pull-right"><img src="assets/images/arrow.svg" width="15px" ng-class="!isInitiativeVisible ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></h3><div ng-show="isInitiativeVisible"><div class="cards-left pull-left"><div ng-repeat="initiative in initiativeController.leftLandingInitiatives track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType+\'/\'+initiative.cardType+\'.html\'"></div></div></div></div><div class="cards-right pull-right"><div ng-repeat="initiative in initiativeController.rightLandingInitiatives track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType+\'/\'+initiative.cardType+\'.html\'"></div></div></div></div></div></div><div ng-show="initiativeController.landingActivities &amp;&amp; initiativeController.landingActivities.length &gt; 0" class="cards-landing"><h3 ng-init="isActivitiesVisible=true" ng-click="isActivitiesVisible=!isActivitiesVisible" class="landing-title f18 pointer">{{\'ACTIVITIES\' | translate}}<span class="category__title__arrow__icon pull-right"><img src="assets/images/arrow.svg" width="15px" ng-class="!isActivitiesVisible ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></h3><div ng-show="isActivitiesVisible"><div class="cards-left pull-left"><div ng-repeat="initiative in initiativeController.leftActivities track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType.toLowerCase()+\'/\'+initiative.cardType.toLowerCase()+\'.html\'"></div></div></div></div><div class="cards-right pull-right"><div ng-repeat="initiative in initiativeController.rightActivities track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/\'+initiative.cardType.toLowerCase()+\'/\'+initiative.cardType.toLowerCase()+\'.html\'"></div></div></div></div></div></div></div></div><div ng-if="initiativeController.onlineRequiredPopup" class="logout__prompt abs0"><div class="inner__prompt"><div class="logout__desc">{{header.promptMessage}}</div><div translate="CONNECT" class="logout__desc"></div><form ng-submit="header.logoutHandler()"><button ng-click="initiativeController.onlineRequiredPopup = false" translate="HEADER.OK"></button></form></div></div></div>'),t.put("app/components/issues/issues.html",'<div ng-controller="IssuesController as Issues" class="issues"><rtl is-rtl="{{main.isRtl}}"><div breadcrumb="" data-crumbs="Issues.breadCrumb" ng-if="Issues.breadCrumb" data-is-rtl="main.isRtl" class="breadcrumbs"></div></rtl><div ng-class="Issues.breadCrumb ? (Issues.breadCrumb.length &gt; 1 ?\'top-margin\': \'top-margin-less\' ): \'\'" class="toggle f20 pointer"><div ng-click="Issues.showIssueLog = true" ng-class="{\'selected-toggle\': Issues.showIssueLog}" translate="CARD.ISSUE_LOG" class="toggle__state"></div><div ng-click="Issues.showIssueLog = false" ng-class="{\'selected-toggle\': !Issues.showIssueLog}" translate="CARD.RISK_LOG" class="toggle__state"></div></div><div ng-if="Issues.showIssueLog" ng-init="isIssuesEditable = false" rtl="" is-rtl="{{main.isRtl}}" class="issue"><div rtl="" is-rtl="{{main.isRtl}}" ng-show="(main.getUserRights().updateAllIssueLogs || Issues.initiative.isEditable)" class="edit-container pull-right pointer"><div ng-click="isIssuesEditable = !isIssuesEditable; Issues.setOld([\'issue\', \'nextSteps\', \'keyMilestones\'], \'issues\')" ng-show="!isIssuesEditable" class="edit-icon"></div><ul ng-hide="!isIssuesEditable" class="save-close-container pointer"><li ng-click="Issues.deleteModelIssue = true; isIssuesEditable = !isIssuesEditable" ng-if="Issues.issues.sno !== undefined"><img src="assets/images/delete.svg" width="20px"></li><li ng-click="Issues.getOld([\'issue\', \'nextSteps\', \'keyMilestones\'], \'issues\'); isIssuesEditable = !isIssuesEditable"><img src="assets/images/close-edit.svg" width="20px"></li><li ng-click="Issues.setIssues([\'issue\', \'nextSteps\', \'keyMilestones\']); isIssuesEditable=false"><img src="assets/images/save-edit.svg" width="20px"></li></ul></div><div class="issue__description f18"><h3 translate="ISSUE.ISSUES" class="issue__description__subheading"></h3><div ng-show="!isIssuesEditable" ng-class="{\'f12\': !Issues.issues.issue, \'f18\': Issues.issues.issue}" class="issue__description__detail">{{Issues.issues.issue ? Issues.issues.issue : \'ISSUE.NO_DATA_AVAILABLE\' | translate }}</div><textarea ng-model="Issues.issues.issue" ng-show="isIssuesEditable" class="textarea"></textarea><h3 translate="ISSUE.NEXT_STEPS" class="issue__description__subheading"></h3><div ng-show="!isIssuesEditable" ng-class="{\'f12\': !Issues.issues.nextSteps, \'f18\': Issues.issues.nextSteps}" class="issue__description__detail">{{Issues.issues.nextSteps ? Issues.issues.nextSteps :\'ISSUE.NO_DATA_AVAILABLE\' | translate}}</div><textarea ng-model="Issues.issues.nextSteps" ng-show="isIssuesEditable" class="textarea"></textarea><h3 translate="ISSUE.KEY_MILESTONES" class="issue__description__subheading"></h3><div ng-show="!isIssuesEditable" ng-class="{\'f12\': !Issues.issues.keyMilestones, \'f18\': Issues.issues.keyMilestones}" class="issue__description__detail">{{Issues.issues.keyMilestones? Issues.issues.keyMilestones :\'ISSUE.NO_DATA_AVAILABLE\' | translate}}</div><textarea ng-model="Issues.issues.keyMilestones" ng-show="isIssuesEditable" class="textarea"></textarea></div></div><div ng-if="!Issues.showIssueLog" ng-init="isRiskEditable = false" rtl="" is-rtl="{{main.isRtl}}" class="risk"><div ng-show="(main.getUserRights().updateAllIssueLogs || Issues.initiative.isEditable)" class="edit-container pointer pull-right"><div ng-click="isRiskEditable = !isRiskEditable; Issues.setOld([\'risk\', \'nextSteps\', \'keyMilestones\'], \'risk\')" ng-show="!isRiskEditable" class="edit-icon"></div><ul ng-hide="!isRiskEditable" class="save-close-container pointer"><li ng-click="Issues.deleteModelRisk = true; isRiskEditable = !isRiskEditable" ng-if="Issues.risk.sno !== undefined"><img src="assets/images/delete.svg" width="20px"></li><li ng-click="Issues.getOld([\'risk\', \'nextSteps\', \'keyMilestones\'], \'risk\'); isRiskEditable = !isRiskEditable"><img src="assets/images/close-edit.svg" width="20px"></li><li ng-click="Issues.setRisk([\'risk\', \'nextSteps\', \'keyMilestones\'], \'risk\'); isRiskEditable=false"><img src="assets/images/save-edit.svg" width="20px"></li></ul></div><div class="issue__description f18"><h3 translate="ISSUE.RISKS" class="issue__description__subheading"></h3><div ng-show="!isRiskEditable" ng-class="{\'f12\': !Issues.risk.risk, \'f18\': Issues.risk.risk}" class="issue__description__detail">{{Issues.risk.risk ? Issues.risk.risk : \'ISSUE.NO_DATA_AVAILABLE\' | translate}}</div><textarea ng-model="Issues.risk.risk" ng-show="isRiskEditable" class="textarea"></textarea><h3 translate="ISSUE.NEXT_STEPS" class="issue__description__subheading"></h3><div ng-show="!isRiskEditable" ng-class="{\'f12\': !Issues.risk.nextSteps, \'f18\': Issues.risk.nextSteps}" class="issue__description__detail">{{Issues.risk.nextSteps ? Issues.risk.nextSteps : \'ISSUE.NO_DATA_AVAILABLE\' | translate}}</div><textarea ng-model="Issues.risk.nextSteps" ng-show="isRiskEditable" class="textarea"></textarea><h3 translate="ISSUE.KEY_MILESTONES" class="issue__description__subheading"></h3><div ng-show="!isRiskEditable" ng-class="{\'f12\': !Issues.risk.keyMilestones, \'f18\': Issues.risk.keyMilestones}" class="issue__description__detail">{{Issues.risk.keyMilestones ? Issues.risk.keyMilestones :\'ISSUE.NO_DATA_AVAILABLE\' | translate}}</div><textarea ng-model="Issues.risk.keyMilestones" ng-show="isRiskEditable" class="textarea"></textarea></div></div><div ng-if="Issues.deleteModelIssue" class="delete-modal"><div class="delete-container"><div translate="ISSUE.DELETE_ISSUES" class="delete-title f24"></div><form name="deleteForm" novalidate="" class="delete-form"><div translate="FORM.WARNING_CANNOT_BE_UNDONE" class="warning-text"></div><div class="buttom-wrap"><button ng-click="Issues.deleteIssue()" ng-class="{\'pointer\': !deleteForm.$invalid}" translate="ISSUE.YES_DELETE_ISSUES" class="delete-button f16"></button> <button ng-click="Issues.deleteModelIssue=false" translate="CANCEL" class="cancel-button f16"></button></div></form></div></div><div ng-if="Issues.deleteModelRisk" class="delete-modal"><div class="delete-container"><div translate="ISSUE.DELETE_RISK" class="delete-title f24"></div><form name="deleteForm" novalidate="" class="delete-form"><div translate="FORM.WARNING_CANNOT_BE_UNDONE" class="warning-text"></div><div class="buttom-wrap"><button ng-click="Issues.deleteRisk()" ng-class="{\'pointer\': !deleteForm.$invalid}" translate="ISSUE.YES_DELETE_RISK" class="delete-button f16"></button> <button ng-click="Issues.deleteModelRisk=false" translate="CANCEL" class="cancel-button f16"></button></div></form></div></div><div ng-if="Issues.statusModel" class="status-modal"><div class="delete-container"><div ng-class="{\'error-msg\': Issues.isError}" class="status-update f20">{{Issues.statusMsg}}</div><div ng-click="Issues.backTo()" translate="FORM.CLOSE" class="button status-button f16"></div></div></div></div>'),
t.put("app/components/login/login.html",'<div ng-controller="LoginController as login" class="login-wrap"><div rtl="" data-is-rtl="{{main.isRtl}}" class="login"><div class="login-title f36"><h1 class="desktop-title">{{login.page.title}}</h1><div class="mobile-title logo-name-container">{{login.page.mobileTitle[0]}}</div><div class="mobile-title f18">{{login.page.mobileTitle[1]}}</div></div></div><div class="image-and-login-container"><div class="image-container"><img src="assets/images/itrack.png"></div><rtl is-rtl="{{main.isRtl}}" class="login-rtl"><form name="loginForm" novalidate="" ng-submit="login.loginAuth(login.username, login.password)" class="login-container"><label for="username">{{ \'EMAIL\' | translate }} *</label><br><div class="input-container"><input ng-model="login.username" ngrequired="" type="email" name="email" id="username" placeholder="user@sample.com" required="" autocomplete="off" class="f20 username"><img src="assets/images/username.svg" class="input-container-icon"></div><br><label for="password">{{ \'LOGIN.PASSWORD\' | translate }} *</label><br><div class="input-container"><input ng-model="login.password" ngrequired="" type="password" name="password" placeholder="*****" required="" autocomplete="off" class="f20 password"><img src="assets/images/password-icon.svg" class="input-container-icon"></div><div class="error-message">{{login.errorMessage}}</div><button type="submit" ng-disabled="loginForm.$invalid" ng-class="{\'btn-disable\':loginForm.$invalid}" class="f18"><span ng-if="login.spinner.isVisibile"><img src="assets/images/spinner-svg.svg" ng-class="\'spin-button\'"></span><span ng-if="!login.spinner.isVisibile" translate="LOGIN.SIGN_IN"></span></button><div class="forgot__password"><a href="#/forgot-password" translate="LOGIN.FORGOT_RESET_PASSWORD"></a></div></form></rtl></div></div>'),t.put("app/components/no-support/no-support.html",'<div ng-controller="NoSupportController" class="unsupported-browser"><h1 translate="NO_SUPPORT.UNSUPPORTED_BROWSER" class="title f24"></h1><p class="text f18"><span translate="NO_SUPPORT.NOT_SUPPORTED_IN_IE_PRIVATE_MODE"></span><span translate="NO_SUPPORT.ALTERNATIVE_BROWSER"></span></p><h1 translate="NO_SUPPORT.SUPPORTED_BROWSER" class="title f24"></h1><ul class="f16"><li translate="NO_SUPPORT.GOOGLE_CHROME"></li><li translate="NO_SUPPORT.APPLE_SAFARI"></li><li translate="NO_SUPPORT.MOZILLA_FIREFOX"></li></ul></div>'),t.put("app/components/output/output.html",'<div ng-controller="OutputController as output" class="cards__container"><rtl is-rtl="{{main.isRtl}}"><div breadcrumb="" data-crumbs="output.breadCrumb" ng-if="output.breadCrumb" data-is-rtl="main.isRtl" class="breadcrumbs"></div></rtl><div rtl="" is-rtl="{{main.isRtl}}" ng-class="output.breadCrumb ? (output.breadCrumb.length &gt; 1 ? \'top-padding\' : \'top-padding-less\'): \'\'" class="legend output-legends clearfix"><ul class="tabs f16 pointer clearfix"><li ng-class="{\'tab--active\': output.isSelectedPeriod(\'current\')}" ng-click="output.setSelectedPeriod(\'current\')" translate="CURRENT" class="tab pull-left"></li><li ng-class="{\'tab--active\': output.isSelectedPeriod(\'trend\')}" ng-click="output.setSelectedPeriod(\'trend\')" translate="TRENDLINE" class="tab pull-left"></li></ul><span><ul class="legend-container f12 pull-right"><li ng-click="output.addCards()" ng-if="main.getUserRights().crudArtifacts &amp;&amp; !output.isDrillDown &amp;&amp; main.isOnline()" translate="OUTPUT_KPI" class="add-card pointer"></li><li class="target-legend hidden-xs"></li><li translate="TARGET" class="mobile-legend target-mobile"></li><li class="actual-legend hidden-xs"></li><li translate="ACTUAL" class="mobile-legend actual-mobile"></li><li class="completed-legend"></li><li translate="COMPLETED"></li><li class="on-track-legend"></li><li translate="ON_TRACK"></li><li class="delayed-legend"></li><li translate="DELAYED"></li><li class="unknown-legend"></li><li translate="UNKNOWN"></li></ul></span><h2 translate="INITIATIVE_PAGE.INITIATIVE_OUTPUT_KPIS" class="legend-heading"></h2></div><div ng-if="!output.initiative" translate="INITIATIVE_PAGE.NO_INITIATIVE_FOUND" class="no-data"></div><div class="cards"><div class="cards-full"><div ng-repeat="kpi in output.fullWidthkpis track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/output-kpi/output-kpi.html\'"></div></div></div></div><div class="cards-left pull-left"><div ng-repeat="kpi in output.leftKpis track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/output-kpi/output-kpi.html\'"></div></div></div></div><div class="cards-right pull-right"><div ng-repeat="kpi in output.rightKpis track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/output-kpi/output-kpi.html\'"></div></div></div></div></div></div>'),t.put("app/components/outcome/outcome.html",'<div ng-controller="OutcomeController as outcome" class="kpi-container"><div rtl="" is-rtl="{{main.isRtl}}" class="legend clearfix"><ul class="tabs f16 pointer pull-left"><li ng-class="{\'tab--active\': outcome.selectedPeriod === \'current\'}" ng-click="outcome.selectedPeriod = \'current\'; outcome.periodChanged()" translate="CURRENT" class="tab pull-left"></li><li ng-class="{\'tab--active\': outcome.selectedPeriod === \'trend\'}" ng-click="outcome.selectedPeriod = \'trend\'; outcome.periodChanged()" translate="TRENDLINE" class="tab pull-left"></li></ul><ul class="legend-container f12 pull-right"><li ng-click="outcome.addCards()" ng-if="main.getUserRights().crudArtifacts &amp;&amp; main.isOnline()" translate="OUTCOME_KPI" class="add-card pointer"></li><li class="target-legend hidden-xs"></li><li translate="TARGET" class="mobile-legend target-mobile"></li><li class="actual-legend hidden-xs"></li><li translate="ACTUAL" class="mobile-legend actual-mobile"></li><li class="completed-legend"></li><li translate="COMPLETED"></li><li class="on-track-legend"></li><li translate="ON_TRACK"></li><li class="delayed-legend"></li><li translate="DELAYED"></li><li class="unknown-legend"></li><li translate="UNKNOWN"></li></ul></div><div ng-if="!outcome.initiative" translate="INITIATIVE_PAGE.NO_INITIATIVE_FOUND" class="no-data"></div><div ng-if="outcome.kpis.length === 0" translate="INITIATIVE_PAGE.NO_KPI_FOUND" class="no-data"></div><div class="cards"><div class="cards-full"><div ng-repeat="kpi in outcome.fullWidthkpis track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/outcome-kpi/outcome-kpi.html\'"></div></div></div></div><div class="cards-left pull-left"><div ng-repeat="kpi in outcome.leftkpis track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/outcome-kpi/outcome-kpi.html\'"></div></div></div></div><div class="cards-right pull-right"><div ng-repeat="kpi in outcome.rightkpis track by $index" class="card card-half"><div class="card__container"><div ng-include="\'app/components/cards/outcome-kpi/outcome-kpi.html\'"></div></div></div></div></div></div>'),t.put("app/components/reset-password/reset-password.html",'<div ng-controller="ResetPasswordController as reset" class="reset-wrap"><div class="reset"><div translate="FORGOT_PASSWORD.RESET_PASSWORD" class="reset__title f24"></div></div><div class="reset__container"><form name="resetForm" novalidate="" ng-submit="" class="reset__form"><label for="newPassword" translate="RESET_PASSWORD.NEW_PASSWORD"></label><br><div><input ng-model="reset.newPassword" type="password" ng-change="reset.passwordMatch()" name="newPassword" id="newPassword" class="f16"></div><br><label for="confirmNewPassword" translate="RESET_PASSWORD.CONFIRM_NEW_PASSWORD"></label><br><div><input ng-model="reset.confirmNewPassword" ng-change="reset.passwordMatch()" type="password" name="confirmNewPassword" id="confirmNewPassword" class="f16"></div><br><button type="submit" ng-disabled="!reset.changePasswordEnabled" ng-click="reset.changePassword()" ng-class="{true:\'btn-disable\'}[resetForm.$invalid]" class="f18"><span ng-if="reset.spinner.isVisibile"><img src="assets/images/spinner-svg.svg" ng-class="\'spin-button\'"></span><span ng-if="!reset.spinner.isVisibile" translate="RESET_PASSWORD.CHANGE_PASSWORD"></span></button><div class="error-message">{{reset.errorMessage}}</div></form></div></div>'),t.put("app/components/search/search.html",'<div ng-controller="SearchController as search" class="search-wrapper"><form name="searchForm" novalidate="" ng-submit="searchForm.$valid ? search.searchOnline() : _" rtl="" is-rtl="{{main.isRtl}}" class="search-box-container"><input type="text" placeholder="{{\'SEARCH.ENTER_SEARCH_QUERY\' | translate}}" ng-change="search.getSearchResults()" ng-model="search.queryString" required="" ng-minlength="3" class="search-input f20"><div ng-if="search.queryString.length &gt; 2" class="search-btn pull-right"><div ng-click="search.searchOnline()" ng-if="search.isOnline()" class="search pointer"></div></div><div class="filters-wrapper"><span ng-repeat="filter in search.searchFilters track by $index" class="filter"><input id="cb{{$index}}" name="cb" type="checkbox" ng-model="filter.value" ng-change="search.getSearchResults()"> <label for="cb{{$index}}">{{search.getDisplayNames(filter.name)}}</label></span></div></form><div rtl="" is-rtl="{{main.isRtl}}"><div class="search-requirement">* {{\'SEARCH.SEARCH_QUERY_MIN_3_CHARACTERS\' | translate}}</div></div><div rtl="" is-rtl="{{main.isRtl}}" class="legends"><ul class="legend-container f12"><li class="completed-legend"></li><li>{{\'COMPLETED\' | translate}}</li><li class="on-track-legend"></li><li>{{\'ON_TRACK\' | translate}}</li><li class="delayed-legend"></li><li>{{\'DELAYED\' | translate}}</li><li class="unknown-legend"></li><li translate="UNKNOWN"></li></ul></div><div rtl="" is-rtl="{{main.isRtl}}" class="results-container"><div ng-repeat="filterValue in search.keysToBeSearched.keys track by $index"><div class="f20 result-type">{{search.getDisplayNames(filterValue)}} ({{search.results[filterValue].length}})&#x200E;</div><div ng-if="search.results[filterValue]" class="result-list"><div ng-repeat="foundResult in search.results[filterValue] track by $index" ng-click="search.navigateTo(filterValue,foundResult)" ng-class="foundResult.status ? foundResult.status : &quot;unknown&quot;" class="results pointer"><span ng-if="filterValue!==&quot;Owners&quot;" ng-bind-html="foundResult.name | highlight:search.highlightQueryString"></span><span ng-if="filterValue===&quot;Owners&quot;"><div ng-bind-html="foundResult.initiative" class="found-name"></div><div ng-bind-html="foundResult.name | highlight:search.queryString" class="found-owner"></div></span></div></div></div></div></div>'),t.put("app/components/summary/initiative-summary.html",'<div ng-if="summary.lastUpdatedOn" class="last-updated-container">{{\'CARD.LAST_UPDATED\' | translate}}: {{summary.lastUpdatedOn}}</div><div ng-init="isCollapsedSector = false" class="block-container summary-card"><div ng-click="isCollapsedSector=!isCollapsedSector" ng-class="isCollapsedSector ? \'summary--isCollapsed\': \'\'" class="block-title pointer f16"><h2 translate="SUMMARY.PROGRESS" class="summary-title"></h2><div class="summary-handler pull-right"><div class="summary-arrow"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsedSector ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></div></div></div><div ng-show="!isCollapsedSector &amp;&amp; (main.getUserRights().updateAllExecutiveSummaries || summary.initiative.isEditable)" class="summary-edit pointer"><span ng-click="summary.isProgressEditable.sector=true" ng-show="!summary.isProgressEditable.sector" class="edit-click"><img src="assets/images/edit.png" width="15px"></span></div><ul ng-hide="!summary.isProgressEditable.sector || isCollapsedSector" class="save-close-container pointer summary-save-close"><li ng-click="summary.summary.sectorSummary = summary.sectorSummary; summary.isProgressEditable.sector=false" class="close-icon"></li><li ng-click="summary.setSummary([\'sectorSummary\']); summary.isProgressEditable.sector=false" class="save-icon"></li></ul><div ng-show="!isCollapsedSector" class="description-container"><div ng-show="!summary.isProgressEditable.sector &amp;&amp; summary.sectorData.length &gt; 0"><pre ng-repeat="data in summary.sectorData track by $index" class="f16 summary-description">{{data}} </pre></div><div ng-show="!summary.isProgressEditable.sector &amp;&amp; summary.sectorData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.sectorSummary" ng-show="summary.isProgressEditable.sector" class="textarea"></textarea></div></div><div ng-init="isCollapsedDecisions = false" class="block-container summary-card"><div ng-click="isCollapsedDecisions=!isCollapsedDecisions" ng-class="isCollapsedDecisions ? \'summary--isCollapsed\': \'\'" class="block-title pointer f16"><h2 translate="SUMMARY.DECISIONS_REQUIRED" class="summary-title"></h2><div class="summary-handler pull-right"><div class="summary-arrow"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsedDecisions ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></div></div></div><div ng-show="!isCollapsedDecisions &amp;&amp; (main.getUserRights().updateAllExecutiveSummaries || summary.initiative.isEditable)" class="summary-edit pointer"><span ng-click="summary.isProgressEditable.decisions=true" ng-show="!summary.isProgressEditable.decisions" class="edit-click"><img src="assets/images/edit.png" width="15px"></span></div><ul ng-hide="!summary.isProgressEditable.decisions || isCollapsedDecisions" class="pointer summary-save-close"><li ng-click="summary.summary.decisionsRequired = summary.decisionsRequired; summary.isProgressEditable.decisions=false" class="close-icon"></li><li ng-click="summary.setSummary([\'decisionsRequired\']); summary.isProgressEditable.decisions=false" class="save-icon"></li></ul><div ng-show="!isCollapsedDecisions" class="description-container"><div ng-show="!summary.isProgressEditable.decisions &amp;&amp; summary.decisionsData.length &gt; 0"><pre ng-repeat="data in summary.decisionsData track by $index" class="f16 summary-description">{{data}} </pre></div><div ng-show="!summary.isProgressEditable.decisions &amp;&amp; summary.decisionsData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.decisionsRequired" ng-show="summary.isProgressEditable.decisions" class="textarea"></textarea></div></div><div ng-init="isCollapsedIssues = false" class="block-container summary-card"><div ng-click="isCollapsedIssues=!isCollapsedIssues" ng-class="isCollapsedIssues ? \'summary--isCollapsed\': \'\'" class="major-title pointer f16"><div class="summary-title"><div class="major-title-subheading pull-left"><h2 translate="SUMMARY.MAJOR_ISSUES" class="summary-title"></h2></div><div class="major-title-subheading pull-left"><h2 translate="SUMMARY.PROPOSED_SOLUTION" class="subheading summary-title"></h2></div></div><div class="summary-handler pull-right"><div class="summary-arrow"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsedIssues ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></div></div></div><div ng-show="!isCollapsedIssues &amp;&amp; (main.getUserRights().updateAllExecutiveSummaries || summary.initiative.isEditable)" class="summary-edit pointer"><span ng-click="summary.isProgressEditable.issues=true" ng-show="!summary.isProgressEditable.issues" class="edit-click"><img src="assets/images/edit.png" width="15px"></span></div><ul ng-hide="!summary.isProgressEditable.issues || isCollapsedIssues" class="pointer summary-save-close"><li ng-click="summary.summary.majorIssues = summary.majorIssues; summary.summary.proposedSolution = summary.proposedSolution; summary.isProgressEditable.issues=false" class="close-icon"></li><li ng-click="summary.setSummary([\'majorIssues\',\'proposedSolution\']); summary.isProgressEditable.issues=false" class="save-icon"></li></ul><div ng-show="!isCollapsedIssues" class="issues-solutions description-container clearfix"><div class="major-issues-container pull-left"><div ng-show="!summary.isProgressEditable.issues &amp;&amp; summary.majorData.length &gt; 0"><pre ng-repeat="data in summary.majorData track by $index" class="f16 summary-description">{{data}} </pre></div><div ng-show="!summary.isProgressEditable.issues &amp;&amp; summary.majorData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.majorIssues" ng-show="summary.isProgressEditable.issues" class="textarea"></textarea></div><div class="proposed-solutions pull-left"><div ng-show="!summary.isProgressEditable.issues &amp;&amp; summary.proposedData.length &gt; 0"><pre ng-repeat="data in summary.proposedData track by $index" class="f16 summary-description">{{data}} </pre></div><div ng-show="!summary.isProgressEditable.issues &amp;&amp; summary.proposedData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.proposedSolution" ng-show="summary.isProgressEditable.issues" class="textarea"></textarea></div></div></div>'),t.put("app/components/summary/landing-summary.html",'<div class="block-container summary-card landing-summary"><div ng-click="isCollapsed=!isCollapsed" ng-class="isCollapsed ? \'summary--isCollapsed\': \'\'" class="block-title f16 pointer"><div translate="APP_CONFIG.OVERALL_EXECUTIVE_SUMMARY" class="summary-title f16"></div><div class="summary-handler pull-right"><div class="summary-arrow"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsed ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></div></div></div><div ng-show="!isCollapsed &amp;&amp; main.getUserRights().updateAllExecutiveSummaries" class="summary-edit pointer"><span ng-click="isSummaryEditable=true; isCollapsed = false; summary.setOldSummary()" ng-show="!isSummaryEditable" class="edit-click"><img src="assets/images/edit.png" width="15px"></span></div><ul ng-hide="!isSummaryEditable || isCollapsed" class="pointer summary-save-close"><li ng-click="isSummaryEditable=false; summary.getOldSummary()" class="close-icon"></li><li ng-click="summary.setSummary([\'keyPerformanceDrivers\', \'majorIssues\', \'proposedSolution\', \'decisionsRequired\']); isSummaryEditable=false" class="save-icon"></li></ul><div ng-show="!isCollapsed" class="summary"><div ng-if="summary.lastUpdatedOn" class="summary-last-updated pull-right">{{ \'CARD.LAST_UPDATED\' | translate }}: {{summary.lastUpdatedOn}}</div><div class="summary-full-block"><div class="summary-subtitle f18">{{ \'SUMMARY.PROGRESS\' | translate }}</div><div ng-show="!isSummaryEditable &amp;&amp; summary.progressData.length &gt; 0"><pre ng-repeat="data in summary.progressData track by $index" class="f16 summary-description">{{data}}</pre></div><div ng-show="!isSummaryEditable &amp;&amp; summary.progressData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.keyPerformanceDrivers" ng-show="isSummaryEditable" class="textarea"></textarea></div><div class="summary-full-block issues-solutions clearfix"><div class="major-issues-container pull-left"><div class="summary-subtitle f18">{{ \'SUMMARY.MAJOR_ISSUES\' | translate }}</div><div ng-show="!isSummaryEditable &amp;&amp; summary.majorData.length &gt; 0"><pre ng-repeat="data in summary.majorData track by $index" class="f16 summary-description">{{data}}</pre></div><div ng-show="!isSummaryEditable &amp;&amp; summary.majorData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.majorIssues" ng-show="isSummaryEditable" class="textarea"></textarea></div><div class="proposed-solutions pull-left"><div class="summary-subtitle f18">{{ \'SUMMARY.PROPOSED_SOLUTION\' | translate }}</div><div ng-show="!isSummaryEditable &amp;&amp; summary.proposedData.length &gt; 0"><pre ng-repeat="data in summary.proposedData track by $index" class="f16 summary-description">{{data}}</pre></div><div ng-show="!isSummaryEditable &amp;&amp; summary.proposedData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.proposedSolution" ng-show="isSummaryEditable" class="textarea"></textarea></div></div><div class="summary-full-block"><div class="summary-subtitle f18">{{ \'SUMMARY.DECISIONS_REQUIRED\' | translate }}</div><div ng-show="!isSummaryEditable &amp;&amp; summary.decisionsData.length &gt; 0"><pre ng-repeat="data in summary.decisionsData track by $index" class="f16 summary-description">{{data}}</pre></div><div ng-show="!isSummaryEditable &amp;&amp; summary.decisionsData.length == 0"><pre class="no-data summary-description">{{main.translations[\'ISSUE.NO_DATA_AVAILABLE\']}}</pre></div><textarea ng-model="summary.summary.decisionsRequired" ng-show="isSummaryEditable" class="textarea"></textarea></div></div></div>'),t.put("app/components/summary/summary.html",'<div ng-controller="SummaryController as summary"><div ng-if="!summary.initiativeId &amp;&amp; summary.initiativeId != 0" translate="INITIATIVE_PAGE.NO_INITIATIVE_FOUND" class="no-data"></div><div rtl="" data-is-rtl="{{main.isRtl}}" ng-show="summary.initiativeId" class="initiative-summary"><div ng-include="\'app/components/summary/initiative-summary.html\'"></div></div><div rtl="" data-is-rtl="{{main.isRtl}}" ng-init="isSummaryEditable = false; isCollapsed = true" ng-show="summary.initiativeId == 0" class="landing-summary-wrap"><div ng-include="\'app/components/summary/landing-summary.html\'"></div></div></div>'),t.put("app/components/sync/sync.html",'<div ng-controller="SyncController as sync"><div rtl="" is-rtl="{{main.isRtl}}" class="sync-wrap"><div class="sync-container"><div translate="SYNC.SYNC_STATUS" class="sub-title f18"></div><div>{{ \'SYNC.CHANGES_AFTER_LAST_SYNC\' | translate }}: {{sync.pendingRequests.length}}</div></div><div class="sync-links"><div disable-control="sync.pendingRequests.length &lt; 1 || !sync.isOnline" ng-click="sync.syncToServer()" class="sync-upload pull-left"><img src="assets/images/upload.svg"><div translate="UPLOAD"></div><div translate="SYNC.SEND_DATA_TO_SERVER" class="f12"></div></div><div disable-control="!sync.isOnline" ng-click="sync.checkUnsynced()" class="sync-download pull-right"><img src="assets/images/download.svg"><div translate="DOWNLOAD"></div><div translate="SYNC.GET_DATA_FROM_SERVER" class="f12"></div></div></div></div><div ng-if="sync.messageModal" rtl="" is-rtl="{{main.isRtl}}" class="status-modal"><div class="delete-container"><div ng-click="sync.messageModal=false" class="pointer pull-right">X</div><div class="status-update f20">{{sync.message}}</div></div></div><div ng-if="sync.downloadModal" class="status-modal"><div class="delete-container"><div ng-click="sync.downloadModal=false" class="pointer pull-right">X</div><div class="status-update f20">{{ \'SYNC.NO_OF_UNSYNCED_CHANGES\' | translate }}: {{sync.pendingRequests.length}}</div><div class="button-wrap"><div ng-click="sync.syncToServer()" translate="HEADER.SYNC" class="button status-button highlight f16"></div><div ng-click="sync.syncFromServer()" translate="DOWNLOAD" class="button status-button f16"></div></div></div></div></div>'),t.put("app/components/upload-milestone/upload-milestone.html",'<div ng-controller="UploadMilestoneController as upload"><div ng-if="upload.showUploadModal" rtl="" is-rtl="{{main.isRtl}}" class="status-modal upload-modal"><div class="delete-container"><div translate="MILESTONE_TEMPLATE.UPLOAD_MILESTONES" class="pull-left f20"></div><img src="assets/images/close.svg" width="15px" ng-click="upload.closeUploadModal()" class="pull-right pointer"><form name="addNewMilestones" novalidate="" class="delete-form"><div translate="MILESTONE_TEMPLATE.SELECT_EXCEL"></div><input type="file" id="milestoneData" name="milestoneData" fileread="upload.milestoneData" accept=".csv" class="input-file"> <label for="milestoneData" class="input-file-box"><div class="input-filename pointer"><div class="file-name pull-left"><img src="assets/images/excel_ico.svg" width="30px"><span>{{upload.milestoneData}}</span></div><div translate="MILESTONE_TEMPLATE.BROWSE" class="input-browse pull-right"></div></div></label><div class="delete-field"><input id="new-milestone" ng-checked="upload.newMilestone" ng-disabled="upload.milestoneData === undefined" type="checkbox" ng-model="upload.newMilestone" required=""> <label for="new-milestone" translate="MILESTONE_TEMPLATE.MILESTONE_WARNING" class="f16"></label></div><div class="button-wrap"><button ng-click="upload.closeUploadModal()" translate="CANCEL" class="status-button f16"></button> <button ng-click="upload.uploadTemplate()" ng-disabled="addNewMilestones.$invalid" ng-class="{\'create-cursor\': !addNewMilestones.$invalid}" class="delete-button form-submit f16"><span ng-if="!upload.btnSpinner" translate="UPLOAD"></span><span ng-if="upload.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button></div></form></div></div><div ng-if="upload.showErrorModal" class="status-modal csv-error-modal"><div class="delete-container"><div class="pull-left f20">KPI Milestone Errors</div><img src="assets/images/close.svg" width="15px" ng-click="upload.showErrorModal=false; upload.closeUploadModal()" class="pull-right pointer"><table class="error-table"><tr><th ng-repeat="heading in upload.errorHeadings" class="cell-format">{{heading}}</th></tr><tr ng-repeat="row in upload.errorData" class="row-color"><td class="cell-format">{{row.sno}}</td><td title="{{row.details.error===\'E_UNKNOWN\'? row.details.raw.code : row.details.summary}}" class="cell-format">{{row.error}}</td><td ng-repeat="key in upload.keys" title="{{row.details.invalidAttributes[key][0].message}}" class="cell-format">{{row[key]}}</td></tr></table></div></div><div ng-if="upload.showSuccessModal" class="status-modal csv-success-modal"><div class="delete-container"><img src="assets/images/close.svg" width="15px" ng-click="upload.showSuccessModal=false; upload.closeUploadModal()" class="pull-right pointer"><div class="success-message">{{upload.modalMessage}}</div></div></div></div>'),t.put("app/components/admin/postpone/postpone.html",'<div ng-controller="PostponeController as postpone" class="postpone-container"><rtl is-rtl="{{main.isRtl}}"><p ng-if="postpone.statusText" class="status-text">{{postpone.statusText}}</p><div translate="POSTPONE.SELECT_INITIATIVES_POSTPONE" class="page-title f20"></div><form name="postponeForm" ng-submit="postpone.modalVisibility = true;" class="initiatives-container"><div ng-repeat="initiativeDetail in postpone.initiativeData track by $index" class="initiative-name"><input id="initiative{{$index}}" name="initiative" type="checkbox" ng-model="initiativeDetail.isSelected"> <label for="initiative{{$index}}">{{initiativeDetail.initiative}}</label></div><label for="days" translate="POSTPONE.DAYS_TO_POSTPONE"></label> <input name="days" type="number" required="required" min="0" ng-model="postpone.daysToBeShifted" class="input-box days-picker"><br><label for="days" translate="POSTPONE.DATE_TO_POSTPONE"></label> <input name="days" type="date" required="required" ng-model="postpone.dateFromShift" class="input-box date-picker"> <button ng-disabled="!postpone.isFormValid()" translate="SUBMIT" class="button submit-button"></button></form><div ng-if="postpone.modalVisibility" class="confirm-modal"><div class="modal-data"><div class="modal-container"><div translate="CONFIRM" class="f20"></div><p translate="POSTPONE.SURE_TO_POSTPONE" class="confirm-text"></p><div class="btn-wrapper pull-right"><button ng-click="postpone.modalVisibility = false" translate="NO" class="button"></button> <button ng-click="postpone.submitForm()" class="button highlight-btn"><span ng-if="postpone.spinnerVisibility"><img src="assets/images/spinner-svg.svg" class="spin-button"></span><span ng-if="!postpone.spinnerVisibility" translate="YES"></span></button></div></div></div></div></rtl></div>'),t.put("app/components/admin/users/create.html",'<div rtl="" is-rtl="{{main.isRtl}}" class="ui visible message"><form name="createForm" ng-submit="user.submitUser()" class="ui create-form"><div class="field"><label translate="NAME"></label> <input type="text" required="" placeholder="{{\'ADMIN.ENTER_NAME\' | translate}}" ng-model="user.userName" class="input-box"></div><div class="field department-field"><p translate="DEPARTMENT"></p><div ng-click="user.dropdownStatus = !user.dropdownStatus" class="button dropdown-button"><span ng-if="user.selectedDept">{{user.selectedDept}}</span><span ng-if="!user.selectedDept" translate="ADMIN.SELECT_DEPARTMENT"></span></div><div ng-show="user.dropdownStatus" class="dropdown-wrapper scrollable-div"><div class="add-department"><div ng-click="user.toggleAddDepartment()" ng-if="!user.isDepartmentAdded()" translate="ADMIN.ADD_DEPARTMENT" class="dept-text"></div><div ng-if="user.isDepartmentAdded()" class="new-department-container"><span ng-click="user.toggleAddDepartment()" class="action-btn text-center"><span>X</span></span> <input ng-model="user.newDepartment" ng-keyup="$event.keyCode == 13 ? user.addDepartment() : null" class="input-box new-department"><span ng-click="user.addDepartment()" class="action-btn text-center"><span>&#10003;</span></span></div></div><div ng-repeat="dept in user.getSortedDepts() track by $index" ng-click="user.selectDepartment(dept,createForm)" class="dropdown-option">{{dept}}</div></div></div><div class="field"><label translate="EMAIL"></label> <input type="email" required="" ng-disabled="!user.emailEditable" placeholder="{{\'ADMIN.ENTER_EMAIL_ID\' | translate}}" ng-model="user.userEmail" class="input-box"></div><div class="field"><p translate="ADMIN.RIGHTS"></p><div class="rights-wrapper"><div ng-repeat="right in user.rights track by $index" class="rights pull-left"><input id="right{{$index}}" name="right" type="checkbox" ng-model="right.isSelected"> <label for="right{{$index}}">{{right.right | translate}}</label></div><div class="rights pull-left"><input id="default-right" checked="checked" type="checkbox" value="true" disabled="disabled"> <label for="default-right" translate="ADMIN.DEFAULT_RIGHTS"></label></div></div></div><button type="submit" ng-disabled="user.isForminvalid(createForm) || user.spinnerVisibility" class="ui button pull-right"><span ng-if="user.spinnerVisibility"><img src="assets/images/spinner-svg.svg" class="spin-button"></span><span ng-if="!user.spinnerVisibility">{{user.mode}}</span></button> <button type="submit" ng-if="user.checkView(&quot;create&quot;)" ng-disabled="createForm.$pristine" ng-click="user.createUserInit();createForm.$setPristine()" translate="ADMIN.RESET" class="ui button pull-right"></button><div class="disclaimer"><div>{{\'ADMIN.NOTE_FOLLOWING\' | translate}}<div>{{\'ADMIN.PROVIDE_RIGHTS\' | translate}}<ul><li translate="ADMIN.GENERAL_USER"></li><li translate="ADMIN.DELIVERY_UNIT"></li><li translate="ADMIN.ADMIN_RIGHTS"></li></ul></div><div>{{\'ADMIN.DEFAULT_RIGHTS_INCLUDE\' | translate}}<ul><li translate="ADMIN.UPDATE_ACTIVITIES_OUTPUT_KPIS_OWNED"></li><li translate="ADMIN.UPDATE_ACTIVITIES_OUTPUT_KPIS_WITHIN"></li></ul></div></div></div></form></div>'),t.put("app/components/admin/users/list.html",'<div rtl="" is-rtl="{{main.isRtl}}" class="grid-container"><div ui-grid="user.gridOptions" ui.grid.resizecolumns="" ng-attr-dir="{{main.isRtl ? \'rtl\' : \'ltr\'}}"></div></div>'),t.put("app/components/admin/users/users.html",'<div ng-controller="UserController as user" class="users-container"><ul rtl="" is-rtl="{{main.isRtl}}" class="nav-tabs"><li><a ng-click="user.setView(&quot;list&quot;)" ng-class="{&quot;active&quot;:user.checkView(&quot;list&quot;)}" translate="ADMIN.LIST_OF_USERS" class="button nav-tab"></a></li><li><a ng-click="user.setView(&quot;create&quot;)" ng-class="{&quot;active&quot;:user.checkView(&quot;create&quot;)||user.checkView(&quot;update&quot;)}" class="button nav-tab">{{user.mode}}</a></li></ul><div ng-if="user.statusText" rtl="" is-rtl="{{main.isRtl}}" class="status-modal"><div class="delete-container"><div class="status-update f20">{{user.statusText}}</div><div ng-click="user.statusText=\'\'; user.setView(\'list\')" translate="FORM.CLOSE" class="button status-button f16"></div></div></div><ng-include src="\'app/components/admin/users/list.html\'" ng-if="user.checkView(&quot;list&quot;)"></ng-include><ng-include src="\'app/components/admin/users/create.html\'" ng-if="user.checkView(&quot;create&quot;)||user.checkView(&quot;update&quot;)"></ng-include><div ng-show="user.deleteConfirmModal" rtl="" is-rtl="{{main.isRtl}}" class="confirm-modal"><div class="modal-data"><div class="modal-container"><div translate="CONFIRM" class="f20"></div><p translate="ADMIN.SURE_TO_DELETE" class="confirm-text"></p><div class="btn-wrapper pull-right"><button ng-click="user.deleteConfirmModal = false" translate="NO" class="button"></button> <button ng-click="user.deleteUser(row.entity)" class="button highlight-btn"><span ng-if="user.spinnerVisibility"><img src="assets/images/spinner-svg.svg" class="spin-button"></span><span ng-if="!user.spinnerVisibility" translate="YES"></span></button></div></div></div></div></div>'),
t.put("app/components/cards/activity/activity.html",'<div ng-init="isCollapsed=true" ng-class="[{\'card__title--collapsed\': isCollapsed}, initiative.statusClass]" ng-click="isCollapsed=!isCollapsed; main.windowResize(); initiative.listIsHidden=false; initiative.evidenceListIsHidden=false" class="initiative card__title activity__card"><div ng-if="initiative.daysDelayed &gt; 0" class="card__delay pull-left"><div ng-class="(initiative.daysDelayed.toString().length &lt; 3) ? \'f18\': \'f14\'">+{{initiative.daysDelayed}}</div><div translate="CARD.DAYS" class="f10"></div></div><div class="card__title__text pull-left"><span title="{{initiative.initiative}}">{{initiative.initiative}}&#x200E;</span></div><div class="card__title__arrow pull-right"><span ng-if="isCollapsed &amp;&amp; initiative.Issues.length !== 0" class="card__title__arrow__issue"><img src="assets/images/issue.svg" width="15px"></span><span ng-if="isCollapsed &amp;&amp; initiative.Issues.length === 0 &amp;&amp; initiative.Risk.length !== 0" class="card__title__arrow__issue"><img src="assets/images/risk.svg" width="15px"></span><span ng-click="initiativeController.editCards(initiative,\'activity\')" ng-if="(main.getUserRights().updateAllActivities || initiative.isEditable || main.getUserRights().crudArtifacts) &amp;&amp; !isCollapsed" class="edit-click"><img src="assets/images/edit.png" width="15px"></span><span class="card__title__arrow__icon pull-right"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsed ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></div></div><div ng-if="initiative.showSpinner" class="card__spinner"></div><div ng-show="!isCollapsed" class="card__content"><div ng-show="initiative.listIsHidden" class="participant-list"><img ng-click="initiative.listIsHidden=!initiative.listIsHidden" src="assets/images/close-footer.svg" width="30px" class="pull-right"><span translate="FORM.PARTICIPANTS" class="f16"></span><table ng-if="initiative.participants.length &gt; 0" class="participant-table"><thead></thead><td translate="PARTICIPANT"></td><td translate="DEPARTMENT"></td><tr ng-repeat="participant in initiative.participants"><td>{{participant.name}}</td><td>{{participant.department}}</td></tr></table><div ng-if="initiative.participants.length === 0" translate="CARD.NO_PARTICIPANTS" class="no-participant"></div></div><table class="activity__table"><thead></thead><td></td><td translate="START_DATE"></td><td translate="END_DATE"></td><tr><td translate="PLANNED"></td><td>{{initiative.plannedStartDateString}}</td><td>{{initiative.plannedEndDateString}}</td></tr><tr><td translate="ACTUAL"></td><td>{{initiative.actualStartDateString}}</td><td>{{initiative.actualEndDateString}}</td></tr></table><div ng-show="initiative.evidenceListIsHidden" class="participant-list"><img ng-click="initiative.evidenceListIsHidden=!initiative.evidenceListIsHidden" src="assets/images/close-footer.svg" width="30px" class="pull-right"><span translate="EVIDENCE" class="f16"></span><div ng-if="initiative.evidence.length &gt; 0"><div ng-repeat="evidence in initiative.evidence track by $index" ng-click="main.openLink(evidence.link)" class="evidence-links pull-left half">{{evidence.title}}<img src="assets/images/link-arrow.svg" width="25px" class="mail pull-right"></div></div><div translate="NO_EVIDENCE" ng-if="initiative.evidence.length === 0" class="no-participant"></div></div></div><div ng-show="!isCollapsed" class="card__footer"><div class="owner pull-left"><img src="assets/images/mail.svg" ng-if="initiative.owner &amp;&amp; initiative.owner.email" width="25px" ng-click="initiativeController.canSendMail(initiative)" class="mail pull-left"><img src="assets/images/no-mail.svg" ng-if="!(initiative.owner &amp;&amp; initiative.owner.email)" width="25px" class="mail pull-left"><div title="{{initiative.owner.department}}" class="dept f10">{{initiative.owner.department}}</div><div title="{{initiative.owner.name}}" class="person f14">{{initiative.owner.name}}</div></div><div class="owner pull-left"><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="initiative.Issues.length &gt; 0" class="issue-log"></a></div><div class="owner pull-left"><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="initiative.Issues.length &gt; 0" class="issue-log pull-right"><img width="20px" src="assets/images/issue.svg" class="issue-icon pull-left"><div translate="CARD.ISSUE_LOG" class="issue-label pull-left"></div></a><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="initiative.Issues.length === 0 &amp;&amp; initiative.Risk.length &gt; 0" class="issue-log pull-right"><img width="20px" src="assets/images/risk.svg" class="issue-icon pull-left"><div translate="CARD.RISK_LOG" class="issue-label pull-left"></div></a><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="(initiative.Issues.length === 0 &amp;&amp; initiative.Risk.length === 0) &amp;&amp; (initiative.isEditable || main.getUserRights().updateAllIssueLogs)" class="add-log pull-right"><img width="20px" src="assets/images/plus.svg" class="plus-icon pull-left"><div translate="CARD.NO_LOG" class="add-label f10 pull-left"></div><div translate="CARD.ADD_NEW" class="f14"></div></a></div><div ng-click="main.toggleFooterMenu(initiative.initiativeId); $event.stopPropagation()" class="three-dots three-dots-footer pull-right"><ul ng-show="main.toggleFooter[initiative.initiativeId]" class="overflow-menu overflow-menu-activity"><li ng-click="initiative.listIsHidden=true; initiative.evidenceListIsHidden=false" class="overflow-menu-item"><div class="participant-link participant-link-activity pointer"><img src="assets/images/participants.svg" width="30px" class="pull-left"><span translate="VIEWERS" class="person viewers-text f14 pointer"></span></div></li><li ng-click="initiative.evidenceListIsHidden=true; initiative.listIsHidden=false" class="overflow-menu-item"><div class="evidence-link pointer"><img ng-show="initiative.evidence.length!==0" src="assets/images/evidence.svg" width="25px" class="evidence pull-left"><img ng-show="initiative.evidence.length===0" src="assets/images/evidence_nill.svg" width="25px" class="evidence pull-left"><span translate="EVIDENCE" class="person f14 f14 pointer"></span></div></li></ul></div></div><div ng-include="\'app/components/email/email.html\'" ng-if="initiativeController.sendEmail &amp;&amp; (initiative.initiativeId === initiativeController.emailInitiativeId)"></div>'),t.put("app/components/cards/initiative/initiative.html",'<div ng-init="isCollapsed=true" ng-class="[{\'card__title--collapsed\': isCollapsed}, initiative.statusClass]" ng-click="isCollapsed=!isCollapsed; main.windowResize(); initiative.listIsHidden=false; initiative.evidenceListIsHidden=false" class="initiative card__title"><div class="card__title__text pull-left"><span title="{{initiative.initiative}}">{{initiative.initiative}}&#x200E;</span></div><div class="card__title__arrow pull-right"><span ng-if="isCollapsed &amp;&amp; initiative.Issues.length !== 0" class="card__title__arrow__issue"><img src="assets/images/issue.svg" width="15px"></span><span ng-if="isCollapsed &amp;&amp; initiative.Issues.length === 0 &amp;&amp; initiative.Risk.length !== 0" class="card__title__arrow__issue"><img src="assets/images/risk.svg" width="15px"></span><span ng-click="initiativeController.editCards(initiative,\'initiative\')" ng-if="(main.getUserRights().crudArtifacts) &amp;&amp; !isCollapsed" class="edit-click"><img src="assets/images/edit.png" width="15px"></span><span class="card__title__arrow__icon"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsed ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></div></div><div ng-if="initiative.showSpinner" class="card__spinner"></div><div ng-if="!isCollapsed" class="card__content"><div class="card__wrap"><div ng-show="initiative.listIsHidden" class="participant-list"><img ng-click="initiative.listIsHidden=!initiative.listIsHidden" src="assets/images/close-footer.svg" width="30px" class="pull-right"><span translate="FORM.PARTICIPANTS" class="f16"></span><table ng-if="initiative.participants.length &gt; 0" class="participant-table"><thead></thead><td translate="PARTICIPANT"></td><td translate="DEPARTMENT"></td><tr ng-repeat="participant in initiative.participants"><td>{{participant.name}}</td><td>{{participant.department}}</td></tr></table><div ng-if="initiative.participants.length === 0" translate="CARD.NO_PARTICIPANTS" class="no-participant"></div></div><div ng-show="initiative.evidenceListIsHidden" class="participant-list"><img ng-click="initiative.evidenceListIsHidden = !initiative.evidenceListIsHidden" src="assets/images/close-footer.svg" width="30px" class="pull-right"><span translate="EVIDENCE" class="f16"></span><div ng-if="initiative.evidence.length &gt; 0"><div ng-repeat="evidence in initiative.evidence track by $index" ng-click="main.openLink(evidence.link)" class="evidence-links pull-left half">{{evidence.title}}<img src="assets/images/link-arrow.svg" width="25px" class="mail pull-right"></div></div><div translate="NO_EVIDENCE" ng-if="initiative.evidence.length === 0" class="no-participant"></div></div><div ng-class="{\'drilldown\': initiative.hasChart}" class="activity f12 pull-left"><div pie-chart="" data-id="initiative.initiativeId" data-value="initiative.activityCount" ng-if="initiative.hasChart" data-has-child="initiative.hasChild" ng-click="initiativeController.onActivityChartClick(initiative)" class="activity__chart pointer"></div><div ng-if="!initiative.hasChart" class="activity--no-data"><img src="assets/images/dummy-graph.svg" width="50px" class="no-data__image"><p translate="CARD.NO_ACTIVITIES" class="no-data__text"></p><a href="#/initiative/{{initiative.initiativeId}}" ng-if="initiative.hasChild" translate="VIEW_NEXT_LAYER" class="no-data__link"></a><a href="#/initiative/{{initiative.initiativeId}}/form/new/" ng-if="!initiative.hasChild &amp;&amp; main.getUserRights().crudArtifacts" class="no-data__link__add"><img src="assets/images/plus.svg" width="15px" class="add-icon pull-left">{{\'INITIATIVE\' | translate}}</a><a href="#/activity/{{initiative.initiativeId}}/form/new/" ng-if="!initiative.hasChild &amp;&amp; main.getUserRights().crudArtifacts" class="no-data__link__add"><img src="assets/images/plus.svg" width="15px" class="add-icon pull-left">{{\'ACTIVITY\' | translate}}</a></div><div translate="CARD.ACTIVITY_LEVEL" class="activity__heading f14"></div></div><div ng-class="{\'drilldown\': initiative.hasKpi}" class="kpi f12 pull-left"><div class="kpi__inner"><div ng-if="initiative.KpiAchievementToTarget" speedometer-chart="" data-initiative="initiative" ng-click="initiativeController.speedometerNavigate(initiative.initiativeId)" class="kpi__chart pointer"></div></div><div ng-if="!initiative.KpiAchievementToTarget" class="kpi--no-data"><img src="assets/images/dummy-graph.svg" width="50px" class="no-data__image"><p ng-if="!initiative.hasKpi" translate="CARD.NO_OUTPUT_KPI" class="no-data__text"></p><p ng-if="initiative.hasKpi" translate="INCOMPLETE_DATA" class="no-data__text"></p><a href="#/initiative/{{initiative.initiativeId}}/output" ng-if="initiative.hasKpi" translate="VIEW_KPI" class="no-data__link"></a><a href="#/output/{{initiative.initiativeId}}/form/new/output/0" ng-if="main.getUserRights().crudArtifacts &amp;&amp; !initiative.hasKpi" class="no-data__link__add"><img src="assets/images/plus.svg" width="15px" class="add-icon">{{\'KPI\' | translate}}</a></div><div title="{{\'CARD.AVG_KPI\' | translate}}" translate="CARD.AVG_KPI" class="kpi__heading f14"></div></div></div></div><div ng-show="!isCollapsed" class="card__footer"><div class="owner pull-left"><img src="assets/images/mail.svg" ng-if="initiative.owner &amp;&amp; initiative.owner.email" width="25px" ng-click="initiativeController.canSendMail(initiative)" class="mail pull-left pointer"><img src="assets/images/no-mail.svg" ng-if="!(initiative.owner &amp;&amp; initiative.owner.email)" width="25px" class="mail pull-left"><div title="{{initiative.owner.department}}" class="dept f10">{{initiative.owner.department}}</div><div title="{{initiative.owner.name}}" class="person f14">{{initiative.owner.name}}</div></div><div class="owner pull-left"><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="initiative.Issues.length &gt; 0" class="issue-log pull-right"><img width="20px" src="assets/images/issue.svg" class="issue-icon pull-left"><div translate="CARD.ISSUE_LOG" class="issue-label pull-left"></div></a><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="initiative.Issues.length === 0 &amp;&amp; initiative.Risk.length &gt; 0" class="issue-log pull-right"><img width="20px" src="assets/images/risk.svg" class="issue-icon pull-left"><div translate="CARD.RISK_LOG" class="issue-label pull-left"></div></a><a ng-href="#/issues/{{initiative.initiativeId}}" ng-if="(initiative.Issues.length === 0 &amp;&amp; initiative.Risk.length === 0) &amp;&amp; (initiative.isEditable || main.getUserRights().updateAllIssueLogs)" class="add-log pull-right"><img width="20px" src="assets/images/plus.svg" class="plus-icon pull-left"><div translate="CARD.NO_LOG" class="add-label f10 pull-left"></div><div translate="CARD.ADD_NEW" class="f14"></div></a></div><div ng-click="main.toggleFooterMenu(initiative.initiativeId); $event.stopPropagation()" class="three-dots three-dots-footer pull-right"><ul ng-show="main.toggleFooter[initiative.initiativeId]" class="overflow-menu"><li ng-click="initiative.listIsHidden=true; initiative.evidenceListIsHidden=false" class="overflow-menu-item"><div class="participant-link participant-link-activity pointer"><img src="assets/images/participants.svg" width="30px" class="pull-left"><span translate="VIEWERS" class="person viewers-text f14 pointer"></span></div></li><li ng-click="initiative.evidenceListIsHidden=true; initiative.listIsHidden=false" class="overflow-menu-item"><div class="evidence-link pointer"><img ng-show="initiative.evidence.length!==0" src="assets/images/evidence.svg" width="25px" class="evidence pull-left"><img ng-show="initiative.evidence.length===0" src="assets/images/evidence_nill.svg" width="25px" class="evidence pull-left"><span translate="EVIDENCE" class="person f14 f14 pointer"></span></div></li></ul></div></div><div ng-include="\'app/components/email/email.html\'" ng-if="initiativeController.sendEmail &amp;&amp; (initiative.initiativeId === initiativeController.emailInitiativeId)"></div>'),t.put("app/components/cards/outcome-kpi/outcome-kpi.html",'<div ng-init="isCollapsed=true" ng-class="[{\'card__title--collapsed\': isCollapsed}, kpi.statusClass]" ng-click="isCollapsed=!isCollapsed; main.windowResize()" rtl="" is-rtl="{{main.isRtl}}" class="card__title"><div class="card__title__text pull-left"><span title="{{kpi.kpi}}" ellipsis="" ng-bind="kpi.kpi"></span></div><div class="card__title__arrow pull-right"><span ng-click="outcome.editKPI(kpi)" ng-if="(main.getUserRights().updateAllOutComeKpis || outcome.initiative.isEditable || main.getUserRights().crudArtifacts) &amp;&amp; !isCollapsed &amp;&amp; !kpi.isEditHidden" class="edit-click"><img src="assets/images/edit.png" width="15px"></span><span class="card__title__arrow__icon"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsed ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></div></div><div ng-if="!isCollapsed" ng-init="kpi.descIsHidden=true" rtl="" is-rtl="{{main.isRtl}}" class="card__content"><div class="card__wrap f12"><div ng-class="{\'drilldown\': kpi.hasDrillDown}" data-kpi="kpi" data-view="outcome.selectedPeriod" data-is-rtl="main.isRtl" chart="" class="chart-dir"></div><div ng-show="!kpi.descIsHidden" class="kpi-desc"><span translate="CARD.KPI_DESC" class="f16"></span><div class="kpi-desc-details">{{kpi.description}}</div></div></div></div><div ng-show="!isCollapsed" rtl="" is-rtl="{{main.isRtl}}" class="card__footer kpi-footer"><div ng-if="kpi.lastMilestone" class="last__milestone-wrap pull-left"><div translate="MILESTONE" class="f10"></div><div class="f12">{{kpi.lastMilestone}}</div></div><div ng-click="kpi.descIsHidden = !kpi.descIsHidden" class="kpi-desc-link pointer"><img ng-show="kpi.descIsHidden" src="assets/images/kpi_info.svg" width="30px"><img ng-show="!kpi.descIsHidden" src="assets/images/close-footer.svg" width="30px"></div><div ng-if="kpi.lastUpdate" class="last__update-wrap pull-right"><div translate="ACTUAL" class="f10"></div><div class="f12">{{kpi.lastUpdate}}</div></div></div>'),t.put("app/components/cards/output-kpi/output-kpi.html",'<div ng-init="isCollapsed=true" ng-class="[{\'card__title--collapsed\': isCollapsed}, kpi.statusClass]" ng-click="isCollapsed=!isCollapsed" rtl="" is-rtl="{{main.isRtl}}" class="card__title"><div class="card__title__text pull-left"><span title="{{kpi.description}}" ellipsis="" ng-bind="kpi.kpi"></span></div><div class="card__title__arrow pull-right"><span ng-click="output.editKPI(kpi)" ng-if="(main.getUserRights().updateAllOutputKpis || output.initiative.isEditable || main.getUserRights().crudArtifacts || kpi.isEditable) &amp;&amp; !isCollapsed" class="edit-click"><img src="assets/images/edit.png" width="15px"></span><span class="card__title__arrow__icon"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsed ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></div></div><rtl is-rtl="{{main.isRtl}}"><div ng-if="!isCollapsed" ng-init="kpi.descIsHidden=true" rtl="" is-rtl="{{main.isRtl}}" class="card__content output__kpi"><div class="card__wrap f12"><div ng-class="{\'drilldown\': kpi.hasDrillDown}" ng-click="output.drilldown(kpi)" data-kpi="kpi" data-is-rtl="main.isRtl" chart="" data-view="output.selectedPeriod" class="kpi__chart pull-left"></div><div class="kpi__hierarchy pull-right"><div translate="INITIATIVE" class="hierarchy__title f12"></div><a ng-href="#/initiative/{{kpi.parentInitiative.parentId}}" class="hierarchy__text f14">{{kpi.parentInitiative.initiative}}&#x200E;</a><div translate="CARD.PARENT_KPI" class="hierarchy__title f12"></div><a ng-href="{{kpi.parentKpiLink}}" class="hierarchy__text f14">{{kpi.parentKPIName || \'No Parent KPI\'}}</a></div><div ng-show="!kpi.descIsHidden" class="kpi-desc"><span translate="CARD.KPI_DESC" class="f16"></span><div class="kpi-desc-details">{{kpi.description}}</div></div></div></div></rtl><div ng-show="!isCollapsed" rtl="" is-rtl="{{main.isRtl}}" class="card__footer kpi-footer"><div ng-if="kpi.lastMilestone" class="last__milestone-wrap pull-left"><div translate="MILESTONE" class="f10"></div><div class="f12">{{kpi.lastMilestone}}</div></div><div ng-click="kpi.descIsHidden = !kpi.descIsHidden" class="kpi-desc-link pointer"><img ng-show="kpi.descIsHidden" src="assets/images/kpi_info.svg" width="30px"><img ng-show="!kpi.descIsHidden" src="assets/images/close-footer.svg" width="30px"></div><div ng-if="kpi.lastUpdate" class="last__update-wrap pull-right"><div translate="ACTUAL" class="f10"></div><div class="f12">{{kpi.lastUpdate}}</div></div></div>'),t.put("app/components/cards/priority/priority.html",'<div ng-init="isCollapsed=false; listIsHidden=true" ng-class="[{\'card__title--collapsed\': isCollapsed}, initiative.statusClass]" ng-click="isCollapsed=!isCollapsed" class="card__title pointer"><div class="card__title__text pull-left"><span title="{{initiative.initiative}}">{{initiative.initiative}}&#x200E;</span></div><div class="card__title__arrow pull-right"><span ng-click="initiativeController.editCards(initiative,\'priority\')" ng-if="(main.getUserRights().crudArtifacts) &amp;&amp; !isCollapsed" class="edit-click"><img src="assets/images/edit.png" width="15px"></span><span class="card__title__arrow__icon"><img src="assets/images/arrow.svg" width="15px" ng-class="isCollapsed ? \'card--isCollapsed\': \'card--isNotCollapsed\'"></span></div></div><div ng-if="initiative.showSpinner" class="card__spinner"></div><div ng-if="!isCollapsed" class="card__content priority-content"><div ng-show="!listIsHidden" class="participant-list"><span translate="FORM.PARTICIPANTS" class="f16"></span><table ng-if="initiative.participants.length &gt; 0" class="participant-table"><thead class="f20"></thead><td translate="PARTICIPANT"></td><td translate="DEPARTMENT"></td><tr ng-repeat="participant in initiative.participants"><td>{{participant.name}}</td><td>{{participant.department}}</td></tr></table><div ng-if="initiative.participants.length === 0" translate="CARD.NO_PARTICIPANTS" class="no-participant"></div></div><div class="card__wrap__priority"><div ng-class="{\'drilldown\': !initiativeController.isNaN(initiative.activityShedule)}" class="activity f12 pull-left"><div ng-if="initiative.hasChart" class="activity__schedule"><div ng-if="!initiativeController.isNaN(initiative.activityShedule)" class="activity__schedule__data"><a href="#/initiative/{{initiative.initiativeId}}" ng-class="initiative.statusClass+\'-text\'">{{initiative.activityShedule}}<span>%</span></a></div><div ng-if="initiativeController.isNaN(initiative.activityShedule)" class="activity--no-data"><img src="assets/images/dummy-graph.svg" width="50px" class="no-data__image"><p translate="CARD.NO_ACTIVITIES" class="no-data__text f12"></p></div></div><div ng-if="!initiative.hasChart" class="activity--no-data"><img src="assets/images/dummy-graph.svg" width="50px" class="no-data__image"><div ng-if="initiative.hasChild" class="no-data__text"><p translate="CARD.NO_ACTIVITIES"></p><a href="#/initiative/{{initiative.initiativeId}}" translate="VIEW_NEXT_LAYER" class="no-data__link"></a></div><div ng-if="!initiative.hasChild" class="no-data__text"><p translate="CARD.NO_ACTIVITIES"></p><a ng-if="main.getUserRights().crudArtifacts" href="#/initiative/{{initiative.initiativeId}}/form/new/" class="no-data__link__add"><img src="assets/images/plus.svg" width="15px" class="add-icon pull-left">{{\'INITIATIVE\' | translate}}</a></div></div><div translate="CARD.ACTIVITIES_SCHEDULE" class="activity__heading f14"></div></div><div ng-class="{\'drilldown\': initiative.KpiAchievementToTarget}" class="kpi f12 pull-left"><div class="kpi__inner"><div ng-if="initiative.KpiAchievementToTarget" speedometer-chart="" data-initiative="initiative" ng-click="main.navigateTo(\'/initiative/\'+initiative.initiativeId)" class="kpi__chart pointer"></div></div><div ng-if="!initiative.KpiAchievementToTarget" class="kpi--no-data"><img src="assets/images/dummy-graph.svg" width="50px" class="no-data__image"><p translate="INCOMPLETE_DATA" class="no-data__text"></p></div><div title="{{\'CARD.AVG_KPI\' | translate}}" translate="CARD.AVG_KPI" class="kpi__heading f14"></div></div></div><ul class="priority__property__list"><li class="priority__property pull-left"><a ng-href="#/summary/{{initiative.initiativeId}}" class="priority__property__link"><img width="25" height="25" src="assets/images/executive-summary-icon.svg" alt="{{\'CARD.WEEKLY_REPORT\' | translate}}" class="priority__property__icon pull-left"><div ng-class="{\'line-height-hack\': initiative.executiveSummary.lastUpdatedOn}" translate="CARD.WEEKLY_REPORT" class="priority__property__text f12"></div><div ng-if="initiative.executiveSummary.lastUpdatedOn" class="priority__property__updated f10">{{initiative.executiveSummary.lastUpdatedOn}}</div></a></li><li class="priority__property pull-left"><a ng-href="#/initiative/{{initiative.initiativeId}}/outcome/0" class="priority__property__link"><img width="25" height="25" src="assets/images/outcome-kpi-report-icon.svg" alt="{{\'OUTCOME_KPI\' | translate}}" class="priority__property__icon pull-left"><div ng-class="{\'line-height-hack\': initiative.outcomeKpi.lastUpdatedOn}" translate="OUTCOME_KPI" class="priority__property__text f12"></div><div ng-if="initiative.outcomeKpi.lastUpdatedOn" class="priority__property__updated f10">{{initiative.outcomeKpi.lastUpdatedOn}}</div></a></li><li class="priority__property pull-left"><a ng-href="#/initiative/{{initiative.initiativeId}}" class="priority__property__link"><img width="25" height="25" src="assets/images/implementation-tracker-icon.svg" alt="{{\'CARD.IMP_TRACKER\' | translate}}" class="priority__property__icon pull-left"><div translate="CARD.IMP_TRACKER" class="priority__property__text f12"></div></a></li></ul></div><div ng-show="!isCollapsed" class="card__footer"><div class="owner pull-left"><img src="assets/images/mail.svg" ng-if="initiative.owner &amp;&amp; initiative.owner.email" width="25px" ng-click="initiativeController.canSendMail(initiative)" class="mail pull-left pointer"><img src="assets/images/no-mail.svg" ng-if="!(initiative.owner &amp;&amp; initiative.owner.email)" width="25px" class="mail pull-left"><div title="{{initiative.owner.department}}" class="dept f10">{{initiative.owner.department}}</div><div title="{{initiative.owner.name}}" class="person f14">{{initiative.owner.name}}</div></div><div ng-click="listIsHidden = !listIsHidden" class="participant-link pointer"><img ng-show="listIsHidden" src="assets/images/participants.svg" width="30px"><img ng-show="!listIsHidden" src="assets/images/close-footer.svg" width="30px"></div></div><div ng-include="\'app/components/email/email.html\'" ng-if="initiativeController.sendEmail &amp;&amp; (initiative.initiativeId === initiativeController.emailInitiativeId)"></div>'),t.put("app/components/forms/activity/activity.html",'<div ng-controller="ActivityFormController as activity" ng-init="activity.deleteModel=false; activity.statusModel=false" class="form-wrap"><rtl is-rtl="{{main.isRtl}}"><div ng-click="main.backTo()" class="back pull-left f20">< {{\'ACTIVITY\' | translate}}</div></rtl><form name="activityForm" novalidate="" rtl="" is-rtl="{{main.isRtl}}" class="kpi-form form-container"><div class="clearfix"><div class="field-full field-spacing"><label>{{\'FORM.ACTIVITY_NAME\' | translate}} *</label> <input type="text" name="name" ng-model="activity.activity" required="" ng-disabled="!main.isActivityEditable()" class="f16"><p ng-show="activityForm.name.$error.required &amp;&amp; !activityForm.name.$pristine" translate="FORM.ACTIVITY_NAME_REQUIRED" class="error-message f12"></p></div><div class="field-full field-spacing"><label translate="FORM.SUB_INITIATIVE"></label> <input type="text" disabled="true" ng-model="activity.parentName" class="f16"></div><div class="field-half field-spacing pull-left filed-first"><label translate="DEPARTMENT"></label><select ng-model="activity.selectedDept" ng-options="department as department for department in activity.deptList" ng-change="activity.selectDept(activity.selectedDept)" disable-control="!main.isActivityEditable()" class="dropdown"></select></div><div class="field-half field-spacing pull-left"><label translate="FORM.OWNER"></label><select ng-model="activity.selectedUser" ng-options="user as user.listLabel for user in activity.selectedUserList" disable-control="!main.isActivityEditable()" class="dropdown"></select></div><div class="field-half field-spacing filed-first pull-left"><label>{{\'FORM.PLANNED_START_DATE\' | translate}} *</label> <input type="date" name="planned-start" ng-model="activity.plannedStartDate" required="required" ng-disabled="!main.isActivityEditable()"><p ng-show="activityForm.planned-start.$error.required &amp;&amp; !activityForm.planned-start.$pristine" translate="FORM.REQ_PLANNED_START_DATE" class="error-message f12"></p></div><div class="field-half field-spacing pull-left"><label translate="FORM.PLANNED_END_DATE"></label> <input type="date" name="planned-end" min="{{activity.plannedStartDate | date :\'yyyy-MM-dd\'}}" ng-model="activity.plannedEndDate" ng-disabled="!main.isActivityEditable()"></div><div class="field-half field-spacing filed-first pull-left"><label translate="FORM.ACTUAL_START_DATE"></label> <input type="date" ng-model="activity.actualStartDate" date-validator-hack=""></div><div class="field-half field-spacing pull-left"><label translate="FORM.ACTUAL_END_DATE"></label> <input type="date" min="{{activity.actualStartDate | date :\'yyyy-MM-dd\'}}" ng-model="activity.actualEndDate" date-validator-hack=""></div><div disable-control="!main.isActivityEditable()" class="field-half field-spacing pull-left"><label translate="FORM.PARTICIPANTS"></label><div ng-if="activity.localLang" isteven-multi-select="" input-model="activity.participantList" output-model="activity.selectedParticipants" button-label="name" item-label="info" tick-property="ticked" max-labels="3" translation="activity.localLang" max-height="200px" search-property="name email" on-open="activity.sortParticipantsList()"></div></div></div><hr><div translate="Evidence" class="evidence-heading f20"></div><div ng-repeat="evidence in activity.totalEvidences track by $index" class="evidence-heading"><div ng-if="evidence.type!==&quot;remove&quot;" class="clearfix"><div class="field-one-third field-spacing filed-first pull-left"><label translate="TITLE"></label> <input type="text" ng-model="evidence.title" required="" class="f16"></div><div class="field-one-third pull-left field-spacing"><label translate="LINK"></label> <input type="url" ng-model="evidence.link" required="" class="f16"></div><div ng-click="activity.deleteEvidence(evidence)" class="cross-btn pointer pull"><img src="assets/images/close-edit.svg" width="20px"></div></div></div><div ng-click="activity.addEvidence()" class="add-new pointer"><img src="assets/images/plus.svg" width="15px"><span translate="ADD_NEW_EVIDENCE" class="add-new-evidence f14"></span></div><div class="field-submit"><rtl is-rtl="{{main.isRtl}}"><button type="submit" ng-disabled="activityForm.$invalid" ng-click="activity.addActivity()" ng-if="activity.addButton" class="form-submit f16 pull-right"><span ng-if="!activity.btnSpinner" translate="FORM.ADD_ACTIVITY"></span><span ng-if="activity.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button type="submit" ng-disabled="activityForm.$invalid" ng-click="activity.editActivity()" ng-if="activity.editButton" class="form-submit f16 pull-right"><span ng-if="!activity.btnSpinner" translate="FORM.SAVE_ACTIVITY"></span><span ng-if="activity.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button ng-click="activity.deleteModel=true" ng-if="activity.editButton &amp;&amp; main.getUserRights().crudArtifacts" class="form-submit f16 pull-right"><span ng-if="!activity.btnSpinner" translate="FORM.DELETE_ACTIVITY"></span><span ng-if="activity.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button></rtl></div></form><div ng-if="activity.deleteModel" rtl="" is-rtl="{{main.isRtl}}" class="delete-modal"><div class="delete-container"><div translate="FORM.DELETE_ACTIVITY" class="delete-title f24"><span class="f16">{{activity.activity}}</span></div><form name="deleteForm" novalidate="" class="delete-form"><div translate="FORM.WARNING_CANNOT_BE_UNDONE" class="warning-text"></div><div class="buttom-wrap"><button ng-click="activity.deleteActivities()" ng-disabled="deleteForm.$invalid" ng-class="{\'create-cursor\': !deleteForm.$invalid}" class="delete-button f16"><span ng-if="!activity.btnSpinner" translate="FORM.YES_DELETE_ACTIVITIES"></span><span ng-if="activity.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button ng-click="activity.deleteModel=false" class="cancel-button f16"><span ng-if="!activity.btnSpinner" translate="CANCEL"></span><span ng-if="activity.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button></div></form></div></div><div ng-if="activity.statusModel" class="status-modal"><div class="delete-container"><div ng-class="{\'error-msg\': activity.isError}" class="status-update f20">{{activity.statusMsg}}</div><div ng-click="main.backTo()" translate="FORM.CLOSE" class="button status-button f16"></div></div></div></div>'),t.put("app/components/forms/initiative/initiative.html",'<div ng-controller="InitiativeFormController as initiativeFC" ng-init="initiativeFC.deleteModel=false; initiativeFC.statusModel=false" class="form-wrap"><rtl is-rtl="{{main.isRtl}}"><div ng-click="main.backTo()" class="back f20 pull-left">< {{initiativeFC.initiativeLabel}}</div></rtl><form name="initiativeForm" novalidate="" rtl="" is-rtl="{{main.isRtl}}" class="kpi-form form-container"><div class="clearfix"><div class="field-full field-spacing"><label>{{initiativeFC.initiativeLabel}} {{\'NAME\' | translate}} *</label> <input type="text" name="name" ng-model="initiativeFC.initiative" required="" class="f16"><p ng-show="initiativeForm.name.$error.required &amp;&amp; !initiativeForm.name.$pristine" class="error-message f12">{{initiativeFC.initiativeLabel}} {{\'FORM.NAME_REQUIRED\' | translate}}</p></div><div class="field-full field-spacing"><label translate="FORM.PARENT"></label> <input type="text" disabled="true" ng-model="initiativeFC.parentName" class="f16"></div><div class="field-half field-spacing pull-left filed-first"><label translate="DEPARTMENT"></label><select ng-model="initiativeFC.selectedDept" ng-options="department as department for department in initiativeFC.deptList" ng-change="initiativeFC.selectDept(initiativeFC.selectedDept)" class="dropdown"></select></div><div class="field-half field-spacing pull-left"><label translate="FORM.OWNER"></label><select ng-model="initiativeFC.selectedUser" ng-options="user as user.listLabel for user in initiativeFC.selectedUserList" class="dropdown"></select></div><div class="field-half field-spacing pull-left"><label translate="FORM.PARTICIPANTS"></label><div ng-if="initiativeFC.localLang" isteven-multi-select="" input-model="initiativeFC.participantList" output-model="initiativeFC.selectedParticipants" button-label="name" item-label="info" tick-property="ticked" max-labels="2" translation="initiativeFC.localLang" max-height="200px" search-property="name email" on-open="initiativeFC.sortParticipantsList()"></div></div></div><div ng-hide="initiativeFC.parentName===&quot;master&quot;"><hr><div translate="Evidence" class="evidence-heading f20"></div><div ng-repeat="evidence in initiativeFC.totalEvidences track by $index" class="evidence-heading"><div ng-if="evidence.type!==&quot;remove&quot;" class="clearfix"><div class="field-one-third field-spacing filed-first pull-left"><label translate="TITLE"></label> <input type="text" ng-model="evidence.title" required="" class="f16"></div><div class="field-one-third pull-left field-spacing"><label translate="LINK"></label> <input type="url" ng-model="evidence.link" required="" class="f16"></div><div ng-click="initiativeFC.deleteEvidence(evidence)" class="cross-btn pointer pull"><img src="assets/images/close-edit.svg" width="20px"></div></div></div><div ng-click="initiativeFC.addEvidence()" class="add-new pointer"><img src="assets/images/plus.svg" width="15px"><span translate="ADD_NEW_EVIDENCE" class="add-new-evidence f14"></span></div></div><div class="field-submit"><rtl is-rtl="{{main.isRtl}}"><button type="submit" ng-disabled="initiativeForm.$invalid" ng-click="initiativeFC.addInitiative()" class="pull-right form-submit f16"><span ng-if="!initiativeFC.btnSpinner">{{initiativeFC.buttonName}}</span><span ng-if="initiativeFC.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button ng-if="initiativeFC.deleteCheck" ng-click="initiativeFC.deleteModel=true" class="pull-right form-submit f16"><span ng-if="!initiativeFC.btnSpinner">{{\'FORM.DELETE\' | translate}} {{initiativeFC.initiativeLabel}}</span><span ng-if="initiativeFC.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button></rtl></div></form><div ng-if="initiativeFC.deleteModel" rtl="" is-rtl="{{main.isRtl}}" class="delete-modal"><div class="delete-container"><div class="delete-title f24">{{\'FORM.DELETE\' | translate}} {{initiativeFC.initiativeLabel}}<span class="f16">{{initiativeFC.initiative}}</span></div><form name="deleteForm" novalidate="" class="delete-form"><div translate="FORM.WARNING_CANNOT_BE_UNDONE" class="warning-text"></div><div class="delete-field"><input id="all-initiative" type="checkbox" ng-model="initiativeFC.allInitiative" required=""> <label for="all-initiative" translate="FORM.ALL_I_A_UNDER_I_DESTROYED" class="f16"></label></div><div class="delete-field"><input id="all-kpis" type="checkbox" ng-model="initiativeFC.allKpis" required=""> <label for="all-kpis" translate="FORM.ALL_KPIS_ASSOCIATED_DELETED" class="f16"></label></div><div class="delete-field"><input id="all-issues" type="checkbox" ng-model="initiativeFC.allIssues" required=""> <label for="all-issues" translate="FORM.ALL_ISSUES_ASSOCIATED_DELETED" class="f16"></label></div><div class="buttom-wrap"><button ng-click="initiativeFC.deleteInitiative()" ng-disabled="deleteForm.$invalid" ng-class="{\'create-cursor\': !deleteForm.$invalid}" class="delete-button f16"><span ng-if="!initiativeFC.btnSpinner">{{\'FORM.YES_DELETE\' | translate}} {{initiativeFC.initiativeLabel}}</span><span ng-if="initiativeFC.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button ng-click="initiativeFC.deleteModel=false" class="cancel-button f16"><span ng-if="!initiativeFC.btnSpinner" translate="CANCEL"></span><span ng-if="initiativeFC.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button></div></form></div></div><div ng-if="initiativeFC.statusModel" class="status-modal"><div class="delete-container"><div ng-class="{\'error-msg\': initiativeFC.isError}" class="status-update f20">{{initiativeFC.statusMsg}}</div><div ng-click="main.backTo()" translate="FORM.CLOSE" class="button status-button f16"></div></div></div></div>'),
t.put("app/components/forms/kpi-form/kpi-form.html",'<rtl is-rtl="{{main.isRtl}}"><div ng-controller="KpiFormController as kpiFC" ng-init="outputKpiFC.deleteModel=false; outputKpiFC.saveModel=false" class="form-wrap kpi-form"><div ng-click="main.backTo()" class="back pull-left f20">< {{kpiFC.kpiLabel}}</div><form name="KpiForm" novalidate="" rtl="" is-rtl="{{main.isRtl}}" class="form-container"><div class="parent-kpi"><div class="field-full clear-both field-spacing"><label>{{kpiFC.parentLabel}}</label> <input type="text" disabled="true" ng-model="kpiFC.initiative" class="f16"></div><div class="field-full clear-both field-spacing"><label>{{kpiFC.kpiLabel}} {{\'NAME\' | translate}} *</label> <input type="text" name="name" ng-model="kpiFC.kpiData.kpi" required="" ng-disabled="!main.isKpiEditable()" class="f16"><p ng-show="KpiForm.name.$error.required &amp;&amp; !KpiForm.name.$pristine" translate="FORM.KPI_NAME_REQUIRED" class="error-message f12"></p></div><div ng-show="kpiFC.parentKpi !== null" class="field-full clear-both field-spacing"><label>{{\'FORM.PARENT\' | translate}} {{kpiFC.kpiLabel}}</label> <input type="text" disabled="true" ng-model="kpiFC.parentKpi" class="f16"></div><div class="field-full clear-both field-spacing"><label>{{\'FORM.DESCRIPTION\' | translate}}</label> <input type="text" ng-model="kpiFC.kpiData.description" ng-disabled="!main.isKpiEditable()" class="f16"></div><div class="clearfix"><div class="field-one-third pull-left field-spacing"><label>{{\'FORM.UOM\' | translate}}</label> <input type="text" name="uom" ng-model="kpiFC.kpiData.uom" ng-disabled="!main.isKpiEditable()" class="f16"><p ng-show="KpiForm.uom.$error.required &amp;&amp; !KpiForm.uom.$pristine" translate="FORM.UOM_REQUIRED" class="error-message f12"></p></div><div class="field-one-third pull-left field-spacing field-one-third-padding"><label>{{\'FORM.BASELINE\' | translate}} *</label> <input round-off="" type="number" name="baseline" ng-model="kpiFC.kpiData.baseline" required="" ng-disabled="!main.isKpiEditable() || (kpiFC.isOutput &amp;&amp; kpiFC.isChildKpi)" class="f16"><p ng-show="KpiForm.baseline.$error.required &amp;&amp; !KpiForm.baseline.$pristine" translate="FORM.BASELINE_REQUIRED" class="error-message f12"></p></div><div class="field-one-third pull-left field-spacing field-one-third-padding"><label>{{\'FINAL_TARGET\' | translate}} *</label> <input round-off="" type="number" name="target" ng-model="kpiFC.kpiData.target" required="" ng-disabled="!main.isKpiEditable() || (kpiFC.isOutput &amp;&amp; kpiFC.isChildKpi)" class="f16"><p ng-show="KpiForm.target.$error.required &amp;&amp; !KpiForm.target.$pristine" translate="FORM.TARGET_REQUIRED" class="error-message f12"></p></div></div><div ng-if="!kpiFC.isOutput" class="clearfix"><div class="field-half-width pull-left field-spacing"><label>{{\'FORM.G_Y_DIFF\' | translate}} (%) *</label> <input round-off="" type="number" name="separator1" ng-model="kpiFC.kpiData.statusSeparator1" required="" ng-disabled="!main.isKpiEditable()" min="0" max="100" class="f16"><p ng-show="KpiForm.separator1.$error.required &amp;&amp; !KpiForm.separator1.$pristine" translate="FORM.S_S_1_REQUIRED" class="error-message f12"></p><p ng-show="KpiForm.separator1.$error.min || KpiForm.separator1.$error.max" translate="FORM.SEPARATOR_VALUE_RANGE" class="error-message f12"></p></div><div class="field-half-width pull-left field-spacing field-one-third-padding"><label>{{\'FORM.Y_R_DIFF\' | translate}} (%) *</label> <input round-off="" type="number" name="separator2" ng-model="kpiFC.kpiData.statusSeparator2" required="" ng-disabled="!main.isKpiEditable()" min="0" max="100" class="f16"><p ng-show="KpiForm.separator2.$error.required &amp;&amp; !KpiForm.separator2.$pristine" translate="FORM.S_S_2_REQUIRED" class="error-message f12"></p><p ng-show="KpiForm.separator2.$error.min || KpiForm.separator2.$error.max" translate="FORM.SEPARATOR_VALUE_RANGE" class="error-message f12"></p></div></div><div class="clearfix"><div class="field-half-width pull-left field-spacing"><label>{{\'FORM.WIDGET_TYPE\' | translate}} *</label><select name="widget" dropdown-name-mapper="" ng-model="kpiFC.kpiData.widget" required="" ng-options="widget as widget for widget in kpiFC.widgets" ng-disabled="!main.isKpiEditable()" class="dropdown f16"></select><p ng-show="KpiForm.widget.$error.required &amp;&amp; !KpiForm.widget.$pristine" translate="FORM.WIDGET_TYPE_REQUIRED" class="error-message f12"></p></div></div><div ng-if="main.isKpiEditable()" class="checkbox-container"><div ng-if="!kpiFC.isLastLevelInitiative" class="field-checkbox"><input id="has-children" type="checkbox" ng-model="kpiFC.hasChildren" ng-disabled="!main.isKpiEditable()" class="pointer"> <label for="has-children" translate="FORM.HAS_CHILDREN" class="pointer"></label></div><div ng-if="kpiFC.hasChildren" class="field-checkbox"><input type="checkbox" id="calcFromChildren" ng-model="kpiFC.kpiData.isCalculated" ng-disabled="!main.isKpiEditable()" class="pointer"> <label for="calcFromChildren" translate="FORM.CALCULATED_FROM_CHILDREN" class="pointer"></label></div></div></div><div ng-if="!(kpiFC.kpiData.isCalculated &amp;&amp; kpiFC.hasChildren) &amp;&amp; !kpiFC.kpiData.linkKpi" class="milestones"><hr><div ng-click="kpiFC.addMilestone()" disable-control="!main.isKpiEditable()" class="add-new pointer"><img src="assets/images/plus.svg" width="20px"><span translate="FORM.ADD_MILESTONE"></span></div><div ng-repeat="milestones in kpiFC.totalMilestones | startFrom:(kpiFC.currentPage*5) | limitTo:5 track by $index" class="milestone-details"><div ng-if="!milestones.deleted" class="clearfix"><div class="field-one-third pull-left field-spacing"><label>{{\'MILESTONE\' | translate}} *</label> <input type="date" name="milestone" ng-model="milestones.timePoint" required="" ng-disabled="!main.isKpiEditable()" class="f16"><p ng-show="KpiForm.milestone.$error.required &amp;&amp; !KpiForm.milestone.$pristine" translate="FORM.MILESTONE_REQUIRED" class="error-message f12"></p></div><div class="field-one-third pull-left field-spacing"><label>{{\'TARGET\' | translate}} *</label> <input round-off="" type="number" name="targetM" ng-model="milestones.targetValue" required="" ng-disabled="!main.isKpiEditable()" class="f16"><p ng-show="KpiForm.targetM.$error.required &amp;&amp; !KpiForm.targetM.$pristine" translate="FORM.TARGET_REQUIRED" class="error-message f12"></p></div><div class="field-one-third pull-left field-spacing"><label translate="ACTUAL"></label> <input round-off="" type="number" name="actual" ng-model="milestones.actualValue" class="f16"></div><div ng-click="kpiFC.deleteMilestone(milestones)" ng-hide="kpiFC.milestonesNotDeleted === 1" disable-control="!main.isKpiEditable()" class="cross-btn pointer"><img src="assets/images/close-edit.svg" width="20px"></div></div></div><div ng-if="kpiFC.milestonesNotDeleted&gt;5" class="pagination-wrapper text-center"><button ng-disabled="kpiFC.currentPage === 0" ng-click="kpiFC.currentPage=kpiFC.currentPage-1" translate="FORM.PREVIOUS" class="button button-white"></button><span class="pagination-status">{{kpiFC.currentPage+1}}/{{(kpiFC.milestonesNotDeleted/5) | ceilFilter}}</span> <button ng-disabled="kpiFC.currentPage &gt;= kpiFC.milestonesNotDeleted/5 - 1" ng-click="kpiFC.currentPage=kpiFC.currentPage+1" translate="FORM.NEXT" class="button button-white"></button></div></div><div ng-if="kpiFC.hasChildren" class="child-kpis"><hr><div translate="FORM.CHILD_KPIS"></div><div ng-repeat="childKpi in kpiFC.totalChildKpi track by $index" ng-if="!childKpi.deleted" class="child-kpi-details"><div ng-if="kpiFC.parentLabel === kpiFC.translations.INITIATIVE" class="field-full field-spacing"><label>{{\'FORM.INITIATIVE_NAME\' | translate}} *</label><select name="childKpiInitiative" ng-init="childKpi.initiativeId" required="" ng-model="childKpi.initiativeId" ng-options="initiative.initiativeId as initiative.initiative for initiative in kpiFC.childInitiatives" ng-disabled="!main.isKpiEditable()" class="dropdown f16"></select></div><div class="field-full field-spacing"><label>{{\'FORM.KPI_NAME\' | translate}} *</label> <input type="text" name="childName{{$index}}" ng-model="childKpi.kpi" required="" ng-disabled="!main.isKpiEditable()" class="input-80 f16"><p ng-show="KpiForm[\'childName{{$index}}\'].$error.required &amp;&amp; !KpiForm[\'childName{{$index}}\'].$pristine" translate="FORM.CHILD_KPI_NAME_REQUIRED" class="error-message f12"></p><div ng-click="kpiFC.editChild(childKpi)" ng-if="kpiFC.isEdit" class="edit-button pointer"><img src="assets/images/edit.svg" width="20px"><span translate="FORM.EDIT_KPI_DETAILS"></span></div></div><div class="field-one-third pull-left field-spacing"><label>{{\'FORM.BASELINE\' | translate}} *</label> <input round-off="" type="number" name="baselineC" ng-model="childKpi.baseline" required="" ng-disabled="!main.isKpiEditable()" class="f16"><p ng-show="KpiForm.baselineC.$error.required &amp;&amp; !KpiForm.baselineC.$pristine" translate="FORM.BASELINE_REQUIRED" class="error-message f12"></p></div><div class="field-one-third pull-left field-spacing target"><label>{{\'TARGET\' | translate}} *</label> <input round-off="" type="number" name="targetC" ng-model="childKpi.target" required="" ng-disabled="!main.isKpiEditable()" class="f16"><p ng-show="KpiForm.targetC.$error.required &amp;&amp; !KpiForm.targetC.$pristine" translate="FORM.TARGET_REQUIRED" class="error-message f12"></p></div><div ng-click="kpiFC.deleteChildKpi($index)" ng-if="main.isKpiEditable()" class="cross-btn pointer"><img src="assets/images/close-edit.svg" ng-if="kpiFC.totalChildKpi.length &gt; 1" width="20px"></div></div><div ng-click="kpiFC.addChildKpi()" ng-if="main.isKpiEditable()" class="add-new pointer"><img src="assets/images/plus.svg" width="20px"><span translate="FORM.ADD_CHILD"></span></div></div><div class="field-submit"><rtl is-rtl="{{main.isRtl}}"><button type="submit" ng-disabled="KpiForm.$invalid" ng-click="kpiFC.addKpi()" class="pull-right form-submit f16"><span ng-if="!kpiFC.btnSpinner">{{kpiFC.buttonName}}</span><span ng-if="kpiFC.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button ng-if="kpiFC.deleteCheck &amp;&amp; main.isKpiEditable()" ng-click="kpiFC.deleteModel=true" translate="FORM.DELETE_KPI" class="pull-right form-submit f16"></button></rtl></div></form><div ng-if="kpiFC.deleteModel" class="delete-modal"><div class="delete-container"><div translate="FORM.DELETE_KPI" class="delete-title f24"><span class="f16">{{kpiFC.kpiData.kpi}}</span></div><form name="deleteForm" novalidate="" class="delete-form"><div translate="FORM.WARNING_CANNOT_BE_UNDONE" class="warning-text"></div><div class="status-update f20">{{kpiFC.statusMsg}}</div><div class="delete-field"><input id="all-child" type="checkbox" ng-model="kpiFC.allChild" required=""> <label for="all-child" translate="FORM.ALL_CHILD_KPIS_CURRENT_KPI_DESTROYED" class="f16"></label></div><div ng-if="!kpiFC.statusMsg" class="buttom-wrap"><button ng-click="kpiFC.deleteKpi()" ng-disabled="deleteForm.$invalid" ng-class="{\'create-cursor\': !deleteForm.$invalid}" class="delete-button form-submit f16"><span ng-if="!kpiFC.btnSpinner" translate="FORM.YES_DELETE_KPI"></span><span ng-if="kpiFC.btnSpinner"><img src="assets/images/spinner-svg.svg" class="spin-button"></span></button> <button ng-click="kpiFC.deleteModel=false" translate="CANCEL" class="cancel-button f16"></button></div></form></div></div><div ng-if="kpiFC.statusModel" class="status-modal"><div class="delete-container"><div ng-class="{\'error-msg\': kpiFC.isError}" class="status-update f20">{{kpiFC.statusMsg}}</div><div ng-click="main.backTo()" translate="FORM.CLOSE" class="button status-button f16"></div></div></div><div ng-if="kpiFC.errorModel" class="status-modal"><div class="delete-container"><div class="status-update f20">{{kpiFC.targetMsg}}</div><div class="status-update f20">{{kpiFC.baselineMsg}}</div><div class="status-update f20">{{kpiFC.separatorMsg}}</div><div class="status-update f20">{{kpiFC.targetMismatchError}}</div><div class="status-update f20">{{kpiFC.actualMsg}}</div><div class="status-update f20">{{kpiFC.errorMsg}}</div><div ng-click="kpiFC.errorModel = false; kpiFC.btnSpinner = false" translate="FORM.CLOSE" class="button status-button f16"></div></div></div></div></rtl>')}]);